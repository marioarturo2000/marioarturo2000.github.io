(this.webpackJsonppixelatl=this.webpackJsonppixelatl||[]).push([[0],{116:function(e,t,n){e.exports=n(129)},129:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(14),r=n.n(o),s=n(96),l=n(26),c=n(15),u=n(16),d=n(18),p=n(17),m=n(204),h=n(199),v=n(200),f=n(46),E=n(201),b=n(98),j=n(205),C=n(202),g=n(206),A=n(213),S=n(182),y=n(133),k=n(166),O=n(77),D=(n(123),n(167)),w=n(168),I=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getColumns=function(){var e=[];e.push({key:"asistente",title:"Asistente",dataKey:"asistenteName",width:150,cellRenderer:function(e){var t=e.cellData,n=e.rowData,o=a.props.appointments.filter((function(e){return e.asistentes.find((function(e){return e.id===n.asistenteId}))}));return i.a.createElement(f.a,{noWrap:!0,variant:"body2"},"(".concat(o.length,") ").concat(t))},headerRenderer:function(){return i.a.createElement("div",null)},frozen:O.b.FrozenDirection.LEFT});for(var t=function(t){var n=a.props.ejecutivos[t];e.push({key:"ejecutivo".concat(t),title:n.name,dataKey:t,width:45,cellRenderer:function(e){var t=e.columnIndex,o=e.rowData,r=o[t-1];return r?i.a.createElement(k.a,{edge:"end",size:"small",onClick:function(){return a.handleClickEditAppointment(r)}},i.a.createElement(D.a,null)):i.a.createElement(k.a,{edge:"end",size:"small",onClick:function(){return a.handleClickAddAppointment(o.asistenteId,n.id)}},i.a.createElement(w.a,null))},headerRenderer:function(e){var t=e.column;return i.a.createElement(f.a,{noWrap:!0,variant:"body2",style:{display:"inline-flex","align-items":"center",height:"130px",width:"100%","writing-mode":"vertical-rl",transform:"rotate(180deg)"}},t.title)}})},n=0;n<a.props.ejecutivos.length;n++)t(n);return e},a.getData=function(){for(var e=[],t=0;t<a.props.asistentes.length;t++){for(var n=a.props.asistentes[t],i={asistenteId:n.id,asistenteName:n.name},o=0;o<a.props.ejecutivos.length;o++){var r=a.props.ejecutivos[o],s=a.getAppointment(n,r);i[o]=null===s||void 0===s?void 0:s.id}e.push(i)}return e},a.handleClickAddAppointment=function(e,t){a.props.onAddAppointment(e,t)},a.handleClickEditAppointment=function(e){a.props.onEditAppointment(e)},a.getAppointment=function(e,t){var n=e.id,i=t.id;return a.props.appointments.find((function(e){return e.asistentes.find((function(e){return e.id===n}))&&e.ejecutivos.find((function(e){return e.id===i}))}))},a.clearActiveCells=function(){Array.from(document.querySelectorAll(".appointment-cell.active")).forEach((function(e){return e.classList.remove("active")}))},a.handleMouseOver=function(e){a.clearActiveCells(),a.getHeaderCells(e.currentTarget).forEach((function(e){return e.classList.add("active")}))},a.handleAsistenteMouseOver=function(e){a.clearActiveCells();for(var t=Array.from(document.querySelectorAll("thead > tr > th.appointment-cell")),n=function(){var t=o[i],n=a.props.ejecutivos.find((function(e){return e.id===t.dataset.ejecutivo}));(!0===e.cgi&&!0===n.cgi||!0===e.latamTopArtistOrFreelanceTalent&&!0===n.latamTopArtistsAndFreelanceTalent||!0===e.newIPs&&!0===n.newIPs||!0===e.newIdeas&&!0===n.newIdes||!0===e.stopMotion&&!0===n.stopMotion||!0===e.topStudio&&!0===n.topStudios||!0===e.twoD&&!0===n.twoD||!0===e.threeD&&!0===n.threeD||!0===e.videogames&&!0===n.videogames)&&t.classList.add("active")},i=0,o=t;i<o.length;i++)n()},a.handleEjecutivoMouseOver=function(e){a.clearActiveCells();for(var t=Array.from(document.querySelectorAll("tbody > tr > th.appointment-cell")),n=function(){var t=o[i],n=a.props.asistentes.find((function(e){return e.id===t.dataset.asistente}));(!0===n.cgi&&!0===e.cgi||!0===n.latamTopArtistOrFreelanceTalent&&!0===e.latamTopArtistsAndFreelanceTalent||!0===n.newIPs&&!0===e.newIPs||!0===n.newIdeas&&!0===e.newIdes||!0===n.stopMotion&&!0===e.stopMotion||!0===n.topStudio&&!0===e.topStudios||!0===n.twoD&&!0===e.twoD||!0===n.threeD&&!0===e.threeD||!0===n.videogames&&!0===e.videogames)&&t.classList.add("active")},i=0,o=t;i<o.length;i++)n()},a.renderCell=function(e){var t=e.columnIndex,n=e.rowIndex,o=e.style,r=null;if(t>0&&0===n){var s=a.props.ejecutivos[t-1];s&&(r=i.a.createElement("div",{className:"appointment-cell",align:"center",style:o,padding:"6px","data-ejecutivo":s.id,onMouseOver:function(){return a.handleEjecutivoMouseOver(s)}},i.a.createElement("span",{style:{"writing-mode":"vertical-rl",transform:"rotate(180deg)"}},s.name)))}else if(0==t&&n>0){var l=a.props.asistentes[n-1];l&&(r=i.a.createElement("div",{className:"appointment-cell",style:o,cursor:"alias","data-asistente":l.id,onMouseOver:function(){return a.handleAsistenteMouseOver(l)}},l.name))}else if(t>0&&n>0){var c=a.props.asistentes[n-1],u=a.props.ejecutivos[t-1];c&&u&&(r=i.a.createElement("div",{style:o},i.a.createElement(k.a,{edge:"end",size:"small",onClick:function(){return a.handleClickEditAppointment(c,u)}},i.a.createElement(D.a,null))))}return r},a.state={columns:[],data:[]},a}return Object(u.a)(n,[{key:"getHeaderCells",value:function(e){var t=[],n=e.dataset.ejecutivo,a=this.getEjecutivoHeaderCells(n);Array.prototype.push.apply(t,a);var i=e.dataset.asistente,o=this.getAsistenteHeaderCells(i);return Array.prototype.push.apply(t,o),t}},{key:"getAsistenteHeaderCells",value:function(e){var t=[],n=Array.from(document.querySelectorAll("tbody > tr > th.appointment-cell")).find((function(t){return t.dataset.asistente===e}));return n&&t.push(n),t}},{key:"getEjecutivoHeaderCells",value:function(e){var t=[],n=Array.from(document.querySelectorAll("thead > tr > th.appointment-cell")).find((function(t){return t.dataset.ejecutivo===e}));return n&&t.push(n),t}},{key:"render",value:function(){var e=this.getColumns(),t=this.getData();return i.a.createElement(O.a,null,(function(n){var a=n.width,o=n.height;return i.a.createElement(O.c,{fixed:!0,columns:e,data:t,height:o,headerHeight:150,width:a})}))}}]),n}(i.a.Component),M=n(33),x=n(169),P=n(170),z=n(212),T=n(172),F=n(173),Y=n(215),H=n(214),V=n(176),N=n(177),L=n(208),q=n(180),B=n(181),W=n(179),U=n(210),J=n(211),R=n(10),Z=n.n(R),_=(n(52),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).getAsistenteAppointments=function(e){var t=e.id;return a.props.appointments.filter((function(e){return e.asistentes.find((function(e){return e.id===t}))}))},a.getEjecutivoAppointments=function(e){var t=e.id;return a.props.appointments.filter((function(e){return e.ejecutivos.find((function(e){return e.id===t}))}))},a.handleCancel=function(){a.setState({open:!1}),a.props.onClose()},a.handleDelete=function(){a.setState({open:!1}),a.props.onClose(),a.props.onDelete(a.state.id)},a.handleCheckedChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.checked))},a.handleFormSubmit=function(e){e.preventDefault(),a.props.onSubmit({id:a.state.id,asistentes:a.state.asistentes,datetime:a.state.datetime,duration:a.state.duration,ejecutivos:a.state.ejecutivos}),a.setState({open:!1}),a.props.onClose()},a.handleValueChange=function(e){return a.handleMultipleValueChange(e.target.name,e.target.value)},a.handleMultipleValueChange=function(e,t){a.setState(Object(M.a)({},e,t),(function(){var e=null;if(a.state.ejecutivos.length>0){var t=a.props.appointments.filter((function(e){return e.ejecutivos.find((function(e){return e.id===a.state.ejecutivos[0].id}))}));e=n.getDatetimeOptionsForEjecutivo(a.state.ejecutivos[0],a.state.duration,t)}else e=n.getDatetimeOptions();var i=a.state.datetime;e.find((function(e){return e.times.find((function(e){return e.value===i}))}))||(i=e.length>0&&e[0].times.length>0?e[0].times[0].value:null),a.setState({datetime:i,datetimeOptions:e})}))},a.makeSelectItems=function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n];t.push(i.a.createElement(x.a,{key:n,disableSticky:!0},a.date));for(var o=0;o<a.times.length;o++){var r=a.times[o];t.push(i.a.createElement(P.a,{key:10*(n+1)+o,value:r.value},r.time))}}return t},Z.a.locale("es"),a.state=n.stateFromProps(e),a}return Object(u.a)(n,[{key:"getAsistenteOptionStyle",value:function(e){var t={},a=this.getAsistenteAppointments(e),i=!1===n.isDatetimeBlockedByAppointments(a,Z()(this.state.datetime),this.state.id);return t["background-color"]=!0===i?"#81c784":"#e57373",t}},{key:"getEjecutivoOptionStyle",value:function(e){var t={},a=this.getEjecutivoAppointments(e);if(e.availability){var i=n.isDatetimeAvailableForEjecutivo(e,Z()(this.state.datetime),this.state.duration,a,this.state.id);t["background-color"]=!0===i?"#81c784":"#e57373"}return t}},{key:"render",value:function(){var e=this,t=this.state,n=t.asistentes,a=t.asistentesOptions,o=t.datetime,r=t.datetimeOptions,s=t.duration,l=t.ejecutivos,c=t.ejecutivosOptions,u=t.id,d=t.openAlert;return i.a.createElement(z.a,{disableBackdropClick:!0,open:this.state.open,onClose:this.handleCancel,fullWidth:!0,maxWidth:"sm"},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement(T.a,null,"Cita"),i.a.createElement(F.a,null,i.a.createElement(U.a,{multiple:!0,value:n,onChange:function(t,n){return e.handleMultipleValueChange("asistentes",n)},options:a,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,fullWidth:!0,required:!0,renderInput:function(e){return i.a.createElement(Y.a,Object.assign({},e,{label:"Asistentes",margin:"normal"}))},renderTags:function(t,n){return t.map((function(t,a){return i.a.createElement(H.a,Object.assign({label:t.name,style:e.getAsistenteOptionStyle(t)},n({index:a})))}))}}),i.a.createElement(U.a,{multiple:!0,value:l,onChange:function(t,n){return e.handleMultipleValueChange("ejecutivos",n)},options:c,getOptionLabel:function(e){return e.name},filterSelectedOptions:!0,fullWidth:!0,required:!0,renderInput:function(e){return i.a.createElement(Y.a,Object.assign({},e,{label:"Ejecutivos",margin:"normal"}))},renderTags:function(t,n){return t.map((function(t,a){return i.a.createElement(H.a,Object.assign({icon:!0===t.isJury&&i.a.createElement(W.a,null),label:t.name,style:e.getEjecutivoOptionStyle(t)},n({index:a})))}))}}),i.a.createElement(Y.a,{label:"Duraci\xf3n (minutos)",type:"number",name:"duration",value:s,onChange:this.handleValueChange,required:!0,margin:"normal",inputProps:{min:10,step:10},InputLabelProps:{shrink:!0}}),i.a.createElement(V.a,{fullWidth:!0,margin:"normal"},i.a.createElement(N.a,{shrink:!0},"Fecha y hora"),i.a.createElement(L.a,{name:"datetime",value:o,onChange:this.handleValueChange,renderValue:function(e){return e?Z()(e).format("DD MMM, HH:mm"):""}},this.makeSelectItems(r))),i.a.createElement(q.a,{in:d},i.a.createElement(J.a,{severity:"error"},"This is an error alert \u2014 check it out!"))),i.a.createElement(B.a,null,u&&i.a.createElement(y.a,{onClick:this.handleDelete,color:"secondary"},"Eliminar"),i.a.createElement(y.a,{onClick:this.handleCancel},"Cancelar"),this.props.onSubmit&&i.a.createElement(y.a,{type:"submit",color:"primary"},"Aceptar"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!0===e.open&&!1===t.open?n.stateFromProps(e):t}}]),n}(i.a.Component));_.stateFromProps=function(e){var t=e.appointment;if(t){var n=null;if(t.ejecutivos.length>0){var a=e.appointments.filter((function(e){return e.ejecutivos.find((function(t){return t.id===e.ejecutivos[0].id}))}));n=_.getDatetimeOptionsForEjecutivo(t.ejecutivos[0],t.duration,a)}else n=_.getDatetimeOptions();return{open:e.open,openAlert:!1,id:t.id,appointments:e.appointments,asistentes:t.asistentes,asistentesOptions:e.asistentes||t.asistentes,datetime:t.datetime,datetimeOptions:n,duration:t.duration,ejecutivos:t.ejecutivos,ejecutivosOptions:e.ejecutivos||t.ejecutivos}}var i=[];e.asistente&&i.push(e.asistente);var o=[];e.ejecutivo&&o.push(e.ejecutivo);var r=[];e.appointments&&o.length>0&&(r=e.appointments.filter((function(e){return e.ejecutivos.find((function(e){return e.id===o[0].id}))})));var s=o.length>0?_.getDatetimeOptionsForEjecutivo(o[0],30,r):_.getDatetimeOptions();return{open:e.open,openAlert:!1,id:null,appointments:e.appointments,asistentes:i,asistentesOptions:e.asistentes,datetime:s.length>0&&s[0].times.length>0?s[0].times[0].value:null,datetimeOptions:s,duration:20,ejecutivos:o,ejecutivosOptions:e.ejecutivos}},_.getDatetimeOptions=function(){for(var e=[],t=Z.a.tz("2020-08-31","America/Mexico_City"),n=0;n<6;n++){for(var a={date:t.clone().add(n,"day").format("YYYY-MM-DD"),times:[]},i=8;i<=16;i++)for(var o=0;o<=6;o++)if(!(16===i&&o>=5)){var r=t.clone().add(n,"day").add(i,"hour").add(10*o,"minute");a.times.push({time:r.format("HH:mm"),value:r.format()})}e.push(a)}return e},_.getDatetimeOptionsForEjecutivo=function(e,t,n){var a=[];if(e){var i,o=[],r=Object(l.a)(e.availability);try{for(r.s();!(i=r.n()).done;){var s=i.value,c=Z()(s.datetime).format("YYYY-MM-DD");!1===o.includes(c)&&o.push(c)}}catch(u){r.e(u)}finally{r.f()}o.sort(),a=(a=o.map((function(a){var i,o={date:a,times:[]},r=Object(l.a)(e.availability);try{for(r.s();!(i=r.n()).done;){var s=i.value,c=Z()(s.datetime);if(c.format("YYYY-MM-DD")===a)!0===_.isDatetimeAvailableForEjecutivo(e,c,t,n)&&o.times.push({time:c.format("HH:mm"),value:s.datetime})}}catch(u){r.e(u)}finally{r.f()}return o}))).filter((function(e){return e.times.length>0}))}return a},_.isDatetimeAvailableForEjecutivo=function(e,t,n,a,i){for(var o=!0,r=function(n){var r=t.clone().add(10*n,"minutes");return e.availability.find((function(e){return e.datetime===r.format()}))?!0===_.isDatetimeBlockedByAppointments(a,r,i)?(o=!1,"break"):void 0:(o=!1,"break")},s=0;s<n/10;s++){if("break"===r(s))break}return o},_.isDatetimeBlockedByAppointments=function(e,t,n){var a,i=!1,o=Object(l.a)(e);try{for(o.s();!(a=o.n()).done;){var r=a.value;if(!n||r.id!==n){for(var s=Z()(r.datetime),c=0;c<r.duration/10;c++){if(!0===s.clone().add(10*c,"minutes").isSame(t)){i=!0;break}}if(!0===i)break}}}catch(u){o.e(u)}finally{o.f()}return i};var X=_,G=n(93);function K(e){var t=Object(G.a)(new Set(e.filter((function(e){return!!e.ideatoonProjects})).flatMap((function(e){return e.ideatoonProjects}))));return t.sort((function(e,t){return function(e,t){var n=e.toUpperCase(),a=t.toUpperCase();if(n<a)return-1;if(n>a)return 1;return 0}(e,t)})),t}function Q(e){var t=e.filter((function(e){return!0===e.isJury}));return t.sort((function(e,t){return ee(e,t)})),t}function $(e,t){if(!e.datetime)return-1;if(!t.datetime)return-1;var n=Z()(e.datetime),a=Z()(t.datetime);return!0===n.isBefore(a)?-1:!0===a.isBefore(n)?1:0}function ee(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0}var te=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClickAddAppointment=function(e,t){var n=a.props.asistentes.find((function(t){return t.id===e})),i=a.props.ejecutivos.find((function(e){return e.id===t}));a.setState({inputAppointmentComponentIsOpened:!0,inputAsistente:n,inputEjecutivo:i})},a.handleClickEditAppointment=function(e){var t=a.props.appointments.find((function(t){return t.id===e}));a.setState({inputAppointmentComponentIsOpened:!0,inputAppointment:t})},a.handleClickExport=function(){var e,t,n,i=a.props.appointments.filter((function(e){return e.datetime})).sort((function(e,t){return $(e,t)})),o="",r=Object(l.a)(i);try{for(r.s();!(n=r.n()).done;){var s=n.value;if(s.datetime&&s.ejecutivos&&s.asistentes&&s.duration){var c=Z()(s.datetime),u=Z.a.tz(c.format("YYYY-MM-DDTHH:mm"),"America/Mexico_City");e&&e===u.format("dddd DD MMMM")||(o+=(e=u.format("dddd DD MMMM"))+"\r\n\r\n"),t&&t===u.format("hh:mm A z (Z)")||(t=u.format("hh:mm A z (Z)"),o+="\t"+u.tz("America/Mexico_City").format("hh:mm A z (Z)"),o+="\r\n"),o+="\r\n",s.ejecutivos.length>0&&(o+="\t\tEjecutivos: "+s.ejecutivos.map((function(e){return e.name})).join(" | ")+"\r\n"),s.asistentes.length>0&&(o+="\t\tAsistentes: "+s.asistentes.map((function(e){return e.name})).join(" | ")+"\r\n"),o+="\t\tDuraci\xf3n: "+s.duration+"min\r\n\r\n"}}}catch(d){r.e(d)}finally{r.f()}a.copy(o),a.setState({snackbarOpen:!0})},a.copy=function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+n)}catch(a){console.error("Fallback: Oops, unable to copy",a)}document.body.removeChild(t)},a.handleDeleteAppointment=function(e){a.props.onDeleteAppointment(e)},a.handleInputAppointmentClose=function(){a.setState({inputAppointmentComponentIsOpened:!1,inputAppointment:null})},a.handleSelectAsistente=function(e){a.setState({selectedAsistente:e})},a.handleSelectEjecutivo=function(e){a.setState({selectedEjecutivo:e})},a.handleSnackbarClose=function(){a.setState({snackbarOpen:!1})},a.handleSubmitAppointment=function(e){a.props.onSubmitAppointment(e)},a.state={inputAppointment:null,inputAppointmentComponentIsOpened:!1,jurados:Q(a.props.ejecutivos),selectedAsistente:null,selectedEjecutivo:null,snackbarOpen:!1},Z.a.locale("es"),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state.snackbarOpen,t=this.props,n=t.appointments,a=t.asistentes,o=t.ejecutivos;return i.a.createElement(m.a,null,i.a.createElement(X,{open:this.state.inputAppointmentComponentIsOpened,appointment:this.state.inputAppointment,appointments:n,asistente:this.state.inputAsistente,asistentes:a,ejecutivo:this.state.inputEjecutivo,ejecutivos:o,onClose:this.handleInputAppointmentClose,onDelete:this.handleDeleteAppointment,onSubmit:this.handleSubmitAppointment}),i.a.createElement(A.a,{open:e,onClose:this.handleSnackbarClose,autoHideDuration:3e3,message:"Agenda copiada"}),i.a.createElement(S.a,{container:!0,spacing:2,style:{height:"500px"}},i.a.createElement(S.a,{item:!0,xs:12,style:{height:"500px"}},i.a.createElement(I,{appointments:n,asistentes:a,ejecutivos:o,onAddAppointment:this.handleClickAddAppointment,onEditAppointment:this.handleClickEditAppointment})),i.a.createElement(S.a,{item:!0,xd:12},i.a.createElement(m.a,{display:"flex",justifyContent:"flex-end",alignItems:"center"},i.a.createElement(y.a,{style:{"margin-top":"5px"},onClick:this.handleClickExport},"Exportar")))))}}]),n}(i.a.Component),ne=n(207),ae=n(194),ie=n(195),oe=n(196),re=n(131),se=n(183),le=n(217),ce=n(185),ue=n(186),de=n(94),pe=n(184),me=n(187),he=n(53),ve=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleItemDelete=function(e){a.props.onDelete(e)},a.handleItemEdit=function(e){a.props.onEdit(e)},a.handleItemSelect=function(e){var t=a.props.asistentes.find((function(t){return t.id===e}));a.setState({selectedAsistente:t}),a.props.onSelect(t),a.refs.list.forceUpdate()},a.handleSendSchedule=function(e){a.props.onSendSchedule(e)},a.renderRow=function(e){var t=e.index,n=e.style,o=a.props.asistentes[t],r=a.state.selectedAsistente;return i.a.createElement(fe,{key:o.id,id:o.id,style:n,name:o.name,ideatoonProjects:o.ideatoonProjects,isSelected:o.id===(null===r||void 0===r?void 0:r.id),studio:o.studio,timezone:o.timezone,onDelete:a.handleItemDelete,onEdit:a.handleItemEdit,onSelect:a.handleItemSelect,onSendSchedule:a.handleSendSchedule})},a.state={selectedAsistente:null},a}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.refs.list.forceUpdate(),!0}},{key:"render",value:function(){var e=this.props.asistentes;return i.a.createElement(he.b,{ref:"list",itemSize:80,itemCount:e.length,height:400},this.renderRow)}}]),n}(i.a.Component),fe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleItemClick=function(){a.props.onSelect(a.props.id)},a.handleItemEdit=function(){a.props.onEdit(a.props.id),a.setState({anchorEl:null})},a.handleItemDelete=function(){a.props.onDelete(a.props.id),a.setState({anchorEl:null})},a.handleMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleSendSchedule=function(){a.props.onSendSchedule(a.props.id),a.setState({anchorEl:null})},a.state={anchorEl:null},a}return Object(u.a)(n,[{key:"render",value:function(){var e;return i.a.createElement(re.a,{button:!0,dense:!0,selected:this.props.isSelected,ContainerProps:{style:this.props.style},ContainerComponent:"div",onClick:this.handleItemClick},i.a.createElement(se.a,null,this.props.ideatoonProjects&&this.props.ideatoonProjects.length>0?i.a.createElement(le.a,null,i.a.createElement(pe.a,null)):i.a.createElement(le.a,null)),i.a.createElement(ce.a,{primary:this.props.name,primaryTypographyProps:{noWrap:!0},secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{variant:"body2",noWrap:!0},this.props.studio),i.a.createElement(f.a,{variant:"body2",noWrap:!0},this.props.ideatoonProjects&&this.props.ideatoonProjects.length>0&&"Ideatoon: "+this.props.ideatoonProjects.join(", ")),i.a.createElement(f.a,{variant:"body2",noWrap:!0},null!==(e=this.props.timezone)&&void 0!==e?e:"No timezone"))}),i.a.createElement(ue.a,null,i.a.createElement(k.a,{edge:"end",onClick:this.handleMenuOpen},i.a.createElement(me.a,null)),i.a.createElement(de.a,{anchorEl:this.state.anchorEl,keepMounted:!0,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose},i.a.createElement(P.a,{onClick:this.handleItemEdit},"Editar"),i.a.createElement(P.a,{onClick:this.handleItemDelete},"Eliminar"),i.a.createElement(P.a,{onClick:this.handleSendSchedule},"Enviar Agenda"))))}}]),n}(i.a.Component),Ee=ve,be=n(188),je=n(209),Ce=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleCancel=function(){a.setState({open:!1}),a.props.onClose()},a.handleCheckedChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.checked))},a.handleFormSubmit=function(e){e.preventDefault(),a.props.onSubmit({id:a.state.id,name:a.state.name.trim(),ideatoonProjects:a.state.ideatoonProjects,cgi:a.state.cgi,latamTopArtistOrFreelanceTalent:a.state.latamTopArtistOrFreelanceTalent,newIPs:a.state.newIPs,newIdeas:a.state.newIdeas,stopMotion:a.state.stopMotion,studio:a.state.studio,timezone:a.state.timezone,topStudio:a.state.topStudio,twoD:a.state.twoD,threeD:a.state.threeD,videogames:a.state.videogames}),a.setState({open:!1}),a.props.onClose()},a.handleValueChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleMultipleValueChange=function(e,t){a.setState(Object(M.a)({},e,t))},Z.a.locale("es"),a.state=n.stateFromProps(e),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.ideatoonProjectOptions,o=t.ideatoonProjects,r=t.topStudio,s=t.cgi,l=t.latamTopArtistOrFreelanceTalent,c=t.newIPs,u=t.newIdeas,d=t.stopMotion,p=t.studio,m=t.twoD,h=t.threeD,v=t.timezone,f=t.videogames;return i.a.createElement(z.a,{disableBackdropClick:!0,open:this.state.open,onClose:this.handleCancel},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement(T.a,null,"Asistente"),i.a.createElement(F.a,null,i.a.createElement(Y.a,{autoFocus:!0,fullWidth:!0,label:"Name",margin:"dense",name:"name",required:!0,type:"text",value:n,onChange:this.handleValueChange}),i.a.createElement(Y.a,{fullWidth:!0,label:"Studio name",margin:"dense",name:"studio",type:"text",value:p,onChange:this.handleValueChange}),i.a.createElement(U.a,{multiple:!0,value:o,onChange:function(t,n){return e.handleMultipleValueChange("ideatoonProjects",n)},selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,options:a,freeSolo:!0,filterSelectedOptions:!0,renderInput:function(e){return i.a.createElement(Y.a,Object.assign({},e,{label:"Ideatoon project",margin:"dense"}))}}),i.a.createElement(U.a,{value:v,onChange:function(t,n){return e.handleMultipleValueChange("timezone",n)},options:Z.a.tz.names(),filterSelectedOptions:!0,renderInput:function(e){return i.a.createElement(Y.a,Object.assign({},e,{label:"Timezone",margin:"dense"}))}}),i.a.createElement(be.a,{label:"2D",control:i.a.createElement(je.a,{checked:m,onChange:this.handleCheckedChange,name:"twoD"})}),i.a.createElement(be.a,{label:"3D",control:i.a.createElement(je.a,{checked:h,onChange:this.handleCheckedChange,name:"threeD"})}),i.a.createElement(be.a,{label:"Videogames",control:i.a.createElement(je.a,{checked:f,onChange:this.handleCheckedChange,name:"videogames"})}),i.a.createElement(be.a,{label:"Stop motion",control:i.a.createElement(je.a,{checked:d,onChange:this.handleCheckedChange,name:"stopMotion"})}),i.a.createElement(be.a,{label:"CGI",control:i.a.createElement(je.a,{checked:s,onChange:this.handleCheckedChange,name:"cgi"})}),i.a.createElement(be.a,{label:"Studio that provide services or work-from-hire",control:i.a.createElement(je.a,{checked:r,onChange:this.handleCheckedChange,name:"topStudio"})}),i.a.createElement(be.a,{label:"Latam top artist or freelance talent",control:i.a.createElement(je.a,{checked:l,onChange:this.handleCheckedChange,name:"latamTopArtistOrFreelanceTalent"})}),i.a.createElement(be.a,{label:"New IPs in development",control:i.a.createElement(je.a,{checked:c,onChange:this.handleCheckedChange,name:"newIPs"})}),i.a.createElement(be.a,{label:"Rising and 'under the radar' studios",control:i.a.createElement(je.a,{checked:u,onChange:this.handleCheckedChange,name:"newIdeas"})})),i.a.createElement(B.a,null,i.a.createElement(y.a,{onClick:this.handleCancel},"Cancelar"),i.a.createElement(y.a,{type:"submit",color:"primary"},"Aceptar"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!0===e.open&&!1===t.open?n.stateFromProps(e):t}}]),n}(i.a.Component);Ce.stateFromProps=function(e){var t=e.asistente;return{open:e.open,id:(null===t||void 0===t?void 0:t.id)||null,name:(null===t||void 0===t?void 0:t.name)||"",ideatoonProjects:(null===t||void 0===t?void 0:t.ideatoonProjects)||[],ideatoonProjectOptions:e.ideatoonProjects,cgi:(null===t||void 0===t?void 0:t.cgi)||!1,latamTopArtistOrFreelanceTalent:(null===t||void 0===t?void 0:t.latamTopArtistOrFreelanceTalent)||!1,newIPs:(null===t||void 0===t?void 0:t.newIPs)||!1,newIdeas:(null===t||void 0===t?void 0:t.newIdeas)||!1,studio:(null===t||void 0===t?void 0:t.studio)||"",stopMotion:(null===t||void 0===t?void 0:t.stopMotion)||!1,timezone:(null===t||void 0===t?void 0:t.timezone)||"",topStudio:(null===t||void 0===t?void 0:t.topStudio)||!1,twoD:(null===t||void 0===t?void 0:t.twoD)||!1,threeD:(null===t||void 0===t?void 0:t.threeD)||!1,videogames:(null===t||void 0===t?void 0:t.videogames)||!1}};var ge=n(189),Ae=n(190),Se=n(191),ye=n(192),ke=n(193),Oe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).clearActiveCells=function(){Array.from(document.querySelectorAll(".calendar-cell.active")).forEach((function(e){return e.classList.remove("active")}))},a.clearAppointmentCells=function(){Array.from(document.querySelectorAll(".calendar-cell.appointment")).forEach((function(e){e.removeAttribute("data-appointment-id"),e.classList.remove("appointment")}))},a.clearAvailableCells=function(){Array.from(document.querySelectorAll(".calendar-cell.available")).forEach((function(e){return e.classList.remove("available")}))},a.handleClick=function(e){if(a.props.ejecutivo){var t=a.getAdjacentCells(e.target);!0===e.target.classList.contains("available")?t.forEach((function(e){return e.classList.remove("available")})):t.forEach((function(e){return e.classList.add("available")}));var n=a.getInputAvailability();a.props.onSubmitAvailability(n)}else if(a.props.asistente){var i=e.target.dataset.appointmentId;i&&a.setState({inputAppointment:a.props.appointments.find((function(e){return e.id===i})),inputAppointmentComponentIsOpened:!0})}},a.handleDeleteAppointment=function(e){return a.props.onDeleteAppointment(e)},a.handleInputAppointmentClose=function(){return a.setState({inputAppointmentComponentIsOpened:!1})},a.handleMouseOver=function(e){a.props.ejecutivo&&(a.clearActiveCells(),a.getAdjacentCells(e.target).forEach((function(e){return e.classList.add("active")})),a.getHeaderCells(e.target).forEach((function(e){return e.classList.add("active")})))};for(var i=[],o=0;o<144;o++){var r=10*o,s="",l=r%60,u=(r-l)/60;!0===(r%60===0)&&(s+=0===u?"12":u<10?"0"+u:u,0!==l&&(s+=":",s+=0===l?"00":l<10?"0"+l:l));for(var d=[],p=Z.a.tz("2020-08-31","America/Mexico_City"),m=0;m<6;m++){var h=p.clone().add(m,"day").add(u,"hour").add(l,"minute").format();d.push({datetime:h})}i.push({displayTime:s,hour:u,cells:d})}return a.state={inputAppointment:null,inputAppointmentComponentIsOpened:!1,rows:i,timezone:"America/Mexico_City"},a}return Object(u.a)(n,[{key:"componentDidUpdate",value:function(e){(this.props.ejecutivo||this.props.asistente)&&e.ejecutivo===this.props.ejecutivo&&e.asistente===this.props.asistente&&e.appointments===this.props.appointments||(this.clearActiveCells(),this.clearAppointmentCells()),e.ejecutivo!==this.props.ejecutivo&&(this.clearAvailableCells(),this.props.ejecutivo&&(this.displayAvailability(this.props.ejecutivo.availability),this.displayEjecutivoAppointments())),this.props.asistente&&this.displayAsistenteAppointments()}},{key:"displayAvailability",value:function(e){document.querySelectorAll("td.calendar-cell").forEach((function(t){e.forEach((function(e){t.dataset.datetime===e.datetime&&t.classList.add("available")}))}))}},{key:"displayAsistenteAppointments",value:function(){var e=this;this.props.appointments.forEach((function(t){if(t.asistentes.find((function(t){return t.id===e.props.asistente.id})))for(var n=Array.from(document.querySelectorAll("td.calendar-cell")),a=function(e){var a=Z()(t.datetime).add(10*e,"minute").format(),i=n.find((function(e){return e.dataset.datetime===a}));i&&(i.setAttribute("data-appointment-id",t.id),i.classList.add("appointment"),0===t.ejecutivos.length&&i.classList.add("extra"))},i=0;i<t.duration/10;i++)a(i)}))}},{key:"displayEjecutivoAppointments",value:function(){var e=this;this.props.appointments.forEach((function(t){if(t.ejecutivos.find((function(t){return t.id===e.props.ejecutivo.id})))for(var n=Array.from(document.querySelectorAll("td.calendar-cell")),a=function(e){var a=Z()(t.datetime).add(10*e,"minute").format();n.find((function(e){return e.dataset.datetime===a})).classList.add("appointment")},i=0;i<t.duration/10;i++)a(i)}))}},{key:"getAdjacentCells",value:function(e){var t=Z()(e.dataset.datetime),n=t.format("YYYY-MM-DD"),a=t.format("H"),i=t.format("m");return Array.from(document.querySelectorAll("td.calendar-cell")).filter((function(e){var t=Z()(e.dataset.datetime),o=t.format("YYYY-MM-DD"),r=t.format("H"),s=t.format("m");return o===n&&(r===a&&(i<30&&s<30||i>=30&&s>=30))}))}},{key:"getHeaderCells",value:function(e){var t=Z()(e.dataset.datetime).format("YYYY-MM-DD"),n=Z()(e.dataset.datetime).format("H"),a=[],i=Array.from(document.querySelectorAll("thead > tr > th.calendar-cell")).find((function(e){return e.dataset.date===t}));a.push(i);var o=Array.from(document.querySelectorAll("tbody > tr > th.calendar-cell")).find((function(e){return e.dataset.hour===n}));return a.push(o),a}},{key:"getInputAvailability",value:function(){var e=Array.from(document.querySelectorAll("td.calendar-cell.available")).map((function(e){return{datetime:e.dataset.datetime}}));return e.id=this.props.ejecutivo.id,e}},{key:"render",value:function(){var e=this;return i.a.createElement(m.a,null,i.a.createElement(X,{open:this.state.inputAppointmentComponentIsOpened,appointment:this.state.inputAppointment,appointments:this.props.appointments,onClose:this.handleInputAppointmentClose,onDelete:this.handleDeleteAppointment}),i.a.createElement(ge.a,null,i.a.createElement(Ae.a,null,i.a.createElement(Se.a,null,i.a.createElement(ye.a,null),i.a.createElement(ye.a,{className:"calendar-cell",align:"center","data-date":"2022-09-05"},"Sep 5",i.a.createElement("br",null),"Lunes"),i.a.createElement(ye.a,{className:"calendar-cell",align:"center","data-date":"2022-09-06"},"Sep 6",i.a.createElement("br",null),"Martes"),i.a.createElement(ye.a,{className:"calendar-cell",align:"center","data-date":"2022-09-07"},"Sep 7",i.a.createElement("br",null),"Mi\xe9rcoles"),i.a.createElement(ye.a,{className:"calendar-cell",align:"center","data-date":"2022-09-08"},"Sep 8",i.a.createElement("br",null),"Jueves"),i.a.createElement(ye.a,{className:"calendar-cell",align:"center","data-date":"2022-09-09"},"Sep 9",i.a.createElement("br",null),"Viernes"),i.a.createElement(ye.a,{className:"calendar-cell",align:"center","data-date":"2022-09-10"},"Sep 10",i.a.createElement("br",null),"S\xe1bado"))),i.a.createElement(ke.a,{onMouseLeave:this.clearActiveCells},this.state.rows.map((function(t,n){return i.a.createElement(Se.a,{key:n},t.displayTime.length>0&&i.a.createElement(ye.a,{className:"calendar-cell",rowSpan:6,component:"th",scope:"row",onMouseOver:e.clearActiveCells,"data-hour":t.hour},t.displayTime),t.cells.map((function(t,n){return i.a.createElement(ye.a,{key:n,className:"calendar-cell",onClick:e.handleClick,onMouseOver:e.handleMouseOver,"data-datetime":t.datetime})})))})))))}}]),n}(i.a.Component),De=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClickAddAsistente=function(){a.setState({inputAsistenteComponentIsOpened:!0})},a.handleDeleteAsistente=function(e){var t;(null===(t=a.state.selectedAsistente)||void 0===t?void 0:t.id)===e&&a.setState({selectedAsistente:null}),a.props.onDeleteAsistente(e)},a.handleDeleteAppointment=function(e){return a.props.onDeleteAppointment(e)},a.handleEditAsistente=function(e){var t=a.props.asistentes.find((function(t){return t.id===e}));a.setState({inputAsistente:t,inputAsistenteComponentIsOpened:!0})},a.handleInputAsistenteClose=function(){a.setState({inputAsistenteComponentIsOpened:!1,inputAsistente:null})},a.handleSelectAsistente=function(e){return a.setState({selectedAsistente:e})},a.handleSendSchedule=function(e){var t=a.props.asistentes.find((function(t){return t.id===e})),n=a.props.appointments.filter((function(t){return t.asistentes.find((function(t){return t.id===e}))})),o="America/Mexico_City";t.timezone&&(o=t.timezone);var r,s,c,u=n.sort((function(e,t){return $(e,t)})),d="",p=Object(l.a)(u);try{for(p.s();!(c=p.n()).done;){var h=c.value;if(h.datetime&&h.ejecutivos&&h.asistentes&&h.duration){var v=Z()(h.datetime),f=Z.a.tz(v.format("YYYY-MM-DDTHH:mm"),"US/Pacific");if(!r||r!==f.format("dddd DD MMMM")){switch(r=f.format("dddd DD MMMM"),s=null,d+=r.toUpperCase()+": ",f.format("ddd")){case"lun.":d+="https://us02web.zoom.us/j/85425291494";break;case"mar.":d+="https://us02web.zoom.us/j/88445795504";break;case"mi\xe9.":d+="https://us02web.zoom.us/j/86767091338";break;case"jue.":d+="https://us02web.zoom.us/j/87665492231";break;case"vie.":d+="https://us02web.zoom.us/j/88943327711";break;case"s\xe1b.":d+="https://us02web.zoom.us/j/83792773099"}d+="\r\n\r\n"}s&&s===f.format("hh:mm A z (Z)")||(s=f.format("hh:mm A z (Z)"),d+="    "+f.tz(o).format("hh:mm A")+" | "+o,d+="\r\n"),d+="\r\n",h.ejecutivos.length>0&&(d+="        Ejecutivos: "+h.ejecutivos.map((function(e){return e.name})).join(" | ")+"\r\n"),h.asistentes.length>0&&(d+="        Asistentes: "+h.asistentes.map((function(e){return e.name})).join(" | ")+"\r\n"),d+="        Duraci\xf3n: 15min\r\n\r\n"}}}catch(b){p.e(b)}finally{p.f()}var E=i.a.createElement(m.a,{style:{"background-color":"white"}},i.a.createElement("textarea",{rows:"30",cols:"100"},d));a.setState({modalBody:E,snackbarOpen:!0})},a.handleSnackbarClose=function(){return a.setState({snackbarOpen:!1})},a.handleSubmitAsistente=function(e){return a.props.onSubmitAsistente(e)},a.state={ideatoonProjects:K(a.props.asistentes),inputAsistente:null,inputAsistenteComponentIsOpened:!1,modalBody:"",selectedAsistente:null,snackbarOpen:!1},Z.a.locale("es"),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.appointments,n=e.asistentes,a=this.state,o=a.modalBody,r=a.selectedAsistente,s=a.snackbarOpen;return i.a.createElement(S.a,{container:!0,spacing:2},i.a.createElement(Ce,{open:this.state.inputAsistenteComponentIsOpened,ideatoonProjects:this.state.ideatoonProjects,asistente:this.state.inputAsistente,onClose:this.handleInputAsistenteClose,onSubmit:this.handleSubmitAsistente}),i.a.createElement(ne.a,{open:s,onClose:this.handleSnackbarClose},o),i.a.createElement(S.a,{item:!0,sm:4,md:4},i.a.createElement(ae.a,null,i.a.createElement(ie.a,{title:"Asistentes (".concat(n.length,")"),action:i.a.createElement(k.a,{edget:"end",onClick:this.handleClickAddAsistente},i.a.createElement(w.a,null))}),i.a.createElement(oe.a,null,i.a.createElement(Ee,{asistentes:n,onDelete:this.handleDeleteAsistente,onEdit:this.handleEditAsistente,onSelect:this.handleSelectAsistente,onSendSchedule:this.handleSendSchedule})))),i.a.createElement(S.a,{item:!0,sm:8,md:8},i.a.createElement(ae.a,null,i.a.createElement(ie.a,{title:"Calendario"}),i.a.createElement(oe.a,null,i.a.createElement(Oe,{appointments:t,asistente:r,onDeleteAppointment:this.handleDeleteAppointment})))))}}]),n}(i.a.Component),we=n(198),Ie=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleItemDelete=function(e){a.props.onDelete(e)},a.handleItemEdit=function(e){a.props.onEdit(e)},a.handleItemSelect=function(e){var t=a.props.ejecutivos.find((function(t){return t.id===e}));a.setState({selectedEjecutivo:t}),a.props.onSelect(t),a.refs.list.forceUpdate()},a.handleSendSchedule=function(e){a.props.onSendSchedule(e)},a.renderRow=function(e){var t=e.index,n=e.style,o=a.props.ejecutivos[t],r=a.state.selectedEjecutivo;return i.a.createElement(Me,{key:t,id:o.id,style:n,name:o.name,description:"".concat(o.positionAtStudio," @ ").concat(o.studio),timezone:o.timezone,isJury:o.isJury,isSelected:o.id===(null===r||void 0===r?void 0:r.id),onDelete:a.handleItemDelete,onEdit:a.handleItemEdit,onSelect:a.handleItemSelect,onSendSchedule:a.handleSendSchedule})},a.state={selectedEjecutivo:null},a}return Object(u.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.refs.list.forceUpdate(),!0}},{key:"render",value:function(){var e=this.props.ejecutivos;return i.a.createElement(he.b,{ref:"list",itemSize:80,itemCount:e.length,height:400},this.renderRow)}}]),n}(i.a.Component),Me=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleItemClick=function(){a.props.onSelect(a.props.id)},a.handleItemEdit=function(){a.props.onEdit(a.props.id),a.setState({anchorEl:null})},a.handleItemDelete=function(){a.props.onDelete(a.props.id),a.setState({anchorEl:null})},a.handleMenuOpen=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuClose=function(){a.setState({anchorEl:null})},a.handleSendSchedule=function(){a.props.onSendSchedule(a.props.id),a.setState({anchorEl:null})},a.state={anchorEl:null},a}return Object(u.a)(n,[{key:"render",value:function(){var e;return i.a.createElement(re.a,{button:!0,dense:!0,selected:this.props.isSelected,ContainerProps:{style:this.props.style},ContainerComponent:"div",onClick:this.handleItemClick},this.props.isJury?i.a.createElement(se.a,null,i.a.createElement(le.a,null,i.a.createElement(W.a,null))):i.a.createElement(se.a,null,i.a.createElement(le.a,{alt:this.props.name})),i.a.createElement(ce.a,{primary:this.props.name,secondary:i.a.createElement(i.a.Fragment,null,i.a.createElement(f.a,{variant:"body2",noWrap:!0},this.props.description),i.a.createElement(f.a,{variant:"body2",noWrap:!0},null!==(e=this.props.timezone)&&void 0!==e?e:"No timezone"))}),i.a.createElement(ue.a,null,i.a.createElement(k.a,{edge:"end",onClick:this.handleMenuOpen},i.a.createElement(me.a,null)),i.a.createElement(de.a,{anchorEl:this.state.anchorEl,open:Boolean(this.state.anchorEl),onClose:this.handleMenuClose},i.a.createElement(P.a,{onClick:this.handleItemEdit},"Editar"),i.a.createElement(P.a,{onClick:this.handleItemDelete},"Eliminar"),i.a.createElement(P.a,{onClick:this.handleSendSchedule},"Enviar Agenda"))))}}]),n}(i.a.PureComponent),xe=Ie,Pe=n(132),ze=n(197),Te=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleCancel=function(){a.setState({open:!1}),a.props.onClose()},a.handleCheckedChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.checked))},a.handleFormSubmit=function(e){e.preventDefault(),a.props.onSubmit({id:a.state.id,name:a.state.name.trim(),positionAtStudio:a.state.positionAtStudio.trim(),studio:a.state.studio.trim(),isJury:a.state.isJury,cgi:a.state.cgi,latamTopArtistsAndFreelanceTalent:a.state.latamTopArtistsAndFreelanceTalent,newIPs:a.state.newIPs,newIdeas:a.state.newIdeas,stopMotion:a.state.stopMotion,topStudios:a.state.topStudios,timezone:a.state.timezone||"",twoD:a.state.twoD,threeD:a.state.threeD,videogames:a.state.videogames}),a.setState({open:!1}),a.props.onClose()},a.handleValueChange=function(e){a.setState(Object(M.a)({},e.target.name,e.target.value))},a.handleMultipleValueChange=function(e,t){a.setState(Object(M.a)({},e,t))},Z.a.locale("es"),a.state=n.stateFromProps(e),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,a=t.positionAtStudio,o=t.studio,r=t.isJury,s=t.topStudios,l=t.cgi,c=t.latamTopArtistsAndFreelanceTalent,u=t.newIPs,d=t.newIdeas,p=t.stopMotion,m=t.twoD,h=t.threeD,v=t.timezone,f=t.videogames;return i.a.createElement(z.a,{disableBackdropClick:!0,open:this.state.open,onClose:this.handleCancel},i.a.createElement("form",{onSubmit:this.handleFormSubmit},i.a.createElement(T.a,null,"Ejecutivo"),i.a.createElement(F.a,null,i.a.createElement(Y.a,{autoFocus:!0,fullWidth:!0,label:"Name",margin:"dense",name:"name",required:!0,type:"text",value:n,onChange:function(t){return e.handleValueChange(t)}}),i.a.createElement(Y.a,{fullWidth:!0,label:"Position at studio",margin:"dense",name:"positionAtStudio",required:!0,type:"text",value:a,onChange:this.handleValueChange}),i.a.createElement(Y.a,{fullWidth:!0,label:"Studio name",margin:"dense",name:"studio",type:"text",value:o,onChange:this.handleValueChange}),i.a.createElement(be.a,{label:"Is Jury?",control:i.a.createElement(je.a,{checked:r,onChange:this.handleCheckedChange,name:"isJury"})}),i.a.createElement(U.a,{value:v,onChange:function(t,n){return e.handleMultipleValueChange("timezone",n)},options:Z.a.tz.names(),filterSelectedOptions:!0,renderInput:function(e){return i.a.createElement(Y.a,Object.assign({},e,{label:"Timezone",margin:"dense"}))}}),i.a.createElement(be.a,{label:"2D",control:i.a.createElement(je.a,{checked:m,onChange:this.handleCheckedChange,name:"twoD"})}),i.a.createElement(be.a,{label:"3D",control:i.a.createElement(je.a,{checked:h,onChange:this.handleCheckedChange,name:"threeD"})}),i.a.createElement(be.a,{label:"Videogames",control:i.a.createElement(je.a,{checked:f,onChange:this.handleCheckedChange,name:"videogames"})}),i.a.createElement(be.a,{label:"Stop Motion",control:i.a.createElement(je.a,{checked:p,onChange:this.handleCheckedChange,name:"stopMotion"})}),i.a.createElement(be.a,{label:"CGI",control:i.a.createElement(je.a,{checked:l,onChange:this.handleCheckedChange,name:"cgi"})}),i.a.createElement(V.a,{component:"fieldset",margin:"dense",fullWidth:!0},i.a.createElement(Pe.a,{component:"legend"},"Interests in the market"),i.a.createElement(ze.a,null,i.a.createElement(be.a,{label:"Meet with studios that provide services or work-from-hire",control:i.a.createElement(je.a,{checked:s,onChange:this.handleCheckedChange,name:"topStudios"})}),i.a.createElement(be.a,{label:"Meet with latam top artists & freelance talent",control:i.a.createElement(je.a,{checked:c,onChange:this.handleCheckedChange,name:"latamTopArtistsAndFreelanceTalent"})}),i.a.createElement(be.a,{label:"Find new IPs in development",control:i.a.createElement(je.a,{checked:u,onChange:this.handleCheckedChange,name:"newIPs"})}),i.a.createElement(be.a,{label:"Discover talent: Rising and 'under the radar' studios",control:i.a.createElement(je.a,{checked:d,onChange:this.handleCheckedChange,name:"newIdeas"})})))),i.a.createElement(B.a,null,i.a.createElement(y.a,{onClick:this.handleCancel},"Cancelar"),i.a.createElement(y.a,{type:"submit",color:"primary"},"Aceptar"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return!0===e.open&&!1===t.open?n.stateFromProps(e):t}}]),n}(i.a.Component);Te.stateFromProps=function(e){var t=e.ejecutivo;return{open:e.open||!1,id:(null===t||void 0===t?void 0:t.id)||null,name:(null===t||void 0===t?void 0:t.name)||"",positionAtStudio:(null===t||void 0===t?void 0:t.positionAtStudio)||"",studio:(null===t||void 0===t?void 0:t.studio)||"",isJury:(null===t||void 0===t?void 0:t.isJury)||!1,cgi:(null===t||void 0===t?void 0:t.cgi)||!1,latamTopArtistsAndFreelanceTalent:(null===t||void 0===t?void 0:t.latamTopArtistsAndFreelanceTalent)||!1,newIPs:(null===t||void 0===t?void 0:t.newIPs)||!1,newIdeas:(null===t||void 0===t?void 0:t.newIdeas)||!1,stopMotion:(null===t||void 0===t?void 0:t.stopMotion)||!1,timezone:(null===t||void 0===t?void 0:t.timezone)||"",twoD:(null===t||void 0===t?void 0:t.twoD)||!1,threeD:(null===t||void 0===t?void 0:t.threeD)||!1,topStudios:(null===t||void 0===t?void 0:t.topStudios)||!1,videogames:(null===t||void 0===t?void 0:t.videogames)||!1}};var Fe=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClickAddEjecutivo=function(){return a.setState({inputEjecutivoComponentIsOpened:!0})},a.handleClickImport=function(){},a.handleClickExport=function(){var e="data:text/csv;charset=utf-8,";e+="NAME,POSITION AT THE STUDIO,STUDIO NAME,Meet with with top studios,Meet with the latam rising studios,Meet with latam top artists & freelance talent,Find new IPs in development,Find new ideas that could become an IP\r\n",a.props.ejecutivos.forEach((function(t){var n='"'.concat(t.name,'","').concat(t.positionAtStudio,'","').concat(t.studio,'","').concat(t.topStudios?"X":"",'","').concat(t.latamRisingStudios?"X":"",'","').concat(t.latamTopArtistsAndFreelanceTalent?"X":"",'","').concat(t.newIPs?"X":"",'","').concat(t.newIdeas?"X":"",'"');e+=n+"\r\n"}));var t=encodeURI(e);window.open(t)},a.handleDeleteEjecutivo=function(e){var t;(null===(t=a.state.selectedEjecutivo)||void 0===t?void 0:t.id)===e&&a.setState({selectedEjecutivo:null}),a.props.onDeleteEjecutivo(e)},a.handleEditEjecutivo=function(e){var t=a.props.ejecutivos.find((function(t){return t.id===e}));a.setState({inputEjecutivo:t,inputEjecutivoComponentIsOpened:!0})},a.handleInputEjecutivoClose=function(){a.setState({inputEjecutivoComponentIsOpened:!1,inputEjecutivo:null})},a.handleSelectEjecutivo=function(e){return a.setState({selectedEjecutivo:e})},a.handleSendSchedule=function(e){var t=a.props.ejecutivos.find((function(t){return t.id===e})),n=a.props.appointments.filter((function(e){return e.ejecutivos.find((function(e){return e.id===t.id}))})),o="America/Mexico_City";t.timezone&&(o=t.timezone);var r,s,c,u=n.sort((function(e,t){return $(e,t)})),d="",p=Object(l.a)(u);try{for(p.s();!(c=p.n()).done;){var h=c.value;if(h.datetime&&h.ejecutivos&&h.asistentes&&h.duration){var v=Z()(h.datetime),f=Z.a.tz(v.format("YYYY-MM-DDTHH:mm"),"US/Pacific");if(!r||r!==f.format("dddd DD MMMM")){switch(r=f.format("dddd DD MMMM"),s=null,d+=r.toUpperCase()+": ",f.format("ddd")){case"lun.":d+="https://us02web.zoom.us/j/85425291494";break;case"mar.":d+="https://us02web.zoom.us/j/88445795504";break;case"mi\xe9.":d+="https://us02web.zoom.us/j/86767091338";break;case"jue.":d+="https://us02web.zoom.us/j/87665492231";break;case"vie.":d+="https://us02web.zoom.us/j/88943327711";break;case"s\xe1b.":d+="https://us02web.zoom.us/j/83792773099"}d+="\r\n\r\n"}s&&s===f.format("hh:mm A z (Z)")||(s=f.format("hh:mm A z (Z)"),d+="    "+f.tz(o).format("hh:mm A")+" | "+o,d+="\r\n"),d+="\r\n",h.ejecutivos.length>0&&(d+="        Ejecutivos: "+h.ejecutivos.map((function(e){return e.name})).join(" | ")+"\r\n"),h.asistentes.length>0&&(d+="        Asistentes: "+h.asistentes.map((function(e){return e.name})).join(" | ")+"\r\n"),d+="        Duraci\xf3n: 15min\r\n\r\n"}}}catch(b){p.e(b)}finally{p.f()}var E=i.a.createElement(m.a,{style:{"background-color":"white"}},i.a.createElement("textarea",{rows:"30",cols:"100"},d));a.setState({modalBody:E,snackbarOpen:!0})},a.handleSnackbarClose=function(){return a.setState({snackbarOpen:!1})},a.handleSubmitAvailability=function(e){return a.props.onSubmitAvailability(e)},a.handleSubmitEjecutivo=function(e){return a.props.onSubmitEjecutivo(e)},a.state={inputEjecutivo:null,inputEjecutivoComponentIsOpened:!1,selectedEjecutivo:null,modalBody:"",snackbarOpen:!1},Z.a.locale("es"),a}return Object(u.a)(n,[{key:"render",value:function(){var e=this.props,t=e.appointments,n=e.ejecutivos,a=this.state,o=a.inputEjecutivo,r=a.inputEjecutivoComponentIsOpened,s=a.modalBody,l=a.selectedEjecutivo,c=a.snackbarOpen;return i.a.createElement(S.a,{container:!0,spacing:2},i.a.createElement(Te,{open:r,ejecutivo:o,onClose:this.handleInputEjecutivoClose,onSubmit:this.handleSubmitEjecutivo}),i.a.createElement(ne.a,{open:c,onClose:this.handleSnackbarClose},s),i.a.createElement(S.a,{item:!0,sm:4,md:4},i.a.createElement(ae.a,null,i.a.createElement(ie.a,{title:"Ejecutivos (".concat(n.length,")"),action:i.a.createElement(k.a,{edget:"end",onClick:this.handleClickAddEjecutivo},i.a.createElement(w.a,null))}),i.a.createElement(oe.a,null,i.a.createElement(xe,{ejecutivos:n,onDelete:this.handleDeleteEjecutivo,onEdit:this.handleEditEjecutivo,onSelect:this.handleSelectEjecutivo,onSendSchedule:this.handleSendSchedule}))),i.a.createElement(m.a,{display:"flex",justifyContent:"flex-end",alignItems:"center",style:{"margin-top":"5px"}},i.a.createElement(we.a,{variant:"text"},!1,i.a.createElement(y.a,{onClick:this.handleClickExport},"Exportar")))),i.a.createElement(S.a,{item:!0,sm:8,md:8},i.a.createElement(ae.a,null,i.a.createElement(ie.a,{title:"Calendario"}),i.a.createElement(oe.a,null,i.a.createElement(Oe,{appointments:t,ejecutivo:l,onSubmitAvailability:this.handleSubmitAvailability})))))}}]),n}(i.a.Component),Ye=n(13),He=n.n(Ye),Ve=n(25),Ne=n(95);function Le(){return qe.apply(this,arguments)}function qe(){return(qe=Object(Ve.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ne.a)("pixelatl",1,{upgrade:function(e){!1===e.objectStoreNames.contains("asistentes")&&e.createObjectStore("asistentes",{keyPath:"id"}),!1===e.objectStoreNames.contains("ejecutivos")&&e.createObjectStore("ejecutivos",{keyPath:"id"}),!1===e.objectStoreNames.contains("availability")&&e.createObjectStore("availability",{keyPath:"id"}),!1===e.objectStoreNames.contains("appointments")&&e.createObjectStore("appointments",{keyPath:"id"})}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Be(){return(Be=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.delete("appointments",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(){return(We=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.delete("asistentes",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(){return(Ue=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.delete("ejecutivos",t);case 5:return e.next=7,n.delete("availability",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return(Je=Object(Ve.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,t.getAll("appointments");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return(Re=Object(Ve.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,t.getAll("availability");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ze(){return(Ze=Object(Ve.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,t.getAll("asistentes");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(){return(_e=Object(Ve.a)(He.a.mark((function e(){var t;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return t=e.sent,e.next=5,t.getAll("ejecutivos");case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){return(Xe=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.put("asistentes",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ge(){return(Ge=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.put("appointments",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(){return(Ke=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.put("availability",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(){return(Qe=Object(Ve.a)(He.a.mark((function e(t){var n;return He.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:return n=e.sent,e.next=5,n.put("ejecutivos",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $e(e){var t=e.children,n=e.value,a=e.index,o=Object(s.a)(e,["children","value","index"]);return i.a.createElement("div",Object.assign({role:"tabpanel",hidden:n!==a,id:"full-width-tabpanel-".concat(a)},o),n===a&&i.a.createElement(m.a,null,t))}var et=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleDeleteAppointment=function(e){(function(e){return Be.apply(this,arguments)})(e).then((function(){var t=a.state.appointments.filter((function(t){return t.id!==e}));a.setState({appointments:t})}))},a.handleDeleteAsistente=function(e){(function(e){return We.apply(this,arguments)})(e).then((function(){var t=a.state.asistentes.filter((function(t){return t.id!==e}));a.setState({asistentes:t})}))},a.handleDeleteEjecutivo=function(e){(function(e){return Ue.apply(this,arguments)})(e).then((function(){var t=a.state.ejecutivos.filter((function(t){return t.id!==e}));a.setState({ejecutivos:t})}))},a.handleSubmitAsistente=function(e){var t=!1;e.id||(e.id=Object(g.a)(),t=!0);var n=a.state.asistentes;(function(e){return Xe.apply(this,arguments)})(e).then((function(){!1===t&&(n=n.filter((function(t){return t.id!==e.id}))),n.push(e),n.sort((function(e,t){return ee(e,t)})),a.setState({asistentes:n})}))},a.handleSubmitAvailability=function(e){(function(e){return Ke.apply(this,arguments)})(e).then((function(){a.state.ejecutivos.find((function(t){return t.id===e.id})).availability=e,a.setState({ejecutivos:a.state.ejecutivos})}))},a.handleSubmitAppointment=function(e){var t=!1;e.id||(e.id=Object(g.a)(),t=!0);var n=a.state.appointments;(function(e){return Ge.apply(this,arguments)})(e).then((function(){!1===t&&(n=n.filter((function(t){return t.id!==e.id}))),n.push(e),a.setState({appointments:n})}))},a.handleSubmitEjecutivo=function(e){var t=!1;e.id||(e.id=Object(g.a)(),t=!0,e.availability=[]);var n=a.state.ejecutivos;(function(e){return Qe.apply(this,arguments)})(e).then((function(){!1===t&&(n=n.filter((function(t){return t.id!==e.id}))),n.push(e),n.sort((function(e,t){return ee(e,t)})),a.setState({ejecutivos:n})}))},a.handleTabChange=function(e,t){a.setState({tabValue:t})},a.state={appointments:[],asistentes:[],ejecutivos:[],tabValue:0},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=[];t.push(function(){return Je.apply(this,arguments)}()),t.push(function(){return Ze.apply(this,arguments)}()),t.push(function(){return Re.apply(this,arguments)}()),t.push(function(){return _e.apply(this,arguments)}()),Promise.all(t).then((function(t){var n=t[0],a=t[1],i=t[2],o=t[3];a.sort((function(e,t){return ee(e,t)})),o.sort((function(e,t){return ee(e,t)}));var r,s=Object(l.a)(o);try{var c=function(){var e=r.value,t=i.find((function(t){return t.id===e.id}));e.availability=null!==t&&void 0!==t?t:[]};for(s.s();!(r=s.n()).done;)c()}catch(u){s.e(u)}finally{s.f()}e.setState({appointments:n,asistentes:a,ejecutivos:o})}))}},{key:"render",value:function(){var e=this.state,t=e.appointments,n=e.asistentes,a=e.ejecutivos,o=e.tabValue;return i.a.createElement(m.a,null,i.a.createElement(h.a,{position:"static"},i.a.createElement(v.a,null,i.a.createElement(f.a,{variant:"h6"},"Pixelatl - Mercado"))),i.a.createElement(E.a,{disableGutters:!0,maxWidth:!1},i.a.createElement(b.a,{style:{marginBottom:10}},i.a.createElement(j.a,{value:o,onChange:this.handleTabChange,indicatorColor:"primary",textColor:"primary",centered:!0},i.a.createElement(C.a,{label:"EJECUTIVOS"}),i.a.createElement(C.a,{label:"ASISTENTES"}),i.a.createElement(C.a,{label:"CITAS"}))),i.a.createElement($e,{value:o,index:0},i.a.createElement(Fe,{appointments:t,ejecutivos:a,onDeleteEjecutivo:this.handleDeleteEjecutivo,onSubmitAvailability:this.handleSubmitAvailability,onSubmitEjecutivo:this.handleSubmitEjecutivo})),i.a.createElement($e,{value:o,index:1},i.a.createElement(De,{asistentes:n,appointments:t,onDeleteAppointment:this.handleDeleteAppointment,onDeleteAsistente:this.handleDeleteAsistente,onSubmitAsistente:this.handleSubmitAsistente})),i.a.createElement($e,{value:o,index:2},i.a.createElement(te,{appointments:t,asistentes:n,ejecutivos:a,onDeleteAppointment:this.handleDeleteAppointment,onSubmitAppointment:this.handleSubmitAppointment}))))}}]),n}(i.a.Component);r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(et,null)),document.querySelector("#root"))}},[[116,1,2]]]);
//# sourceMappingURL=main.99ee703a.chunk.js.map