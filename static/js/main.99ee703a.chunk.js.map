{"version":3,"sources":["components/Appointments.js","components/AppointmentInputComponent.js","components/Utils.js","components/AppointmentsPanel.js","components/Asistentes.js","components/AsistenteInputComponent.js","components/AppointmentsCalendar.js","components/AsistentesPanel.js","components/Ejecutivos.js","components/EjecutivoInputComponent.js","components/EjecutivosPanel.js","components/Repository.js","components/App.js","index.js"],"names":["Appointments","props","getColumns","columns","push","key","title","dataKey","width","cellRenderer","cellData","rowData","appointments","filter","appointment","asistentes","find","asistente","id","asistenteId","Typography","noWrap","variant","length","headerRenderer","frozen","Column","FrozenDirection","LEFT","i","ejecutivo","ejecutivos","name","columnIndex","appointmentId","IconButton","edge","size","onClick","handleClickEditAppointment","Event","handleClickAddAppointment","Add","column","style","getData","data","row","asistenteName","j","getAppointment","ejecutivoId","onAddAppointment","onEditAppointment","clearActiveCells","Array","from","document","querySelectorAll","forEach","element","classList","remove","handleMouseOver","event","getHeaderCells","currentTarget","add","handleAsistenteMouseOver","colHeaders","colHeader","dataset","cgi","latamTopArtistOrFreelanceTalent","latamTopArtistsAndFreelanceTalent","newIPs","newIdeas","newIdes","stopMotion","topStudio","topStudios","twoD","threeD","videogames","handleEjecutivoMouseOver","rowHeaders","rowHeader","renderCell","rowIndex","result","className","align","padding","data-ejecutivo","onMouseOver","cursor","data-asistente","state","cell","cellEjecutivoId","this","getEjecutivoHeaderCells","prototype","apply","cellAsistenteId","getAsistenteHeaderCells","height","fixed","headerHeight","React","Component","AppointmentInputComponent","getAsistenteAppointments","getEjecutivoAppointments","handleCancel","setState","open","onClose","handleDelete","onDelete","handleCheckedChange","target","checked","handleFormSubmit","preventDefault","onSubmit","datetime","duration","handleValueChange","handleMultipleValueChange","value","datetimeOptions","ejecutivoAppointments","getDatetimeOptionsForEjecutivo","getDatetimeOptions","datetimeOption","times","time","makeSelectItems","items","ListSubheader","disableSticky","date","datetimeOptionTime","MenuItem","moment","locale","stateFromProps","asistenteAppointments","isAvailable","isDatetimeBlockedByAppointments","availability","isDatetimeAvailableForEjecutivo","asistentesOptions","ejecutivosOptions","openAlert","Dialog","disableBackdropClick","fullWidth","maxWidth","DialogTitle","DialogContent","Autocomplete","multiple","onChange","_event","options","getOptionLabel","option","filterSelectedOptions","required","renderInput","params","TextField","label","margin","renderTags","getTagProps","map","index","Chip","getAsistenteOptionStyle","icon","isJury","Gavel","getEjecutivoOptionStyle","type","inputProps","min","step","InputLabelProps","shrink","FormControl","InputLabel","Select","renderValue","format","Collapse","in","Alert","severity","DialogActions","Button","color","firstDay","tz","day","clone","hour","slot","availabilityDatetime","dates","includes","sort","datetimeMoment","currentAppointmentId","adjustedDatetimeMoment","appointmentDatetime","isSame","getIdeatoonProjects","ideatoonProjects","Set","flatMap","a","b","nameA","toUpperCase","nameB","sortAlphabetically","getJurados","jurados","sortAlphabeticallyByName","sortAlphabeticallyByDatetime","isBefore","AppointmentsPanel","inputAppointmentComponentIsOpened","inputAsistente","inputEjecutivo","inputAppointment","handleClickExport","currentDate","currentTime","text","currentDatetime","join","copy","snackbarOpen","textArea","createElement","top","left","position","body","appendChild","focus","select","msg","execCommand","console","log","err","error","removeChild","handleDeleteAppointment","onDeleteAppointment","handleInputAppointmentClose","handleSelectAsistente","selectedAsistente","handleSelectEjecutivo","selectedEjecutivo","handleSnackbarClose","handleSubmitAppointment","onSubmitAppointment","Box","Snackbar","autoHideDuration","message","Grid","container","spacing","item","xs","xd","display","justifyContent","alignItems","Asistentes","handleItemDelete","handleItemEdit","onEdit","handleItemSelect","onSelect","refs","list","forceUpdate","handleSendSchedule","onSendSchedule","renderRow","isSelected","studio","timezone","nextProps","nextState","ref","itemSize","itemCount","Asistente","handleItemClick","anchorEl","handleMenuOpen","handleMenuClose","ListItem","button","dense","selected","ContainerProps","ContainerComponent","ListItemAvatar","Avatar","EmojiEvents","ListItemText","primary","primaryTypographyProps","secondary","Fragment","ListItemSecondaryAction","MoreVert","Menu","keepMounted","Boolean","AsistenteInputComponent","trim","ideatoonProjectOptions","autoFocus","selectOnFocus","clearOnBlur","handleHomeEndKeys","freeSolo","names","FormControlLabel","control","Checkbox","AppointmentsCalendar","clearAppointmentCells","removeAttribute","clearAvailableCells","handleClick","adjacentCells","getAdjacentCells","contains","getInputAvailability","onSubmitAvailability","rows","totalMinutes","displayTime","minute","cells","prevProps","displayAvailability","displayEjecutivoAppointments","displayAsistenteAppointments","calendarCells","calendarCell","setAttribute","cellMoment","elementMoment","elementDate","elementHour","elementMinute","cellDate","cellHour","Table","TableHead","TableRow","TableCell","data-date","TableBody","onMouseLeave","rowSpan","component","scope","data-hour","data-datetime","AsistentesPanel","handleClickAddAsistente","inputAsistenteComponentIsOpened","handleDeleteAsistente","onDeleteAsistente","handleEditAsistente","handleInputAsistenteClose","filteredAppointments","appointmentAsistente","localTimezone","cols","modalBody","handleSubmitAsistente","onSubmitAsistente","Modal","sm","md","Card","CardHeader","action","edget","CardContent","Ejecutivos","description","positionAtStudio","Ejecutivo","alt","PureComponent","EjecutivoInputComponent","FormLabel","FormGroup","EjecutivosPanel","handleClickAddEjecutivo","inputEjecutivoComponentIsOpened","handleClickImport","csvContent","headerRow","csvRow","latamRisingStudios","encodedUri","encodeURI","window","handleDeleteEjecutivo","onDeleteEjecutivo","handleEditEjecutivo","handleInputEjecutivoClose","appointmentEjecutivo","handleSubmitAvailability","handleSubmitEjecutivo","onSubmitEjecutivo","ButtonGroup","getOpenDb","openDB","upgrade","db","objectStoreNames","createObjectStore","keyPath","delete","getAll","put","TabPanel","children","other","role","hidden","App","deleteAppointment","then","deleteAsistente","deleteEjecutivo","newAsistente","uuid","storeAsistente","storeAvailability","newAppointment","storeAppointment","newEjecutivo","storeEjecutivo","handleTabChange","newValue","tabValue","promises","getAppointments","getAsistentes","getAvailability","getEjecutivos","Promise","all","values","ejecutivoAvailability","AppBar","Toolbar","Container","disableGutters","Paper","marginBottom","Tabs","indicatorColor","textColor","centered","Tab","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.99ee703a.chunk.js","sourcesContent":["import React from 'react';\r\nimport { IconButton, Typography } from '@material-ui/core';\r\nimport BaseTable, { AutoResizer, Column } from 'react-base-table'\r\nimport 'react-base-table/styles.css'\r\nimport { Add, Event } from '@material-ui/icons'\r\n\r\nclass Appointments extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcolumns: [],\r\n\t\t\tdata: []\r\n\t\t}\r\n\t}\r\n\r\n\tgetColumns = () => {\r\n\t\tconst columns = [];\r\n\t\tcolumns.push({\r\n\t\t\tkey: 'asistente',\r\n\t\t\ttitle: 'Asistente',\r\n\t\t\tdataKey: 'asistenteName',\r\n\t\t\twidth: 150,\r\n\t\t\tcellRenderer: ({ cellData, rowData }) => {\r\n\t\t\t\tconst appointments = this.props.appointments.filter(appointment => appointment.asistentes.find(asistente => asistente.id === rowData.asistenteId));\t\t\t\t\r\n\t\t\t\treturn (<Typography noWrap variant=\"body2\">{`(${appointments.length}) ${cellData}`}</Typography>);\r\n\t\t\t},\r\n\t\t\theaderRenderer: () => {\r\n\t\t\t\treturn (<div></div>);\r\n\t\t\t},\r\n\t\t\tfrozen: Column.FrozenDirection.LEFT\r\n\t\t});\r\n\t\tfor (let i = 0; i < this.props.ejecutivos.length; i++) {\r\n\t\t\tconst ejecutivo = this.props.ejecutivos[i];\r\n\t\t\tcolumns.push({\r\n\t\t\t\tkey: `ejecutivo${i}`,\r\n\t\t\t\ttitle: ejecutivo.name,\r\n\t\t\t\tdataKey: i,\r\n\t\t\t\twidth: 45,\r\n\t\t\t\tcellRenderer: ({ columnIndex, rowData }) => {\r\n\t\t\t\t\tconst rowDataIndex = columnIndex - 1;\r\n\t\t\t\t\tconst appointmentId = rowData[rowDataIndex];\r\n\t\t\t\t\tif (appointmentId) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" onClick={() => this.handleClickEditAppointment(appointmentId)}>\r\n\t\t\t\t\t\t\t\t<Event />\r\n\t\t\t\t\t\t\t</IconButton>);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" onClick={() => this.handleClickAddAppointment(rowData.asistenteId, ejecutivo.id)}>\r\n\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t</IconButton>)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\theaderRenderer: ({ column }) => {\r\n\t\t\t\t\treturn (<Typography noWrap variant=\"body2\" style={{ \"display\": \"inline-flex\", \"align-items\": \"center\", \"height\": \"130px\", \"width\":\"100%\", \"writing-mode\": \"vertical-rl\", \"transform\": \"rotate(180deg)\" }}>{column.title}</Typography>);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn columns;\r\n\t}\r\n\r\n\tgetData = () => {\r\n\t\tconst data = [];\r\n\t\tfor (let i = 0; i < this.props.asistentes.length; i++) {\r\n\t\t\tconst asistente = this.props.asistentes[i];\r\n\t\t\tconst row = { asistenteId: asistente.id, asistenteName: asistente.name };\r\n\t\t\tfor (let j = 0; j < this.props.ejecutivos.length; j++) {\r\n\t\t\t\tconst ejecutivo = this.props.ejecutivos[j];\r\n\t\t\t\tconst appointment = this.getAppointment(asistente, ejecutivo);\r\n\t\t\t\trow[j] = appointment?.id;\r\n\t\t\t}\r\n\t\t\tdata.push(row);\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\thandleClickAddAppointment = (asistenteId, ejecutivoId) => {\r\n\t\tthis.props.onAddAppointment(asistenteId, ejecutivoId);\r\n\t}\r\n\r\n\thandleClickEditAppointment = (id) => {\r\n\t\tthis.props.onEditAppointment(id);\r\n\t}\r\n\r\n\tgetAppointment = (asistente, ejecutivo) => {\r\n\t\tconst asistenteId = asistente.id;\r\n\t\tconst ejecutivoId = ejecutivo.id;\r\n\t\treturn this.props.appointments.find(appointment =>\r\n\t\t\tappointment.asistentes.find(asistente => asistente.id === asistenteId) &&\r\n\t\t\tappointment.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivoId));\r\n\t}\r\n\r\n\tclearActiveCells = () => {\r\n\t\tconst appointmentHeaderCells = Array.from(document.querySelectorAll('.appointment-cell.active'));\r\n\t\tappointmentHeaderCells.forEach(element => element.classList.remove('active'));\r\n\t}\r\n\r\n\tgetHeaderCells(cell) {\r\n\t\tconst result = [];\r\n\t\tconst cellEjecutivoId = cell.dataset.ejecutivo;\r\n\t\tconst colHeaders = this.getEjecutivoHeaderCells(cellEjecutivoId);\r\n\t\tArray.prototype.push.apply(result, colHeaders);\r\n\t\tconst cellAsistenteId = cell.dataset.asistente;\r\n\t\tconst rowHeaders = this.getAsistenteHeaderCells(cellAsistenteId);\r\n\t\tArray.prototype.push.apply(result, rowHeaders);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetAsistenteHeaderCells(id) {\r\n\t\tconst result = [];\r\n\t\tconst rowHeaders = Array.from(document.querySelectorAll('tbody > tr > th.appointment-cell'));\r\n\t\tconst rowHeader = rowHeaders.find(element => element.dataset.asistente === id);\r\n\t\tif (rowHeader) {\r\n\t\t\tresult.push(rowHeader);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetEjecutivoHeaderCells(id) {\r\n\t\tconst result = [];\r\n\t\tconst colHeaders = Array.from(document.querySelectorAll('thead > tr > th.appointment-cell'));\r\n\t\tconst colHeader = colHeaders.find(element => element.dataset.ejecutivo === id);\r\n\t\tif (colHeader) {\r\n\t\t\tresult.push(colHeader);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\thandleMouseOver = (event) => {\r\n\t\tthis.clearActiveCells();\r\n\t\tconst headerCells = this.getHeaderCells(event.currentTarget);\r\n\t\theaderCells.forEach(element => element.classList.add('active'));\r\n\t}\r\n\r\n\thandleAsistenteMouseOver = asistente => {\r\n\t\tthis.clearActiveCells();\r\n\t\tconst colHeaders = Array.from(document.querySelectorAll('thead > tr > th.appointment-cell'));\r\n\t\tfor (const colHeader of colHeaders) {\r\n\t\t\tconst ejecutivo = this.props.ejecutivos.find(ejecutivo => ejecutivo.id === colHeader.dataset.ejecutivo);\r\n\t\t\tif ((asistente.cgi === true && ejecutivo.cgi === true) ||\r\n\t\t\t\t(asistente.latamTopArtistOrFreelanceTalent === true && ejecutivo.latamTopArtistsAndFreelanceTalent === true) ||\r\n\t\t\t\t(asistente.newIPs === true && ejecutivo.newIPs === true) ||\r\n\t\t\t\t(asistente.newIdeas === true && ejecutivo.newIdes === true) ||\r\n\t\t\t\t(asistente.stopMotion === true && ejecutivo.stopMotion === true) ||\r\n\t\t\t\t(asistente.topStudio === true && ejecutivo.topStudios === true) ||\r\n\t\t\t\t(asistente.twoD === true && ejecutivo.twoD === true) ||\r\n\t\t\t\t(asistente.threeD === true && ejecutivo.threeD === true) ||\r\n\t\t\t\t(asistente.videogames === true && ejecutivo.videogames === true)) {\r\n\t\t\t\tcolHeader.classList.add('active');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleEjecutivoMouseOver = ejecutivo => {\r\n\t\tthis.clearActiveCells();\r\n\t\tconst rowHeaders = Array.from(document.querySelectorAll('tbody > tr > th.appointment-cell'));\r\n\t\tfor (const rowHeader of rowHeaders) {\r\n\t\t\tconst asistente = this.props.asistentes.find(asistente => asistente.id === rowHeader.dataset.asistente);\r\n\t\t\tif ((asistente.cgi === true && ejecutivo.cgi === true) ||\r\n\t\t\t\t(asistente.latamTopArtistOrFreelanceTalent === true && ejecutivo.latamTopArtistsAndFreelanceTalent === true) ||\r\n\t\t\t\t(asistente.newIPs === true && ejecutivo.newIPs === true) ||\r\n\t\t\t\t(asistente.newIdeas === true && ejecutivo.newIdes === true) ||\r\n\t\t\t\t(asistente.stopMotion === true && ejecutivo.stopMotion === true) ||\r\n\t\t\t\t(asistente.topStudio === true && ejecutivo.topStudios === true) ||\r\n\t\t\t\t(asistente.twoD === true && ejecutivo.twoD === true) ||\r\n\t\t\t\t(asistente.threeD === true && ejecutivo.threeD === true) ||\r\n\t\t\t\t(asistente.videogames === true && ejecutivo.videogames === true)) {\r\n\t\t\t\trowHeader.classList.add('active');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trenderCell = (props) => {\r\n\t\tconst { columnIndex, rowIndex, style } = props;\r\n\t\tvar result = null;\r\n\t\tif (columnIndex > 0 && rowIndex === 0) {\r\n\t\t\tconst ejecutivo = this.props.ejecutivos[columnIndex - 1];\r\n\t\t\tif (ejecutivo) {\r\n\t\t\t\tresult = (<div\r\n\t\t\t\t\tclassName=\"appointment-cell\"\r\n\t\t\t\t\talign='center'\r\n\t\t\t\t\tstyle={style}\r\n\t\t\t\t\tpadding='6px'\r\n\t\t\t\t\tdata-ejecutivo={ejecutivo.id}\r\n\t\t\t\t\tonMouseOver={() => this.handleEjecutivoMouseOver(ejecutivo)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span style={{ \"writing-mode\": \"vertical-rl\", \"transform\": \"rotate(180deg)\" }}>\r\n\t\t\t\t\t\t{ejecutivo.name}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t} else if (columnIndex == 0 && rowIndex > 0) {\r\n\t\t\tconst asistente = this.props.asistentes[rowIndex - 1];\r\n\t\t\tif (asistente) {\r\n\t\t\t\tresult = (<div\r\n\t\t\t\t\tclassName=\"appointment-cell\"\r\n\t\t\t\t\tstyle={style}\r\n\t\t\t\t\tcursor='alias'\r\n\t\t\t\t\tdata-asistente={asistente.id}\r\n\t\t\t\t\tonMouseOver={() => this.handleAsistenteMouseOver(asistente)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{asistente.name}\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t} else if (columnIndex > 0 && rowIndex > 0) {\r\n\t\t\tconst asistente = this.props.asistentes[rowIndex - 1];\r\n\t\t\tconst ejecutivo = this.props.ejecutivos[columnIndex - 1];\r\n\t\t\tif (asistente && ejecutivo) {\r\n\t\t\t\tresult = (<div\r\n\t\t\t\t\tstyle={style}>\r\n\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" onClick={() => this.handleClickEditAppointment(asistente, ejecutivo)}>\r\n\t\t\t\t\t\t<Event />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst columns = this.getColumns();\r\n\t\tconst data = this.getData();\r\n\t\treturn (\r\n\t\t\t<AutoResizer>\r\n        {({ width, height }) => (\r\n\t\t\t\t\t<BaseTable\r\n\t\t\t\t\t\tfixed\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\theight={height}\r\n\t\t\t\t\t\theaderHeight={150}\r\n\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n      </AutoResizer>)\r\n\t}\r\n}\r\n\r\nexport default Appointments;","import React from 'react';\r\nimport { Button, Chip, Collapse, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, InputLabel, TextField, MenuItem, ListSubheader, Select } from '@material-ui/core';\r\nimport { Gavel } from '@material-ui/icons'\r\nimport { Alert, Autocomplete } from '@material-ui/lab';\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nclass AppointmentInputComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tmoment.locale('es');\r\n\t\tthis.state = AppointmentInputComponent.stateFromProps(props);\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.open === true && state.open === false) {\r\n\t\t\treturn AppointmentInputComponent.stateFromProps(props);\r\n\t\t} else {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stateFromProps = function (props) {\r\n\t\tconst appointment = props.appointment;\r\n\t\tif (appointment) {\r\n\t\t\tlet datetimeOptions = null;\r\n\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\tconst ejecutivoAppointments = props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === appointment.ejecutivos[0].id));\r\n\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptionsForEjecutivo(appointment.ejecutivos[0], appointment.duration, ejecutivoAppointments)\r\n\t\t\t} else {\r\n\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptions();\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\topen: props.open,\r\n\t\t\t\topenAlert: false,\r\n\t\t\t\tid: appointment.id,\r\n\t\t\t\tappointments: props.appointments,\r\n\t\t\t\tasistentes: appointment.asistentes,\r\n\t\t\t\tasistentesOptions: props.asistentes || appointment.asistentes,\r\n\t\t\t\tdatetime: appointment.datetime,\r\n\t\t\t\tdatetimeOptions: datetimeOptions,\r\n\t\t\t\tduration: appointment.duration,\r\n\t\t\t\tejecutivos: appointment.ejecutivos,\r\n\t\t\t\tejecutivosOptions: props.ejecutivos || appointment.ejecutivos\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tlet asistentes = [];\r\n\t\t\tif (props.asistente) {\r\n\t\t\t\tasistentes.push(props.asistente);\r\n\t\t\t}\r\n\t\t\tlet ejecutivos = [];\r\n\t\t\tif (props.ejecutivo) {\r\n\t\t\t\tejecutivos.push(props.ejecutivo);\r\n\t\t\t}\r\n\t\t\tlet ejecutivoAppointments = [];\r\n\t\t\tif (props.appointments && ejecutivos.length > 0) {\r\n\t\t\t\tejecutivoAppointments = props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivos[0].id));\r\n\t\t\t}\r\n\t\t\tconst datetimeOptions =\r\n\t\t\t\tejecutivos.length > 0\r\n\t\t\t\t\t? AppointmentInputComponent.getDatetimeOptionsForEjecutivo(ejecutivos[0], 30, ejecutivoAppointments)\r\n\t\t\t\t\t: AppointmentInputComponent.getDatetimeOptions();\r\n\t\t\treturn {\r\n\t\t\t\topen: props.open,\r\n\t\t\t\topenAlert: false,\r\n\t\t\t\tid: null,\r\n\t\t\t\tappointments: props.appointments,\r\n\t\t\t\tasistentes: asistentes,\r\n\t\t\t\tasistentesOptions: props.asistentes,\r\n\t\t\t\tdatetime: datetimeOptions.length > 0 && datetimeOptions[0].times.length > 0 ? datetimeOptions[0].times[0].value : null,\r\n\t\t\t\tdatetimeOptions: datetimeOptions,\r\n\t\t\t\tduration: 20,\r\n\t\t\t\tejecutivos: ejecutivos,\r\n\t\t\t\tejecutivosOptions: props.ejecutivos\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getDatetimeOptions = function () {\r\n\t\tlet datetimeOptions = [];\r\n\t\tconst timezone = 'America/Mexico_City';\r\n\t\tconst firstDay = moment.tz('2020-08-31', timezone);\r\n\t\tfor (let day = 0; day < 6; day++) {\r\n\t\t\tconst currentDay = firstDay.clone().add(day, 'day');\r\n\t\t\tconst date = currentDay.format('YYYY-MM-DD');\r\n\t\t\tconst datetimeOption = { date, times: [] };\r\n\t\t\tfor (let hour = 8; hour <= 16; hour++) {\r\n\t\t\t\tfor (let slot = 0; slot <= 6; slot++) {\r\n\t\t\t\t\tif (hour === 16 && slot >= 5) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst availabilityDatetime = firstDay.clone().add(day, 'day').add(hour, 'hour').add(slot * 10, 'minute');\r\n\t\t\t\t\tdatetimeOption.times.push({ time: availabilityDatetime.format('HH:mm'), value: availabilityDatetime.format() });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdatetimeOptions.push(datetimeOption);\r\n\t\t}\r\n\t\treturn datetimeOptions;\r\n\t}\r\n\r\n\tstatic getDatetimeOptionsForEjecutivo = function (ejecutivo, duration, ejecutivoAppointments) {\r\n\t\tlet datetimeOptions = [];\r\n\t\tif (ejecutivo) {\r\n\t\t\tconst dates = [];\r\n\t\t\tfor (let availability of ejecutivo.availability) {\r\n\t\t\t\tconst datetime = moment(availability.datetime);\r\n\t\t\t\tconst date = datetime.format('YYYY-MM-DD');\r\n\t\t\t\tif (dates.includes(date) === false) {\r\n\t\t\t\t\tdates.push(date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdates.sort();\r\n\t\t\tdatetimeOptions = dates.map(date => {\r\n\t\t\t\tconst result = { date, times: [] };\r\n\t\t\t\tfor (let availability of ejecutivo.availability) {\r\n\t\t\t\t\tconst availabilityDatetime = moment(availability.datetime);\r\n\t\t\t\t\tconst availabilityDate = availabilityDatetime.format('YYYY-MM-DD');\r\n\t\t\t\t\tif (availabilityDate === date) {\r\n\t\t\t\t\t\tconst isAvailable = AppointmentInputComponent.isDatetimeAvailableForEjecutivo(ejecutivo, availabilityDatetime, duration, ejecutivoAppointments);\r\n\t\t\t\t\t\tif (isAvailable === true) {\r\n\t\t\t\t\t\t\tresult.times.push({ time: availabilityDatetime.format('HH:mm'), value: availability.datetime });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t});\r\n\t\t\tdatetimeOptions = datetimeOptions.filter(datetimeOption => datetimeOption.times.length > 0);\r\n\t\t}\r\n\t\treturn datetimeOptions;\r\n\t}\r\n\r\n\tstatic isDatetimeAvailableForEjecutivo = function (ejecutivo, datetimeMoment, duration, ejecutivoAppointments, currentAppointmentId) {\r\n\t\tlet isAvailable = true;\r\n\t\tfor (let i = 0; i < duration / 10; i++) {\r\n\t\t\tconst adjustedDatetimeMoment = datetimeMoment.clone().add(i * 10, 'minutes');\r\n\t\t\tconst availableSlot = ejecutivo.availability.find(element => element.datetime === adjustedDatetimeMoment.format());\r\n\t\t\tif (!availableSlot) {\r\n\t\t\t\tisAvailable = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (AppointmentInputComponent.isDatetimeBlockedByAppointments(ejecutivoAppointments, adjustedDatetimeMoment, currentAppointmentId) === true) {\r\n\t\t\t\tisAvailable = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isAvailable;\r\n\t}\r\n\r\n\tstatic isDatetimeBlockedByAppointments = function (appointments, datetimeMoment, currentAppointmentId) {\r\n\t\tlet result = false;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (currentAppointmentId && appointment.id === currentAppointmentId) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tconst appointmentDatetime = moment(appointment.datetime);\r\n\t\t\tfor (let i = 0; i < appointment.duration / 10; i++) {\r\n\t\t\t\tconst adjustedAppointmentDateTime = appointmentDatetime.clone().add(i * 10, 'minutes');\r\n\t\t\t\tif (adjustedAppointmentDateTime.isSame(datetimeMoment) === true) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (result === true) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetAsistenteAppointments = asistente => {\r\n\t\tconst asistenteId = asistente.id;\r\n\t\treturn this.props.appointments.filter(appointment => appointment.asistentes.find(asistente => asistente.id === asistenteId));\r\n\t}\r\n\r\n\tgetAsistenteOptionStyle(asistente) {\r\n\t\tconst style = {};\r\n\t\tconst asistenteAppointments = this.getAsistenteAppointments(asistente)\r\n\t\tconst isAvailable = AppointmentInputComponent.isDatetimeBlockedByAppointments(asistenteAppointments, moment(this.state.datetime), this.state.id) === false;\r\n\t\tif (isAvailable === true) {\r\n\t\t\tstyle['background-color'] = '#81c784';\r\n\t\t} else {\r\n\t\t\tstyle['background-color'] = '#e57373';\r\n\t\t}\r\n\t\treturn style;\r\n\t}\r\n\r\n\tgetEjecutivoAppointments = ejecutivo => {\r\n\t\tconst ejecutivoId = ejecutivo.id;\r\n\t\treturn this.props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivoId));\r\n\t}\r\n\r\n\tgetEjecutivoOptionStyle(ejecutivo) {\r\n\t\tconst style = {};\r\n\t\tconst ejecutivoAppointments = this.getEjecutivoAppointments(ejecutivo);\r\n\t\tif (ejecutivo.availability) {\r\n\t\t\tconst isAvailable = AppointmentInputComponent.isDatetimeAvailableForEjecutivo(ejecutivo, moment(this.state.datetime), this.state.duration, ejecutivoAppointments, this.state.id);\r\n\t\t\tif (isAvailable === true) {\r\n\t\t\t\tstyle['background-color'] = '#81c784';\r\n\t\t\t} else {\r\n\t\t\t\tstyle['background-color'] = '#e57373';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn style;\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleDelete = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t\tthis.props.onDelete(this.state.id);\r\n\t};\r\n\r\n\thandleCheckedChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.checked });\r\n\t}\r\n\r\n\thandleFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit({\r\n\t\t\tid: this.state.id,\r\n\t\t\tasistentes: this.state.asistentes,\r\n\t\t\tdatetime: this.state.datetime,\r\n\t\t\tduration: this.state.duration,\r\n\t\t\tejecutivos: this.state.ejecutivos\r\n\t\t});\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleValueChange = event => this.handleMultipleValueChange(event.target.name, event.target.value);\r\n\r\n\thandleMultipleValueChange = (name, value) => {\r\n\t\tthis.setState(\r\n\t\t\t{ [name]: value },\r\n\t\t\t() => {\r\n\t\t\t\tlet datetimeOptions = null;\r\n\t\t\t\tif (this.state.ejecutivos.length > 0) {\r\n\t\t\t\t\tconst ejecutivoAppointments = this.props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === this.state.ejecutivos[0].id));\r\n\t\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptionsForEjecutivo(this.state.ejecutivos[0], this.state.duration, ejecutivoAppointments)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptions();\r\n\t\t\t\t}\r\n\t\t\t\tlet datetime = this.state.datetime;\r\n\t\t\t\tif (!datetimeOptions.find(datetimeOption => datetimeOption.times.find(time => time.value === datetime))) {\r\n\t\t\t\t\tdatetime = datetimeOptions.length > 0 && datetimeOptions[0].times.length > 0 ? datetimeOptions[0].times[0].value : null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdatetime: datetime,\r\n\t\t\t\t\tdatetimeOptions: datetimeOptions\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tmakeSelectItems = (datetimeOptions) => {\r\n\t\tconst items = [];\r\n\t\tfor (let i = 0; i < datetimeOptions.length; i++) {\r\n\t\t\tconst datetimeOption = datetimeOptions[i];\r\n\t\t\titems.push(<ListSubheader key={i} disableSticky>{datetimeOption.date}</ListSubheader>);\r\n\t\t\tfor (let j = 0; j < datetimeOption.times.length; j++) {\r\n\t\t\t\tconst datetimeOptionTime = datetimeOption.times[j];\r\n\t\t\t\titems.push(\r\n\t\t\t\t\t<MenuItem key={((i + 1) * 10) + j} value={datetimeOptionTime.value}>\r\n\t\t\t\t\t\t{datetimeOptionTime.time}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn items;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { asistentes, asistentesOptions, datetime, datetimeOptions, duration, ejecutivos, ejecutivosOptions, id, openAlert } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog disableBackdropClick={true} open={this.state.open} onClose={this.handleCancel} fullWidth maxWidth=\"sm\">\r\n\t\t\t\t<form onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogTitle>Cita</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tvalue={asistentes}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('asistentes', value)}\r\n\t\t\t\t\t\t\toptions={asistentesOptions}\r\n\t\t\t\t\t\t\tgetOptionLabel={option => option.name}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Asistentes\" margin=\"normal\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\trenderTags={(value, getTagProps) =>\r\n\t\t\t\t\t\t\t\tvalue.map((option, index) => (\r\n\t\t\t\t\t\t\t\t\t<Chip label={option.name} style={this.getAsistenteOptionStyle(option)} {...getTagProps({ index })} />\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tvalue={ejecutivos}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('ejecutivos', value)}\r\n\t\t\t\t\t\t\toptions={ejecutivosOptions}\r\n\t\t\t\t\t\t\tgetOptionLabel={option => option.name}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Ejecutivos\" margin=\"normal\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\trenderTags={(value, getTagProps) =>\r\n\t\t\t\t\t\t\t\tvalue.map((option, index) => (\r\n\t\t\t\t\t\t\t\t\t<Chip icon={option.isJury === true && <Gavel />} label={option.name} style={this.getEjecutivoOptionStyle(option)} {...getTagProps({ index })} />\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel=\"Duracin (minutos)\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"duration\"\r\n\t\t\t\t\t\t\tvalue={duration}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tstep: 10\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControl fullWidth margin=\"normal\">\r\n\t\t\t\t\t\t\t<InputLabel shrink>\r\n\t\t\t\t\t\t\t\tFecha y hora\r\n        \t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tname=\"datetime\"\r\n\t\t\t\t\t\t\t\tvalue={datetime}\r\n\t\t\t\t\t\t\t\tonChange={this.handleValueChange}\r\n\t\t\t\t\t\t\t\trenderValue={value => value ? moment(value).format('DD MMM, HH:mm') : ''}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.makeSelectItems(datetimeOptions)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<Collapse in={openAlert}>\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">This is an error alert  check it out!</Alert>\r\n\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t{id && <Button onClick={this.handleDelete} color=\"secondary\">Eliminar</Button>}\r\n\t\t\t\t\t\t<Button onClick={this.handleCancel}>Cancelar</Button>\r\n\t\t\t\t\t\t{this.props.onSubmit &&\r\n\t\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Aceptar</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppointmentInputComponent","import moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nfunction getIdeatoonProjects(asistentes) {\r\n\tconst ideatoonProjects = [...new Set(asistentes.filter(asistente => !!asistente.ideatoonProjects).flatMap(asistente => asistente.ideatoonProjects))];\r\n\tideatoonProjects.sort((a, b) => sortAlphabetically(a, b));\r\n\treturn ideatoonProjects;\r\n}\r\n\r\nfunction getJurados(ejecutivos) {\r\n\tconst jurados = ejecutivos.filter(ejecutivo => ejecutivo.isJury === true);\r\n\tjurados.sort((a, b) => sortAlphabeticallyByName(a, b));\r\n\treturn jurados;\r\n}\r\n\r\nfunction sortAlphabetically(a, b) {\r\n\tconst nameA = a.toUpperCase();\r\n\tconst nameB = b.toUpperCase();\r\n\tif (nameA < nameB) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (nameA > nameB) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction sortAlphabeticallyByDatetime(a, b) {\r\n\tif (!a.datetime) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (!b.datetime) {\r\n\t\treturn -1;\r\n\t}\r\n\tvar nameA = moment(a.datetime);\r\n\tvar nameB = moment(b.datetime);\r\n\tif (nameA.isBefore(nameB) === true) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (nameB.isBefore(nameA) === true) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction sortAlphabeticallyByName(a, b) {\r\n\tconst nameA = a.name.toUpperCase();\r\n\tconst nameB = b.name.toUpperCase();\r\n\tif (nameA < nameB) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (nameA > nameB) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nexport { getIdeatoonProjects, getJurados, sortAlphabetically, sortAlphabeticallyByDatetime, sortAlphabeticallyByName };","import React from 'react';\r\nimport { Box, Button, Grid, Snackbar } from '@material-ui/core';\r\nimport Appointments from './Appointments'\r\nimport AppointmentInputComponent from './AppointmentInputComponent'\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\nimport { getJurados, sortAlphabeticallyByDatetime } from './Utils'\r\n\r\nclass AppointmentsPanel extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputAppointment: null,\r\n\t\t\tinputAppointmentComponentIsOpened: false,\r\n\t\t\tjurados: getJurados(this.props.ejecutivos),\r\n\t\t\tselectedAsistente: null,\r\n\t\t\tselectedEjecutivo: null,\r\n\t\t\tsnackbarOpen: false\r\n\t\t}\r\n\t\tmoment.locale('es');\r\n\t}\r\n\r\n\thandleClickAddAppointment = (asistenteId, ejecutivoId) => {\r\n\t\tconst asistente = this.props.asistentes.find(asistente => asistente.id === asistenteId);\r\n\t\tconst ejecutivo = this.props.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivoId);\r\n\t\tthis.setState({\r\n\t\t\tinputAppointmentComponentIsOpened: true,\r\n\t\t\tinputAsistente: asistente,\r\n\t\t\tinputEjecutivo: ejecutivo\r\n\t\t});\r\n\t}\r\n\r\n\thandleClickEditAppointment = (id) => {\r\n\t\tconst appointment = this.props.appointments.find(appointment => appointment.id === id);\r\n\t\tthis.setState({\r\n\t\t\tinputAppointmentComponentIsOpened: true,\r\n\t\t\tinputAppointment: appointment\r\n\t\t});\r\n\t}\r\n\r\n\thandleClickExport = () => {\r\n\t\tconst timezone = 'America/Mexico_City';\r\n\t\tconst appointments = this.props.appointments.filter(appointment => appointment.datetime).sort((a, b) => sortAlphabeticallyByDatetime(a, b));\r\n\t\tlet text = '';\r\n\t\tlet currentDate, currentTime;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (appointment.datetime && appointment.ejecutivos && appointment.asistentes && appointment.duration) {\r\n\r\n\t\t\t\tconst currentDatetime = moment(appointment.datetime);\r\n\t\t\t\tconst date = moment.tz(currentDatetime.format('YYYY-MM-DDTHH:mm'), timezone);\r\n\t\t\t\tif (!currentDate || currentDate !== date.format('dddd DD MMMM')) {\r\n\t\t\t\t\tcurrentDate = date.format('dddd DD MMMM');\r\n\t\t\t\t\ttext += currentDate + '\\r\\n\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentTime || currentTime !== date.format('hh:mm A z (Z)')) {\r\n\t\t\t\t\tcurrentTime = date.format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '\\t' + date.tz('America/Mexico_City').format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\t\ttext += '\\t\\tEjecutivos: ' + appointment.ejecutivos.map(ejecutivo => ejecutivo.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (appointment.asistentes.length > 0) {\r\n\t\t\t\t\ttext += '\\t\\tAsistentes: ' + appointment.asistentes.map(asistente => asistente.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\t\\tDuracin: ' + appointment.duration + 'min' + '\\r\\n\\r\\n';\r\n\t\t\t} else {\r\n\t\t\t\t//console.out('Error en ' + appointment);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.copy(text);\r\n\t\tthis.setState({ snackbarOpen: true })\r\n\t}\r\n\r\n\tcopy = (text) => {\r\n\t\tvar textArea = document.createElement(\"textarea\");\r\n\t\ttextArea.value = text;\r\n\r\n\t\t// Avoid scrolling to bottom\r\n\t\ttextArea.style.top = \"0\";\r\n\t\ttextArea.style.left = \"0\";\r\n\t\ttextArea.style.position = \"fixed\";\r\n\r\n\t\tdocument.body.appendChild(textArea);\r\n\t\ttextArea.focus();\r\n\t\ttextArea.select();\r\n\r\n\t\ttry {\r\n\t\t\tvar successful = document.execCommand('copy');\r\n\t\t\tvar msg = successful ? 'successful' : 'unsuccessful';\r\n\t\t\tconsole.log('Fallback: Copying text command was ' + msg);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Fallback: Oops, unable to copy', err);\r\n\t\t}\r\n\r\n\t\tdocument.body.removeChild(textArea);\r\n\t}\r\n\r\n\thandleDeleteAppointment = (id) => {\r\n\t\tthis.props.onDeleteAppointment(id);\t\t\r\n\t}\r\n\r\n\thandleInputAppointmentClose = () => {\r\n\t\tthis.setState({ inputAppointmentComponentIsOpened: false, inputAppointment: null });\r\n\t}\r\n\r\n\thandleSelectAsistente = (asistente) => {\r\n\t\tthis.setState({ selectedAsistente: asistente });\r\n\t}\r\n\r\n\thandleSelectEjecutivo = (ejecutivo) => {\r\n\t\tthis.setState({ selectedEjecutivo: ejecutivo });\r\n\t}\r\n\r\n\thandleSnackbarClose = () => {\r\n\t\tthis.setState({ snackbarOpen: false });\r\n\t}\r\n\r\n\thandleSubmitAppointment = (appointment) => {\r\n\t\tthis.props.onSubmitAppointment(appointment);\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { snackbarOpen } = this.state;\r\n\t\tconst { appointments, asistentes, ejecutivos } = this.props;\r\n\t\treturn (\r\n\t\t\t<Box>\r\n\t\t\t\t<AppointmentInputComponent\r\n\t\t\t\t\topen={this.state.inputAppointmentComponentIsOpened}\r\n\t\t\t\t\tappointment={this.state.inputAppointment}\r\n\t\t\t\t\tappointments={appointments}\r\n\t\t\t\t\tasistente={this.state.inputAsistente}\r\n\t\t\t\t\tasistentes={asistentes}\r\n\t\t\t\t\tejecutivo={this.state.inputEjecutivo}\r\n\t\t\t\t\tejecutivos={ejecutivos}\r\n\t\t\t\t\tonClose={this.handleInputAppointmentClose}\r\n\t\t\t\t\tonDelete={this.handleDeleteAppointment}\r\n\t\t\t\t\tonSubmit={this.handleSubmitAppointment} />\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={snackbarOpen}\r\n\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t\tautoHideDuration={3000}\r\n\t\t\t\t\tmessage=\"Agenda copiada\"\r\n\t\t\t\t/>\t\t\t\r\n\t\t\t<Grid container spacing={2} style={{ \"height\": \"500px\" }}>\r\n\t\t\t\t<Grid item xs={12} style={{ \"height\": \"500px\" }}>\r\n\t\t\t\t\t<Appointments\r\n\t\t\t\t\t\tappointments={appointments}\r\n\t\t\t\t\t\tasistentes={asistentes}\r\n\t\t\t\t\t\tejecutivos={ejecutivos}\r\n\t\t\t\t\t\tonAddAppointment={this.handleClickAddAppointment}\r\n\t\t\t\t\t\tonEditAppointment={this.handleClickEditAppointment}\r\n\t\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xd={12}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\tjustifyContent=\"flex-end\"\r\n\t\t\t\t\t\talignItems=\"center\"\t\t\t\t\t\t\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button style={{ \"margin-top\": \"5px\" }} onClick={this.handleClickExport}>\r\n\t\t\t\t\t\t\tExportar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppointmentsPanel;","import React from 'react';\r\nimport { Avatar, IconButton, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport { EmojiEvents, MoreVert } from '@material-ui/icons'\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nclass Asistentes extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedAsistente: null\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tthis.refs.list.forceUpdate();\r\n\t\treturn true;\r\n\t}\r\n\r\n\thandleItemDelete = (id) => {\r\n\t\tthis.props.onDelete(id);\r\n\t}\r\n\r\n\thandleItemEdit = (id) => {\r\n\t\tthis.props.onEdit(id);\r\n\t}\r\n\r\n\thandleItemSelect = (id) => {\r\n\t\tconst selectedAsistente = this.props.asistentes.find(asistente => asistente.id === id);\r\n\t\tthis.setState({ selectedAsistente: selectedAsistente });\r\n\t\tthis.props.onSelect(selectedAsistente);\r\n\t\tthis.refs.list.forceUpdate();\r\n\t}\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tthis.props.onSendSchedule(id);\r\n\t}\r\n\r\n\trenderRow = (props) => {\r\n\t\tconst { index, style } = props;\r\n\t\tconst asistente = this.props.asistentes[index];\r\n\t\tconst { selectedAsistente } = this.state;\r\n\t\treturn (\r\n\t\t\t<Asistente\r\n\t\t\t\tkey={asistente.id}\r\n\t\t\t\tid={asistente.id}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tname={asistente.name}\r\n\t\t\t\tideatoonProjects={asistente.ideatoonProjects}\r\n\t\t\t\tisSelected={asistente.id === selectedAsistente?.id}\r\n\t\t\t\tstudio={asistente.studio}\r\n\t\t\t\ttimezone={asistente.timezone}\r\n\t\t\t\tonDelete={this.handleItemDelete}\r\n\t\t\t\tonEdit={this.handleItemEdit}\r\n\t\t\t\tonSelect={this.handleItemSelect}\r\n\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { asistentes } = this.props;\r\n\t\treturn (\r\n\t\t\t<FixedSizeList\r\n\t\t\t\tref='list'\r\n\t\t\t\titemSize={80}\r\n\t\t\t\titemCount={asistentes.length}\r\n\t\t\t\theight={400}\r\n\t\t\t>\r\n\t\t\t\t{this.renderRow}\r\n\t\t\t</FixedSizeList>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Asistente extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tanchorEl: null\r\n\t\t}\r\n\t}\r\n\r\n\thandleItemClick = () => {\r\n\t\tthis.props.onSelect(this.props.id);\r\n\t}\r\n\r\n\thandleItemEdit = () => {\r\n\t\tthis.props.onEdit(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleItemDelete = () => {\r\n\t\tthis.props.onDelete(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleMenuOpen = (event) => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget });\r\n\t}\r\n\r\n\thandleMenuClose = () => {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleSendSchedule = () => {\r\n\t\tthis.props.onSendSchedule(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\tdense\r\n\t\t\t\tselected={this.props.isSelected}\r\n\t\t\t\tContainerProps={{ style: this.props.style }}\r\n\t\t\t\tContainerComponent=\"div\"\r\n\t\t\t\tonClick={this.handleItemClick}\r\n\t\t\t>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t{this.props.ideatoonProjects && this.props.ideatoonProjects.length > 0\r\n\t\t\t\t\t\t? <Avatar><EmojiEvents /></Avatar>\r\n\t\t\t\t\t\t: <Avatar></Avatar>\r\n\t\t\t\t\t}\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText primary={this.props.name} primaryTypographyProps={{ noWrap: true }} secondary={\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.studio}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.ideatoonProjects && this.props.ideatoonProjects.length > 0 && 'Ideatoon: ' + this.props.ideatoonProjects.join(', ')}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.timezone ?? 'No timezone'}</Typography>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t<IconButton edge=\"end\" onClick={this.handleMenuOpen}>\r\n\t\t\t\t\t\t<MoreVert />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Menu anchorEl={this.state.anchorEl} keepMounted open={Boolean(this.state.anchorEl)} onClose={this.handleMenuClose}>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemEdit}>Editar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemDelete}>Eliminar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleSendSchedule}>Enviar Agenda</MenuItem>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Asistentes;","import React from 'react';\r\nimport { Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, FormControlLabel, TextField } from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nclass AsistenteInputComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tmoment.locale('es');\r\n\t\tthis.state = AsistenteInputComponent.stateFromProps(props);\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.open === true && state.open === false) {\r\n\t\t\treturn AsistenteInputComponent.stateFromProps(props);\r\n\t\t} else {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stateFromProps = function (props) {\r\n\t\tconst asistente = props.asistente;\r\n\t\treturn {\r\n\t\t\topen: props.open,\r\n\t\t\tid: asistente?.id || null,\r\n\t\t\tname: asistente?.name || '',\r\n\t\t\tideatoonProjects: asistente?.ideatoonProjects || [],\r\n\t\t\tideatoonProjectOptions: props.ideatoonProjects,\r\n\t\t\tcgi: asistente?.cgi || false,\r\n\t\t\tlatamTopArtistOrFreelanceTalent: asistente?.latamTopArtistOrFreelanceTalent || false,\r\n\t\t\tnewIPs: asistente?.newIPs || false,\r\n\t\t\tnewIdeas: asistente?.newIdeas || false,\r\n\t\t\tstudio: asistente?.studio || '',\r\n\t\t\tstopMotion: asistente?.stopMotion || false,\r\n\t\t\ttimezone: asistente?.timezone || '',\r\n\t\t\ttopStudio: asistente?.topStudio || false,\r\n\t\t\ttwoD: asistente?.twoD || false,\r\n\t\t\tthreeD: asistente?.threeD || false,\r\n\t\t\tvideogames: asistente?.videogames || false,\r\n\t\t};\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleCheckedChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.checked });\r\n\t}\r\n\r\n\thandleFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit({\r\n\t\t\tid: this.state.id,\r\n\t\t\tname: this.state.name.trim(),\r\n\t\t\tideatoonProjects: this.state.ideatoonProjects,\r\n\t\t\tcgi: this.state.cgi,\r\n\t\t\tlatamTopArtistOrFreelanceTalent: this.state.latamTopArtistOrFreelanceTalent,\r\n\t\t\tnewIPs: this.state.newIPs,\r\n\t\t\tnewIdeas: this.state.newIdeas,\r\n\t\t\tstopMotion: this.state.stopMotion,\r\n\t\t\tstudio: this.state.studio,\r\n\t\t\ttimezone: this.state.timezone,\r\n\t\t\ttopStudio: this.state.topStudio,\r\n\t\t\ttwoD: this.state.twoD,\r\n\t\t\tthreeD: this.state.threeD,\r\n\t\t\tvideogames: this.state.videogames\r\n\t\t});\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleValueChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t}\r\n\r\n\thandleMultipleValueChange = (name, value) => {\r\n\t\tthis.setState({ [name]: value });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { name, ideatoonProjectOptions, ideatoonProjects, topStudio, cgi, latamTopArtistOrFreelanceTalent, newIPs, newIdeas, stopMotion, studio, twoD, threeD, timezone, videogames } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog disableBackdropClick={true} open={this.state.open} onClose={this.handleCancel}>\r\n\t\t\t\t<form onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogTitle>Asistente</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField autoFocus fullWidth={true} label=\"Name\" margin=\"dense\" name=\"name\" required type=\"text\" value={name}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Studio name\" margin=\"dense\" name=\"studio\" type=\"text\" value={studio}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tvalue={ideatoonProjects}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('ideatoonProjects', value)}\r\n\t\t\t\t\t\t\tselectOnFocus\r\n\t\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\t\thandleHomeEndKeys\r\n\t\t\t\t\t\t\toptions={ideatoonProjectOptions}\r\n\t\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Ideatoon project\" margin=\"dense\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tvalue={timezone}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('timezone', value)}\r\n\t\t\t\t\t\t\toptions={moment.tz.names()}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Timezone\" margin=\"dense\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"2D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={twoD} onChange={this.handleCheckedChange} name=\"twoD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"3D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={threeD} onChange={this.handleCheckedChange} name=\"threeD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Videogames\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={videogames} onChange={this.handleCheckedChange} name=\"videogames\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Stop motion\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={stopMotion} onChange={this.handleCheckedChange} name=\"stopMotion\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"CGI\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={cgi} onChange={this.handleCheckedChange} name=\"cgi\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Studio that provide services or work-from-hire\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={topStudio} onChange={this.handleCheckedChange} name=\"topStudio\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Latam top artist or freelance talent\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={latamTopArtistOrFreelanceTalent} onChange={this.handleCheckedChange} name=\"latamTopArtistOrFreelanceTalent\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"New IPs in development\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIPs} onChange={this.handleCheckedChange} name=\"newIPs\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Rising and 'under the radar' studios\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIdeas} onChange={this.handleCheckedChange} name=\"newIdeas\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleCancel}>Cancelar</Button>\r\n\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Aceptar</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { AsistenteInputComponent };","import React from 'react';\r\nimport { Box, Table, TableBody, TableCell, TableHead, TableRow } from '@material-ui/core';\r\nimport moment from 'moment-timezone';\r\nimport AppointmentInputComponent from './AppointmentInputComponent'\r\n\r\nclass AppointmentsCalendar extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst timezone = 'America/Mexico_City';\r\n\t\tconst rows = [];\r\n\t\tfor (let i = 0; i < 24 * 6; i++) {\r\n\t\t\tconst totalMinutes = 10 * i;\r\n\t\t\tconst isDisplayTimeEnabled = totalMinutes % 60 === 0;\r\n\t\t\tlet displayTime = '';\r\n\t\t\tconst minute = totalMinutes % 60;\r\n\t\t\tconst hour = (totalMinutes - minute) / 60;\r\n\t\t\tif (isDisplayTimeEnabled === true) {\r\n\t\t\t\tif (hour === 0) {\r\n\t\t\t\t\tdisplayTime += '12';\r\n\t\t\t\t} else if (hour < 10) {\r\n\t\t\t\t\tdisplayTime += '0' + hour;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayTime += hour;\r\n\t\t\t\t}\r\n\t\t\t\tif (minute !== 0) {\r\n\t\t\t\t\tdisplayTime += ':';\r\n\t\t\t\t\tif (minute === 0) {\r\n\t\t\t\t\t\tdisplayTime += '00'\r\n\t\t\t\t\t} else if (minute < 10) {\r\n\t\t\t\t\t\tdisplayTime += '0' + minute;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdisplayTime += minute;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst cells = [];\r\n\t\t\tconst firstDay = moment.tz('2020-08-31', timezone);\r\n\t\t\tfor (let day = 0; day < 6; day++) {\r\n\t\t\t\tconst datetime = firstDay.clone().add(day, 'day').add(hour, 'hour').add(minute, 'minute').format();\r\n\t\t\t\tcells.push({ datetime });\r\n\t\t\t}\r\n\t\t\trows.push({ displayTime, hour, cells });\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tinputAppointment: null,\r\n\t\t\tinputAppointmentComponentIsOpened: false,\r\n\t\t\trows: rows,\r\n\t\t\ttimezone: timezone,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif ((!this.props.ejecutivo && !this.props.asistente) ||\r\n\t\t\t(prevProps.ejecutivo !== this.props.ejecutivo) ||\r\n\t\t\t(prevProps.asistente !== this.props.asistente) || \r\n\t\t\t(prevProps.appointments !== this.props.appointments)) {\r\n\t\t\tthis.clearActiveCells();\r\n\t\t\tthis.clearAppointmentCells();\r\n\t\t}\r\n\t\tif (prevProps.ejecutivo !== this.props.ejecutivo) {\r\n\t\t\tthis.clearAvailableCells();\r\n\t\t\tif (this.props.ejecutivo) {\r\n\t\t\t\tthis.displayAvailability(this.props.ejecutivo.availability);\r\n\t\t\t\tthis.displayEjecutivoAppointments();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.props.asistente) {\r\n\t\t\tthis.displayAsistenteAppointments();\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tdisplayAvailability(availability) {\r\n\t\tdocument.querySelectorAll('td.calendar-cell').forEach(element => {\r\n\t\t\tavailability.forEach(availability => {\r\n\t\t\t\tif (element.dataset.datetime === availability.datetime) {\r\n\t\t\t\t\telement.classList.add('available');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tdisplayAsistenteAppointments() {\r\n\t\tthis.props.appointments.forEach(appointment => {\r\n\t\t\tif (appointment.asistentes.find(asistente => asistente.id === this.props.asistente.id)) {\r\n\t\t\t\tconst calendarCells = Array.from(document.querySelectorAll('td.calendar-cell'));\r\n\t\t\t\tfor (let i = 0; i < appointment.duration / 10; i++) {\r\n\t\t\t\t\tconst datetime = moment(appointment.datetime).add(i * 10, 'minute').format();\r\n\t\t\t\t\tconst calendarCell = calendarCells.find(cell => cell.dataset.datetime === datetime);\r\n\t\t\t\t\tif (calendarCell) {\r\n\t\t\t\t\t\tcalendarCell.setAttribute('data-appointment-id', appointment.id);\r\n\t\t\t\t\t\tcalendarCell.classList.add('appointment');\r\n\t\t\t\t\t\tif (appointment.ejecutivos.length === 0) {\r\n\t\t\t\t\t\t\tcalendarCell.classList.add('extra');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdisplayEjecutivoAppointments() {\r\n\t\tthis.props.appointments.forEach(appointment => {\r\n\t\t\tif (appointment.ejecutivos.find(ejecutivo => ejecutivo.id === this.props.ejecutivo.id)) {\r\n\t\t\t\tconst calendarCells = Array.from(document.querySelectorAll('td.calendar-cell'));\r\n\t\t\t\tfor (let i = 0; i < appointment.duration / 10; i++) {\r\n\t\t\t\t\tconst datetime = moment(appointment.datetime).add(i * 10, 'minute').format();\r\n\t\t\t\t\tconst calendarCell = calendarCells.find(cell => cell.dataset.datetime === datetime);\r\n\t\t\t\t\tcalendarCell.classList.add('appointment');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetAdjacentCells(cell) {\r\n\t\tconst cellMoment = moment(cell.dataset.datetime);\r\n\t\tconst date = cellMoment.format('YYYY-MM-DD');\r\n\t\tconst hour = cellMoment.format('H');\r\n\t\tconst minute = cellMoment.format('m');\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('td.calendar-cell'));\r\n\t\treturn calendarCells.filter(element => {\r\n\t\t\tconst elementMoment = moment(element.dataset.datetime);\r\n\t\t\tconst elementDate = elementMoment.format('YYYY-MM-DD');\r\n\t\t\tconst elementHour = elementMoment.format('H');\r\n\t\t\tconst elementMinute = elementMoment.format('m');\r\n\t\t\tif (elementDate !== date) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (elementHour !== hour) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (minute < 30 && elementMinute < 30) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (minute >= 30 && elementMinute >= 30) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\r\n\tgetHeaderCells(cell) {\r\n\t\tconst cellDate = moment(cell.dataset.datetime).format('YYYY-MM-DD');\r\n\t\tconst cellHour = moment(cell.dataset.datetime).format('H');\r\n\t\tconst result = [];\r\n\t\tconst colHeaders = Array.from(document.querySelectorAll('thead > tr > th.calendar-cell'));\r\n\t\tconst colHeader = colHeaders.find(element => element.dataset.date === cellDate);\r\n\t\tresult.push(colHeader);\r\n\t\tconst rowHeaders = Array.from(document.querySelectorAll('tbody > tr > th.calendar-cell'));\r\n\t\tconst rowHeader = rowHeaders.find(element => element.dataset.hour === cellHour);\r\n\t\tresult.push(rowHeader);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetInputAvailability() {\r\n\t\tconst availableCalendarCells = Array.from(document.querySelectorAll('td.calendar-cell.available'));\r\n\t\tconst availability = availableCalendarCells.map((element) => {\r\n\t\t\treturn { datetime: element.dataset.datetime }\r\n\t\t});\r\n\t\tavailability.id = this.props.ejecutivo.id;\r\n\t\treturn availability;\r\n\t}\r\n\r\n\tclearActiveCells = () => {\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('.calendar-cell.active'));\r\n\t\tcalendarCells.forEach(element => element.classList.remove('active'));\r\n\t}\r\n\r\n\tclearAppointmentCells = () => {\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('.calendar-cell.appointment'));\r\n\t\tcalendarCells.forEach(element => {\r\n\t\t\telement.removeAttribute('data-appointment-id');\r\n\t\t\telement.classList.remove('appointment');\r\n\t\t});\r\n\t}\r\n\r\n\tclearAvailableCells = () => {\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('.calendar-cell.available'));\r\n\t\tcalendarCells.forEach(element => element.classList.remove('available'));\r\n\t}\r\n\r\n\thandleClick = (event) => {\r\n\t\tif (this.props.ejecutivo) {\r\n\t\t\tconst adjacentCells = this.getAdjacentCells(event.target);\r\n\t\t\tif (event.target.classList.contains('available') === true) {\r\n\t\t\t\tadjacentCells.forEach(element => element.classList.remove('available'));\r\n\t\t\t} else {\r\n\t\t\t\tadjacentCells.forEach(element => element.classList.add('available'));\r\n\t\t\t}\r\n\t\t\tconst availability = this.getInputAvailability();\r\n\t\t\tthis.props.onSubmitAvailability(availability);\r\n\t\t} else if (this.props.asistente) {\r\n\t\t\tconst appointmentId = event.target.dataset.appointmentId;\r\n\t\t\tif (appointmentId) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinputAppointment: this.props.appointments.find(appointment => appointment.id === appointmentId),\r\n\t\t\t\t\tinputAppointmentComponentIsOpened: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleDeleteAppointment = (id) => this.props.onDeleteAppointment(id);\t\r\n\r\n\thandleInputAppointmentClose = () => this.setState({ inputAppointmentComponentIsOpened: false });\t\r\n\r\n\thandleMouseOver = (event) => {\r\n\t\tif (!this.props.ejecutivo) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.clearActiveCells();\r\n\t\tconst adjacentCells = this.getAdjacentCells(event.target);\r\n\t\tadjacentCells.forEach(element => element.classList.add('active'));\r\n\t\tconst headerCells = this.getHeaderCells(event.target);\r\n\t\theaderCells.forEach(element => element.classList.add('active'));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Box>\r\n\t\t\t\t<AppointmentInputComponent\r\n\t\t\t\t\topen={this.state.inputAppointmentComponentIsOpened}\r\n\t\t\t\t\tappointment={this.state.inputAppointment}\r\n\t\t\t\t\tappointments={this.props.appointments}\r\n\t\t\t\t\tonClose={this.handleInputAppointmentClose}\r\n\t\t\t\t\tonDelete={this.handleDeleteAppointment}\r\n\t\t\t\t/>\r\n\t\t\t\t<Table>\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell></TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-05\">Sep 5<br />Lunes</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-06\">Sep 6<br />Martes</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-07\">Sep 7<br />Mircoles</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-08\">Sep 8<br />Jueves</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-09\">Sep 9<br />Viernes</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-10\">Sep 10<br />Sbado</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody onMouseLeave={this.clearActiveCells}>\r\n\t\t\t\t\t\t{this.state.rows.map((row, index) => (\r\n\t\t\t\t\t\t\t<TableRow key={index}>\r\n\t\t\t\t\t\t\t\t{row.displayTime.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" rowSpan={6} component=\"th\" scope=\"row\" onMouseOver={this.clearActiveCells} data-hour={row.hour}>{row.displayTime}</TableCell>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{row.cells.map((cell, index) => (\r\n\t\t\t\t\t\t\t\t\t<TableCell key={index} className=\"calendar-cell\" onClick={this.handleClick} onMouseOver={this.handleMouseOver} data-datetime={cell.datetime}></TableCell>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</Box>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { AppointmentsCalendar };","import React from 'react';\r\nimport { Box, Card, CardContent, CardHeader, Grid, IconButton, Modal } from '@material-ui/core';\r\nimport { Add } from '@material-ui/icons'\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\nimport Asistentes from './Asistentes'\r\nimport { AsistenteInputComponent } from './AsistenteInputComponent'\r\nimport { AppointmentsCalendar } from './AppointmentsCalendar'\r\nimport { getIdeatoonProjects, sortAlphabeticallyByDatetime } from './Utils'\r\n\r\nclass AsistentesPanel extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tideatoonProjects: getIdeatoonProjects(this.props.asistentes),\r\n\t\t\tinputAsistente: null,\r\n\t\t\tinputAsistenteComponentIsOpened: false,\r\n\t\t\tmodalBody: '',\r\n\t\t\tselectedAsistente: null,\r\n\t\t\tsnackbarOpen: false\r\n\t\t}\r\n\t\tmoment.locale('es');\r\n\t}\r\n\r\n\thandleClickAddAsistente = () => {\r\n\t\tthis.setState({ inputAsistenteComponentIsOpened: true });\r\n\t}\r\n\r\n\thandleDeleteAsistente = (id) => {\r\n\t\tif (this.state.selectedAsistente?.id === id) {\r\n\t\t\tthis.setState({ selectedAsistente: null });\r\n\t\t}\r\n\t\tthis.props.onDeleteAsistente(id);\r\n\t}\r\n\r\n\thandleDeleteAppointment = (id) => this.props.onDeleteAppointment(id);\r\n\r\n\thandleEditAsistente = (id) => {\r\n\t\tconst asistente = this.props.asistentes.find(element => element.id === id);\r\n\t\tthis.setState({\r\n\t\t\tinputAsistente: asistente,\r\n\t\t\tinputAsistenteComponentIsOpened: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleInputAsistenteClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tinputAsistenteComponentIsOpened: false,\r\n\t\t\tinputAsistente: null\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelectAsistente = (asistente) => this.setState({ selectedAsistente: asistente });\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tconst asistente = this.props.asistentes.find(element => element.id === id);\r\n\t\tconst filteredAppointments = this.props.appointments.filter(appointment => appointment.asistentes.find(appointmentAsistente => appointmentAsistente.id === id));\r\n\t\tconst timezone = 'US/Pacific';\r\n\t\tlet localTimezone = 'America/Mexico_City';\r\n\t\tif (asistente.timezone) {\r\n\t\t\tlocalTimezone = asistente.timezone;\r\n\t\t}\r\n\t\tconst appointments = filteredAppointments.sort((a, b) => sortAlphabeticallyByDatetime(a, b));\r\n\t\tlet text = '';\r\n\t\tlet currentDate, currentTime;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (appointment.datetime && appointment.ejecutivos && appointment.asistentes && appointment.duration) {\r\n\r\n\t\t\t\tconst currentDatetime = moment(appointment.datetime);\r\n\t\t\t\tconst date = moment.tz(currentDatetime.format('YYYY-MM-DDTHH:mm'), timezone);\r\n\t\t\t\tif (!currentDate || currentDate !== date.format('dddd DD MMMM')) {\r\n\t\t\t\t\tcurrentDate = date.format('dddd DD MMMM');\r\n\t\t\t\t\tcurrentTime = null;\r\n\t\t\t\t\ttext += currentDate.toUpperCase() + ': ';\r\n\t\t\t\t\tswitch (date.format('ddd')) {\r\n\t\t\t\t\t\tcase 'lun.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/85425291494';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mar.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88445795504';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mi.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/86767091338';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'jue.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/87665492231';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vie.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88943327711';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'sb.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/83792773099';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttext += '\\r\\n\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentTime || currentTime !== date.format('hh:mm A z (Z)')) {\r\n\t\t\t\t\tcurrentTime = date.format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '    ' + date.tz(localTimezone).format('hh:mm A') + ' | ' + localTimezone;\r\n\t\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\t\ttext += '        Ejecutivos: ' + appointment.ejecutivos.map(ejecutivo => ejecutivo.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (appointment.asistentes.length > 0) {\r\n\t\t\t\t\ttext += '        Asistentes: ' + appointment.asistentes.map(asistente => asistente.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '        Duracin: 15min' + '\\r\\n\\r\\n';\r\n\t\t\t} else {\r\n\t\t\t\t//console.out('Error en ' + appointment);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst body = (<Box style={{ \"background-color\": \"white\" }}><textarea rows=\"30\" cols=\"100\">{text}</textarea></Box>);\r\n\t\tthis.setState({ modalBody: body, snackbarOpen: true });\r\n\t}\r\n\r\n\thandleSnackbarClose = () => this.setState({ snackbarOpen: false });\r\n\r\n\thandleSubmitAsistente = (asistente) => this.props.onSubmitAsistente(asistente);\r\n\r\n\trender() {\r\n\t\tconst { appointments, asistentes } = this.props;\r\n\t\tconst { modalBody, selectedAsistente, snackbarOpen } = this.state;\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<AsistenteInputComponent\r\n\t\t\t\t\topen={this.state.inputAsistenteComponentIsOpened}\r\n\t\t\t\t\tideatoonProjects={this.state.ideatoonProjects}\r\n\t\t\t\t\tasistente={this.state.inputAsistente}\r\n\t\t\t\t\tonClose={this.handleInputAsistenteClose}\r\n\t\t\t\t\tonSubmit={this.handleSubmitAsistente}\r\n\t\t\t\t/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={snackbarOpen}\r\n\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t{modalBody}\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Grid item sm={4} md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\ttitle={`Asistentes (${asistentes.length})`}\r\n\t\t\t\t\t\t\taction={\r\n\t\t\t\t\t\t\t\t<IconButton edget=\"end\" onClick={this.handleClickAddAsistente}>\r\n\t\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<Asistentes\r\n\t\t\t\t\t\t\t\tasistentes={asistentes}\r\n\t\t\t\t\t\t\t\tonDelete={this.handleDeleteAsistente}\r\n\t\t\t\t\t\t\t\tonEdit={this.handleEditAsistente}\r\n\t\t\t\t\t\t\t\tonSelect={this.handleSelectAsistente}\r\n\t\t\t\t\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item sm={8} md={8}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader title=\"Calendario\" />\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<AppointmentsCalendar\r\n\t\t\t\t\t\t\t\tappointments={appointments}\r\n\t\t\t\t\t\t\t\tasistente={selectedAsistente}\r\n\t\t\t\t\t\t\t\tonDeleteAppointment={this.handleDeleteAppointment}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AsistentesPanel;","import React from 'react';\r\nimport { Avatar, IconButton, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport { Gavel, MoreVert } from '@material-ui/icons'\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nclass Ejecutivos extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedEjecutivo: null\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tthis.refs.list.forceUpdate();\r\n\t\treturn true;\r\n\t}\r\n\r\n\thandleItemDelete = (id) => {\r\n\t\tthis.props.onDelete(id);\r\n\t}\r\n\r\n\thandleItemEdit = (id) => {\r\n\t\tthis.props.onEdit(id);\r\n\t}\r\n\r\n\thandleItemSelect = (id) => {\r\n\t\tconst selectedEjecutivo = this.props.ejecutivos.find(ejecutivo => ejecutivo.id === id);\r\n\t\tthis.setState({ selectedEjecutivo: selectedEjecutivo });\r\n\t\tthis.props.onSelect(selectedEjecutivo);\r\n\t\tthis.refs.list.forceUpdate();\t\t\r\n\t}\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tthis.props.onSendSchedule(id);\r\n\t}\r\n\r\n\trenderRow = (props) => {\r\n\t\tconst { index, style } = props;\r\n\t\tconst ejecutivo = this.props.ejecutivos[index];\r\n\t\tconst { selectedEjecutivo } = this.state;\r\n\t\treturn (\r\n\t\t\t<Ejecutivo\r\n\t\t\t\tkey={index}\r\n\t\t\t\tid={ejecutivo.id}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tname={ejecutivo.name}\r\n\t\t\t\tdescription={`${ejecutivo.positionAtStudio} @ ${ejecutivo.studio}`}\r\n\t\t\t\ttimezone={ejecutivo.timezone}\r\n\t\t\t\tisJury={ejecutivo.isJury}\r\n\t\t\t\tisSelected={ejecutivo.id === selectedEjecutivo?.id}\r\n\t\t\t\tonDelete={this.handleItemDelete}\r\n\t\t\t\tonEdit={this.handleItemEdit}\r\n\t\t\t\tonSelect={this.handleItemSelect}\r\n\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { ejecutivos } = this.props;\r\n\t\treturn (\r\n\t\t\t<FixedSizeList\r\n\t\t\t\tref='list'\r\n\t\t\t\titemSize={80}\r\n\t\t\t\titemCount={ejecutivos.length}\r\n\t\t\t\theight={400}\r\n\t\t\t>\r\n\t\t\t\t{this.renderRow}\r\n\t\t\t</FixedSizeList>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Ejecutivo extends React.PureComponent {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tanchorEl: null\r\n\t\t}\r\n\t}\r\n\r\n\thandleItemClick = () => {\r\n\t\tthis.props.onSelect(this.props.id);\r\n\t}\r\n\r\n\thandleItemEdit = () => {\r\n\t\tthis.props.onEdit(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleItemDelete = () => {\r\n\t\tthis.props.onDelete(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleMenuOpen = (event) => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget });\r\n\t}\r\n\r\n\thandleMenuClose = () => {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleSendSchedule = () => {\r\n\t\tthis.props.onSendSchedule(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\tdense\r\n\t\t\t\tselected={this.props.isSelected}\r\n\t\t\t\tContainerProps={{ style: this.props.style }}\r\n\t\t\t\tContainerComponent=\"div\"\r\n\t\t\t\tonClick={this.handleItemClick}\r\n\t\t\t>\r\n\t\t\t\t{this.props.isJury\r\n\t\t\t\t\t? <ListItemAvatar><Avatar><Gavel /></Avatar></ListItemAvatar>\r\n\t\t\t\t\t: <ListItemAvatar><Avatar alt={this.props.name} /></ListItemAvatar>}\r\n\t\t\t\t<ListItemText primary={this.props.name} secondary={\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.description}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.timezone ?? 'No timezone'}</Typography>\t\t\t\t\t\t\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t} />\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t<IconButton edge=\"end\" onClick={this.handleMenuOpen}>\r\n\t\t\t\t\t\t<MoreVert />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Menu anchorEl={this.state.anchorEl} open={Boolean(this.state.anchorEl)} onClose={this.handleMenuClose}>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemEdit}>Editar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemDelete}>Eliminar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleSendSchedule}>Enviar Agenda</MenuItem>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Ejecutivos;","import React from 'react';\r\nimport { Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, FormControlLabel, FormLabel, FormGroup, TextField } from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nclass EjecutivoInputComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tmoment.locale('es');\r\n\t\tthis.state = EjecutivoInputComponent.stateFromProps(props);\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.open === true && state.open === false) {\r\n\t\t\treturn EjecutivoInputComponent.stateFromProps(props);\r\n\t\t} else {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stateFromProps = function (props) {\r\n\t\tconst ejecutivo = props.ejecutivo;\r\n\t\treturn {\r\n\t\t\topen: props.open || false,\r\n\t\t\tid: ejecutivo?.id || null,\r\n\t\t\tname: ejecutivo?.name || '',\r\n\t\t\tpositionAtStudio: ejecutivo?.positionAtStudio || '',\r\n\t\t\tstudio: ejecutivo?.studio || '',\r\n\t\t\tisJury: ejecutivo?.isJury || false,\r\n\t\t\tcgi: ejecutivo?.cgi || false,\r\n\t\t\tlatamTopArtistsAndFreelanceTalent: ejecutivo?.latamTopArtistsAndFreelanceTalent || false,\r\n\t\t\tnewIPs: ejecutivo?.newIPs || false,\r\n\t\t\tnewIdeas: ejecutivo?.newIdeas || false,\r\n\t\t\tstopMotion: ejecutivo?.stopMotion || false,\r\n\t\t\ttimezone: ejecutivo?.timezone || '',\r\n\t\t\ttwoD: ejecutivo?.twoD || false,\r\n\t\t\tthreeD: ejecutivo?.threeD || false,\r\n\t\t\ttopStudios: ejecutivo?.topStudios || false,\r\n\t\t\tvideogames: ejecutivo?.videogames || false\r\n\t\t};\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleCheckedChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.checked });\r\n\t}\r\n\r\n\thandleFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit({\r\n\t\t\tid: this.state.id,\r\n\t\t\tname: this.state.name.trim(),\r\n\t\t\tpositionAtStudio: this.state.positionAtStudio.trim(),\r\n\t\t\tstudio: this.state.studio.trim(),\r\n\t\t\tisJury: this.state.isJury,\r\n\t\t\tcgi: this.state.cgi,\r\n\t\t\tlatamTopArtistsAndFreelanceTalent: this.state.latamTopArtistsAndFreelanceTalent,\r\n\t\t\tnewIPs: this.state.newIPs,\r\n\t\t\tnewIdeas: this.state.newIdeas,\r\n\t\t\tstopMotion: this.state.stopMotion,\r\n\t\t\ttopStudios: this.state.topStudios,\r\n\t\t\ttimezone: this.state.timezone || '',\r\n\t\t\ttwoD: this.state.twoD,\r\n\t\t\tthreeD: this.state.threeD,\r\n\t\t\tvideogames: this.state.videogames\r\n\t\t});\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t}\r\n\r\n\thandleValueChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t}\r\n\r\n\thandleMultipleValueChange = (name, value) => {\r\n\t\tthis.setState({ [name]: value });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { name, positionAtStudio, studio, isJury, topStudios, cgi, latamTopArtistsAndFreelanceTalent, newIPs, newIdeas, stopMotion, twoD, threeD, timezone, videogames } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog disableBackdropClick={true} open={this.state.open} onClose={this.handleCancel}>\r\n\t\t\t\t<form onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogTitle>Ejecutivo</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField autoFocus fullWidth={true} label=\"Name\" margin=\"dense\" name=\"name\" required type=\"text\" value={name}\r\n\t\t\t\t\t\t\tonChange={(event) => this.handleValueChange(event)} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Position at studio\" margin=\"dense\" name=\"positionAtStudio\" required type=\"text\" value={positionAtStudio}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Studio name\" margin=\"dense\" name=\"studio\" type=\"text\" value={studio}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<FormControlLabel label=\"Is Jury?\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={isJury} onChange={this.handleCheckedChange} name=\"isJury\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tvalue={timezone}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('timezone', value)}\r\n\t\t\t\t\t\t\toptions={moment.tz.names()}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Timezone\" margin=\"dense\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"2D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={twoD} onChange={this.handleCheckedChange} name=\"twoD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"3D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={threeD} onChange={this.handleCheckedChange} name=\"threeD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Videogames\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={videogames} onChange={this.handleCheckedChange} name=\"videogames\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Stop Motion\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={stopMotion} onChange={this.handleCheckedChange} name=\"stopMotion\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"CGI\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={cgi} onChange={this.handleCheckedChange} name=\"cgi\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControl component=\"fieldset\" margin=\"dense\" fullWidth={true}>\r\n\t\t\t\t\t\t\t<FormLabel component=\"legend\">Interests in the market</FormLabel>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Meet with studios that provide services or work-from-hire\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={topStudios} onChange={this.handleCheckedChange} name=\"topStudios\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Meet with latam top artists & freelance talent\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={latamTopArtistsAndFreelanceTalent} onChange={this.handleCheckedChange} name=\"latamTopArtistsAndFreelanceTalent\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Find new IPs in development\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIPs} onChange={this.handleCheckedChange} name=\"newIPs\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Discover talent: Rising and 'under the radar' studios\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIdeas} onChange={this.handleCheckedChange} name=\"newIdeas\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleCancel}>Cancelar</Button>\r\n\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Aceptar</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { EjecutivoInputComponent };","import React from 'react';\r\nimport { Box, Button, ButtonGroup, Card, CardContent, CardHeader, Grid, IconButton, Modal } from '@material-ui/core';\r\nimport { Add } from '@material-ui/icons'\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\nimport Ejecutivos from './Ejecutivos'\r\nimport { EjecutivoInputComponent } from './EjecutivoInputComponent'\r\nimport { AppointmentsCalendar } from './AppointmentsCalendar'\r\nimport { sortAlphabeticallyByDatetime } from './Utils'\r\n\r\nclass EjecutivosPanel extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputEjecutivo: null,\r\n\t\t\tinputEjecutivoComponentIsOpened: false,\r\n\t\t\tselectedEjecutivo: null, \r\n\t\t\tmodalBody: '',\t\t\t\r\n\t\t\tsnackbarOpen: false\r\n\t\t}\r\n\t\tmoment.locale('es');\r\n\t}\r\n\r\n\thandleClickAddEjecutivo = () => this.setState({ inputEjecutivoComponentIsOpened: true });\r\n\r\n\thandleClickImport = () => {\r\n\t\t/*for (let i = 0; i < 100; i++) {\r\n\t\t\tconst ejecutivo = {\r\n\t\t\t\tid: uuid(),\r\n\t\t\t\tname: `Ejecutivo ${i + 1}`,\r\n\t\t\t\tpositionAtStudio: `Position ${i + 1}`,\r\n\t\t\t\temail: `${i + 1}@mail.com`\r\n\t\t\t};\r\n\t\t\tstoreEjecutivo(ejecutivo);\r\n\t\t}\r\n\t\tfor (let i = 0; i < 100; i++) {\r\n\t\t\tconst asistente = {\r\n\t\t\t\tid: uuid(),\r\n\t\t\t\tname: `Asistente ${i + 1}`,\r\n\t\t\t\temail: `${i + 1}@mail.com`,\r\n\t\t\t\tstudio: `Estudio ${i + 1}`\r\n\t\t\t};\r\n\t\t\tstoreAsistente(asistente);\r\n\t\t}*/\r\n\t}\r\n\r\n\thandleClickExport = () => {\r\n\t\tlet csvContent = \"data:text/csv;charset=utf-8,\";\r\n\t\tconst headerRow = 'NAME,POSITION AT THE STUDIO,STUDIO NAME,Meet with with top studios,Meet with the latam rising studios,Meet with latam top artists & freelance talent,Find new IPs in development,Find new ideas that could become an IP';\r\n\t\tcsvContent += headerRow + '\\r\\n';\r\n\t\tthis.props.ejecutivos.forEach(ejecutivo => {\r\n\t\t\tconst csvRow = `\"${ejecutivo.name}\",\"${ejecutivo.positionAtStudio}\",\"${ejecutivo.studio}\",\"${ejecutivo.topStudios ? 'X' : ''}\",\"${ejecutivo.latamRisingStudios ? 'X' : ''}\",\"${ejecutivo.latamTopArtistsAndFreelanceTalent ? 'X' : ''}\",\"${ejecutivo.newIPs ? 'X' : ''}\",\"${ejecutivo.newIdeas ? 'X' : ''}\"`;\r\n\t\t\tcsvContent += csvRow + '\\r\\n';\r\n\t\t});\r\n\t\tconst encodedUri = encodeURI(csvContent);\r\n\t\twindow.open(encodedUri);\r\n\t}\r\n\r\n\thandleDeleteEjecutivo = (id) => {\r\n\t\tif (this.state.selectedEjecutivo?.id === id) {\r\n\t\t\tthis.setState({ selectedEjecutivo: null });\r\n\t\t}\r\n\t\tthis.props.onDeleteEjecutivo(id);\r\n\t}\r\n\r\n\thandleEditEjecutivo = (id) => {\r\n\t\tconst ejecutivo = this.props.ejecutivos.find(element => element.id === id);\r\n\t\tthis.setState({\r\n\t\t\tinputEjecutivo: ejecutivo,\r\n\t\t\tinputEjecutivoComponentIsOpened: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleInputEjecutivoClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tinputEjecutivoComponentIsOpened: false,\r\n\t\t\tinputEjecutivo: null\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelectEjecutivo = (ejecutivo) => this.setState({ selectedEjecutivo: ejecutivo });\t\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tconst ejecutivo = this.props.ejecutivos.find(element => element.id === id);\r\n\t\tconst filteredAppointments = this.props.appointments.filter(appointment => appointment.ejecutivos.find(appointmentEjecutivo => appointmentEjecutivo.id === ejecutivo.id));\r\n\t\tconst timezone = 'US/Pacific';\r\n\t\tlet localTimezone = 'America/Mexico_City';\r\n\t\tif (ejecutivo.timezone) {\r\n\t\t\tlocalTimezone = ejecutivo.timezone;\r\n\t\t}\r\n\t\tconst appointments = filteredAppointments.sort((a, b) => sortAlphabeticallyByDatetime(a, b));\r\n\t\tlet text = '';\r\n\t\tlet currentDate, currentTime;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (appointment.datetime && appointment.ejecutivos && appointment.asistentes && appointment.duration) {\r\n\r\n\t\t\t\tconst currentDatetime = moment(appointment.datetime);\r\n\t\t\t\tconst date = moment.tz(currentDatetime.format('YYYY-MM-DDTHH:mm'), timezone);\r\n\t\t\t\tif (!currentDate || currentDate !== date.format('dddd DD MMMM')) {\r\n\t\t\t\t\tcurrentDate = date.format('dddd DD MMMM');\r\n\t\t\t\t\tcurrentTime = null;\r\n\t\t\t\t\ttext += currentDate.toUpperCase() + ': ';\r\n\t\t\t\t\tswitch(date.format('ddd')) {\r\n\t\t\t\t\t\tcase 'lun.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/85425291494';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mar.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88445795504';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mi.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/86767091338';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'jue.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/87665492231';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vie.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88943327711';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'sb.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/83792773099';\r\n\t\t\t\t\t\t\tbreak;\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttext += '\\r\\n\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentTime || currentTime !== date.format('hh:mm A z (Z)')) {\r\n\t\t\t\t\tcurrentTime = date.format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '    ' + date.tz(localTimezone).format('hh:mm A') + ' | ' + localTimezone;\r\n\t\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\t\ttext += '        Ejecutivos: ' + appointment.ejecutivos.map(ejecutivo => ejecutivo.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (appointment.asistentes.length > 0) {\r\n\t\t\t\t\ttext += '        Asistentes: ' + appointment.asistentes.map(asistente => asistente.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '        Duracin: 15min' + '\\r\\n\\r\\n';\r\n\t\t\t} else {\r\n\t\t\t\t//console.out('Error en ' + appointment);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst body = (<Box style={{ \"background-color\": \"white\" }}><textarea rows=\"30\" cols=\"100\">{text}</textarea></Box>);\r\n\t\tthis.setState({ modalBody: body, snackbarOpen: true });\r\n\t}\r\n\r\n\thandleSnackbarClose = () => this.setState({ snackbarOpen: false });\r\n\r\n\thandleSubmitAvailability = availability => this.props.onSubmitAvailability(availability);\r\n\r\n\thandleSubmitEjecutivo = ejecutivo => this.props.onSubmitEjecutivo(ejecutivo);\t\r\n\r\n\trender() {\r\n\t\tconst { appointments, ejecutivos } = this.props;\r\n\t\tconst { inputEjecutivo, inputEjecutivoComponentIsOpened, modalBody, selectedEjecutivo, snackbarOpen } = this.state;\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<EjecutivoInputComponent\r\n\t\t\t\t\topen={inputEjecutivoComponentIsOpened}\r\n\t\t\t\t\tejecutivo={inputEjecutivo}\r\n\t\t\t\t\tonClose={this.handleInputEjecutivoClose}\r\n\t\t\t\t\tonSubmit={this.handleSubmitEjecutivo}\r\n\t\t\t\t/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={snackbarOpen}\r\n\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t{modalBody}\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Grid item sm={4} md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\ttitle={`Ejecutivos (${ejecutivos.length})`}\r\n\t\t\t\t\t\t\taction={\r\n\t\t\t\t\t\t\t\t<IconButton edget=\"end\" onClick={this.handleClickAddEjecutivo}>\r\n\t\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<Ejecutivos\r\n\t\t\t\t\t\t\t\tejecutivos={ejecutivos}\r\n\t\t\t\t\t\t\t\tonDelete={this.handleDeleteEjecutivo}\r\n\t\t\t\t\t\t\t\tonEdit={this.handleEditEjecutivo}\r\n\t\t\t\t\t\t\t\tonSelect={this.handleSelectEjecutivo}\r\n\t\t\t\t\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\tjustifyContent=\"flex-end\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tstyle={{ \"margin-top\": \"5px\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ButtonGroup variant=\"text\">\r\n\t\t\t\t\t\t\t{ false && <Button onClick={this.handleClickImport}>Importar</Button> }\r\n\t\t\t\t\t\t\t<Button onClick={this.handleClickExport}>Exportar</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item sm={8} md={8}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader title=\"Calendario\" />\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<AppointmentsCalendar\r\n\t\t\t\t\t\t\t\tappointments={appointments}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tejecutivo={selectedEjecutivo}\r\n\t\t\t\t\t\t\t\tonSubmitAvailability={this.handleSubmitAvailability}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EjecutivosPanel;","import { openDB } from 'idb';\r\n\r\nasync function getOpenDb() {\r\n\tconst db = await openDB('pixelatl', 1, {\r\n\t\tupgrade(db) {\r\n\t\t\tif (db.objectStoreNames.contains('asistentes') === false) {\r\n\t\t\t\tdb.createObjectStore('asistentes', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t\tif (db.objectStoreNames.contains('ejecutivos') === false) {\r\n\t\t\t\tdb.createObjectStore('ejecutivos', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t\tif (db.objectStoreNames.contains('availability') === false) {\r\n\t\t\t\tdb.createObjectStore('availability', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t\tif (db.objectStoreNames.contains('appointments') === false) {\r\n\t\t\t\tdb.createObjectStore('appointments', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\treturn db;\r\n}\r\n\r\nasync function deleteAppointment(id) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.delete('appointments', id);\r\n}\r\n\r\nasync function deleteAsistente(id) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.delete('asistentes', id);\r\n}\r\n\r\nasync function deleteEjecutivo(id) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.delete('ejecutivos', id);\r\n\tawait db.delete('availability', id);\r\n}\r\n\r\nasync function getAppointments() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('appointments');\r\n}\r\n\r\nasync function getAvailability() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('availability');\r\n}\r\n\r\nasync function getAsistentes() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('asistentes');\r\n}\r\n\r\nasync function getEjecutivos() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('ejecutivos');\r\n}\r\n\r\nasync function storeAsistente(asistente) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('asistentes', asistente);\r\n}\r\n\r\nasync function storeAppointment(appointment) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('appointments', appointment);\r\n}\r\n\r\nasync function storeAvailability(availability) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('availability', availability);\r\n}\r\n\r\nasync function storeEjecutivo(ejecutivo) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('ejecutivos', ejecutivo);\r\n}\r\n\r\nasync function cleanAppointments() {\r\n\tconst db = await getOpenDb();\r\n\tconst store = db.transaction('appointments', 'readwrite').store;\r\n\tlet cursor = await store.openCursor();\r\n\twhile (cursor) {\r\n\t\tconsole.log(cursor.key, cursor.value);\r\n\t\tconst appointment = cursor.value;\r\n\t\tconst asistentes = appointment.asistentes;\r\n\t\tconst ejecutivos = appointment.ejecutivos;\r\n\t\tif (asistentes) {\r\n\t\t\tfor (const asistente of asistentes) {\r\n\t\t\t\tif (asistente.appointments) {\r\n\t\t\t\t\tdelete asistente.appointments;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (ejecutivos) {\r\n\t\t\tfor (const ejecutivo of ejecutivos) {\r\n\t\t\t\tif (ejecutivo.appointments) {\r\n\t\t\t\t\tdelete ejecutivo.appointments;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tawait store.put(appointment);\r\n\t\tcursor = await cursor.continue();\r\n\t}\r\n}\r\n\r\nexport { cleanAppointments }\r\nexport { deleteAppointment, getAppointments, storeAppointment }\r\nexport { getAvailability, storeAvailability }\r\nexport { deleteEjecutivo, getEjecutivos, storeEjecutivo };\r\nexport { deleteAsistente, getAsistentes, storeAsistente };","import React from 'react';\nimport { AppBar, Box, Container, Paper, Tabs, Tab, Toolbar, Typography } from '@material-ui/core';\nimport { v4 as uuid } from 'uuid';\nimport AppointmentsPanel from './AppointmentsPanel'\nimport AsistentesPanel from './AsistentesPanel'\nimport EjecutivosPanel from './EjecutivosPanel'\nimport { getAvailability, getAppointments, getAsistentes, getEjecutivos } from './Repository';\nimport { deleteEjecutivo, storeEjecutivo } from './Repository'\nimport { deleteAsistente, storeAsistente } from './Repository'\nimport { cleanAppointments, deleteAppointment, storeAppointment } from './Repository'\nimport { storeAvailability } from './Repository'\nimport { sortAlphabeticallyByName } from './Utils'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tappointments: [],\n\t\t\tasistentes: [],\n\t\t\tejecutivos: [],\n\t\t\ttabValue: 0\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\t//cleanAppointments();\n\n\t\tconst promises = [];\n\t\tpromises.push(getAppointments());\n\t\tpromises.push(getAsistentes());\n\t\tpromises.push(getAvailability());\n\t\tpromises.push(getEjecutivos());\n\t\tPromise.all(promises).then(values => {\n\n\t\t\tconst appointments = values[0];\n\t\t\tconst asistentes = values[1];\n\t\t\tconst availability = values[2];\n\t\t\tconst ejecutivos = values[3];\n\n\t\t\tasistentes.sort((a, b) => sortAlphabeticallyByName(a, b));\n\t\t\tejecutivos.sort((a, b) => sortAlphabeticallyByName(a, b));\n\n\t\t\tfor (const ejecutivo of ejecutivos) {\t\t\t\t\n\t\t\t\tconst ejecutivoAvailability = availability.find(availability =>\n\t\t\t\t\tavailability.id === ejecutivo.id\n\t\t\t\t);\n\t\t\t\tejecutivo.availability = ejecutivoAvailability ?? [];\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tappointments: appointments,\n\t\t\t\tasistentes: asistentes,\n\t\t\t\tejecutivos: ejecutivos\n\t\t\t});\n\t\t});\n\t}\n\n\thandleDeleteAppointment = (id) => {\n\t\tdeleteAppointment(id).then(() => {\n\t\t\tconst appointments = this.state.appointments.filter(appointment => appointment.id !== id);\n\t\t\tthis.setState({ appointments: appointments });\n\t\t});\n\t}\n\n\thandleDeleteAsistente = (id) => {\n\t\tdeleteAsistente(id).then(() => {\n\t\t\tconst asistentes = this.state.asistentes.filter(element => element.id !== id);\n\t\t\tthis.setState({ asistentes: asistentes });\n\t\t});\n\t}\n\n\thandleDeleteEjecutivo = (id) => {\n\t\tdeleteEjecutivo(id).then(() => {\n\t\t\tconst ejecutivos = this.state.ejecutivos.filter(element => element.id !== id);\n\t\t\tthis.setState({ ejecutivos: ejecutivos });\n\t\t});\n\t}\n\n\thandleSubmitAsistente = (asistente) => {\n\t\tlet newAsistente = false;\n\t\tif (!asistente.id) {\n\t\t\tasistente.id = uuid();\n\t\t\tnewAsistente = true;\n\t\t}\n\t\tlet asistentes = this.state.asistentes;\n\t\tstoreAsistente(asistente).then(() => {\n\t\t\tif (newAsistente === false) {\n\t\t\t\tasistentes = asistentes.filter(element => element.id !== asistente.id);\n\t\t\t}\n\t\t\tasistentes.push(asistente);\n\t\t\tasistentes.sort((a, b) => sortAlphabeticallyByName(a, b));\n\t\t\tthis.setState({ asistentes: asistentes });\n\t\t});\n\t}\n\n\thandleSubmitAvailability = (availability) => {\n\t\tstoreAvailability(availability).then(() => {\n\t\t\tconst ejecutivo = this.state.ejecutivos.find(element => element.id === availability.id);\n\t\t\tejecutivo.availability = availability;\n\t\t\tthis.setState({ ejecutivos: this.state.ejecutivos });\n\t\t});\n\t}\n\n\thandleSubmitAppointment = (appointment) => {\n\t\tlet newAppointment = false;\n\t\tif (!appointment.id) {\n\t\t\tappointment.id = uuid();\n\t\t\tnewAppointment = true;\n\t\t}\n\t\tlet appointments = this.state.appointments;\n\t\tstoreAppointment(appointment).then(() => {\n\t\t\tif (newAppointment === false) {\n\t\t\t\tappointments = appointments.filter(element => element.id !== appointment.id);\n\t\t\t}\n\t\t\tappointments.push(appointment);\n\t\t\tthis.setState({ appointments: appointments });\n\t\t});\n\t}\n\n\thandleSubmitEjecutivo = (ejecutivo) => {\n\t\tlet newEjecutivo = false;\n\t\tif (!ejecutivo.id) {\n\t\t\tejecutivo.id = uuid();\n\t\t\tnewEjecutivo = true;\n\t\t\tejecutivo.availability = [];\n\t\t}\n\t\tlet ejecutivos = this.state.ejecutivos;\n\t\tstoreEjecutivo(ejecutivo).then(() => {\n\t\t\tif (newEjecutivo === false) {\n\t\t\t\tejecutivos = ejecutivos.filter(element => element.id !== ejecutivo.id);\n\t\t\t}\t\t\t\n\t\t\tejecutivos.push(ejecutivo);\n\t\t\tejecutivos.sort((a, b) => sortAlphabeticallyByName(a, b));\n\t\t\tthis.setState({ ejecutivos: ejecutivos });\n\t\t});\n\t}\n\n\thandleTabChange = (_event, newValue) => {\n\t\tthis.setState({ tabValue: newValue });\n\t}\n\n\trender() {\n\t\tconst { appointments, asistentes, ejecutivos, tabValue } = this.state;\n\t\treturn (\n\t\t\t<Box>\n\t\t\t\t<AppBar position=\"static\">\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\">Pixelatl - Mercado</Typography>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Container disableGutters={true} maxWidth={false}>\n\t\t\t\t\t<Paper style={{ marginBottom: 10 }}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabValue}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label=\"EJECUTIVOS\" />\n\t\t\t\t\t\t\t<Tab label=\"ASISTENTES\" />\n\t\t\t\t\t\t\t<Tab label=\"CITAS\" />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<TabPanel value={tabValue} index={0}>\n\t\t\t\t\t\t<EjecutivosPanel\n\t\t\t\t\t\t\tappointments={appointments}\n\t\t\t\t\t\t\tejecutivos={ejecutivos}\n\t\t\t\t\t\t\tonDeleteEjecutivo={this.handleDeleteEjecutivo}\n\t\t\t\t\t\t\tonSubmitAvailability={this.handleSubmitAvailability}\n\t\t\t\t\t\t\tonSubmitEjecutivo={this.handleSubmitEjecutivo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={tabValue} index={1}>\n\t\t\t\t\t\t<AsistentesPanel\n\t\t\t\t\t\t\tasistentes={asistentes}\n\t\t\t\t\t\t\tappointments={appointments}\n\t\t\t\t\t\t\tonDeleteAppointment={this.handleDeleteAppointment}\n\t\t\t\t\t\t\tonDeleteAsistente={this.handleDeleteAsistente}\n\t\t\t\t\t\t\tonSubmitAsistente={this.handleSubmitAsistente}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={tabValue} index={2}>\n\t\t\t\t\t\t<AppointmentsPanel\n\t\t\t\t\t\t\tappointments={appointments}\n\t\t\t\t\t\t\tasistentes={asistentes}\n\t\t\t\t\t\t\tejecutivos={ejecutivos}\n\t\t\t\t\t\t\tonDeleteAppointment={this.handleDeleteAppointment}\n\t\t\t\t\t\t\tonSubmitAppointment={this.handleSubmitAppointment}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Container>\n\t\t\t</Box>\n\t\t)\n\t}\n}\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`full-width-tabpanel-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box>\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.querySelector('#root'),\r\n);"],"sourceRoot":""}