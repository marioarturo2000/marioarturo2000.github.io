{"version":3,"sources":["components/Appointments.js","components/AppointmentInputComponent.js","components/Utils.js","components/AppointmentsPanel.js","components/Asistentes.js","components/AsistenteInputComponent.js","components/AppointmentsCalendar.js","components/AsistentesPanel.js","components/Ejecutivos.js","components/EjecutivoInputComponent.js","components/EjecutivosPanel.js","components/Repository.js","components/App.js","index.js"],"names":["Appointments","props","getColumns","columns","push","key","title","dataKey","width","cellRenderer","cellData","rowData","appointments","filter","appointment","asistentes","find","asistente","id","asistenteId","Typography","noWrap","variant","length","headerRenderer","frozen","Column","FrozenDirection","LEFT","i","ejecutivo","ejecutivos","name","columnIndex","appointmentId","IconButton","edge","size","onClick","handleClickEditAppointment","Event","handleClickAddAppointment","Add","column","style","getData","data","row","asistenteName","j","getAppointment","ejecutivoId","onAddAppointment","onEditAppointment","clearActiveCells","Array","from","document","querySelectorAll","forEach","element","classList","remove","handleMouseOver","event","getHeaderCells","currentTarget","add","handleAsistenteMouseOver","colHeaders","colHeader","dataset","latamRisingStudio","latamRisingStudios","latamTopArtistOrFreelanceTalent","latamTopArtistsAndFreelanceTalent","newIPs","newIdeas","newIdes","topStudio","topStudios","twoD","threeD","handleEjecutivoMouseOver","rowHeaders","rowHeader","renderCell","rowIndex","result","className","align","padding","data-ejecutivo","onMouseOver","cursor","data-asistente","state","cell","cellEjecutivoId","this","getEjecutivoHeaderCells","prototype","apply","cellAsistenteId","getAsistenteHeaderCells","height","fixed","headerHeight","React","Component","AppointmentInputComponent","getAsistenteAppointments","getEjecutivoAppointments","handleCancel","setState","open","onClose","handleDelete","onDelete","handleCheckedChange","target","checked","handleFormSubmit","preventDefault","onSubmit","datetime","duration","handleValueChange","handleMultipleValueChange","value","datetimeOptions","ejecutivoAppointments","getDatetimeOptionsForEjecutivo","getDatetimeOptions","datetimeOption","times","time","makeSelectItems","items","ListSubheader","disableSticky","date","datetimeOptionTime","MenuItem","moment","locale","stateFromProps","asistenteAppointments","isAvailable","isDatetimeBlockedByAppointments","availability","isDatetimeAvailableForEjecutivo","asistentesOptions","ejecutivosOptions","openAlert","Dialog","disableBackdropClick","fullWidth","maxWidth","DialogTitle","DialogContent","Autocomplete","multiple","onChange","_event","options","getOptionLabel","option","filterSelectedOptions","required","renderInput","params","TextField","label","margin","renderTags","getTagProps","map","index","Chip","getAsistenteOptionStyle","icon","isJury","Gavel","getEjecutivoOptionStyle","type","inputProps","min","step","InputLabelProps","shrink","FormControl","InputLabel","Select","renderValue","format","Collapse","in","Alert","severity","DialogActions","Button","color","firstDay","tz","day","clone","hour","slot","availabilityDatetime","dates","includes","sort","datetimeMoment","currentAppointmentId","adjustedDatetimeMoment","appointmentDatetime","isSame","getIdeatoonProjects","ideatoonProjects","Set","flatMap","a","b","nameA","toUpperCase","nameB","sortAlphabetically","getJurados","jurados","sortAlphabeticallyByName","sortAlphabeticallyByDatetime","isBefore","AppointmentsPanel","inputAppointmentComponentIsOpened","inputAsistente","inputEjecutivo","inputAppointment","handleClickExport","currentDate","currentTime","text","currentDatetime","join","copy","snackbarOpen","textArea","createElement","top","left","position","body","appendChild","focus","select","msg","execCommand","console","log","err","error","removeChild","handleDeleteAppointment","onDeleteAppointment","handleInputAppointmentClose","handleSelectAsistente","selectedAsistente","handleSelectEjecutivo","selectedEjecutivo","handleSnackbarClose","handleSubmitAppointment","onSubmitAppointment","Box","Snackbar","autoHideDuration","message","Grid","container","spacing","item","xs","xd","display","justifyContent","alignItems","Asistentes","handleItemDelete","handleItemEdit","onEdit","handleItemSelect","onSelect","refs","list","forceUpdate","handleSendSchedule","onSendSchedule","renderRow","isSelected","studio","timezone","nextProps","nextState","ref","itemSize","itemCount","Asistente","handleItemClick","anchorEl","handleMenuOpen","handleMenuClose","ListItem","button","dense","selected","ContainerProps","ContainerComponent","ListItemAvatar","Avatar","EmojiEvents","ListItemText","primary","primaryTypographyProps","secondary","Fragment","ListItemSecondaryAction","MoreVert","Menu","keepMounted","Boolean","AsistenteInputComponent","trim","email","ideatoonProjectOptions","autoFocus","selectOnFocus","clearOnBlur","handleHomeEndKeys","freeSolo","names","FormControlLabel","control","Checkbox","AppointmentsCalendar","clearAppointmentCells","removeAttribute","clearAvailableCells","handleClick","adjacentCells","getAdjacentCells","contains","getInputAvailability","onSubmitAvailability","rows","totalMinutes","displayTime","minute","cells","prevProps","displayAvailability","displayEjecutivoAppointments","displayAsistenteAppointments","calendarCells","calendarCell","setAttribute","cellMoment","elementMoment","elementDate","elementHour","elementMinute","cellDate","cellHour","Table","TableHead","TableRow","TableCell","data-date","TableBody","onMouseLeave","rowSpan","component","scope","data-hour","data-datetime","AsistentesPanel","handleClickAddAsistente","inputAsistenteComponentIsOpened","handleDeleteAsistente","onDeleteAsistente","handleEditAsistente","handleInputAsistenteClose","filteredAppointments","appointmentAsistente","localTimezone","cols","modalBody","handleSubmitAsistente","onSubmitAsistente","Modal","sm","md","Card","CardHeader","action","edget","CardContent","Ejecutivos","description","positionAtStudio","avatar","headshotPhoto","Ejecutivo","alt","PureComponent","EjecutivoInputComponent","FormLabel","FormGroup","EjecutivosPanel","handleClickAddEjecutivo","inputEjecutivoComponentIsOpened","handleClickImport","csvContent","headerRow","csvRow","encodedUri","encodeURI","window","handleDeleteEjecutivo","onDeleteEjecutivo","handleEditEjecutivo","handleInputEjecutivoClose","appointmentEjecutivo","handleSubmitAvailability","handleSubmitEjecutivo","onSubmitEjecutivo","ButtonGroup","getOpenDb","openDB","upgrade","db","objectStoreNames","createObjectStore","keyPath","delete","getAll","put","TabPanel","children","other","role","hidden","App","deleteAppointment","then","deleteAsistente","deleteEjecutivo","newAsistente","uuid","storeAsistente","storeAvailability","newAppointment","storeAppointment","newEjecutivo","storeEjecutivo","handleTabChange","newValue","tabValue","promises","getAppointments","getAsistentes","getAvailability","getEjecutivos","Promise","all","values","ejecutivoAvailability","AppBar","Toolbar","Container","disableGutters","Paper","marginBottom","Tabs","indicatorColor","textColor","centered","Tab","ReactDOM","render","StrictMode","querySelector"],"mappings":"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","file":"static/js/main.a9bf67d1.chunk.js","sourcesContent":["import React from 'react';\r\nimport { IconButton, Typography } from '@material-ui/core';\r\nimport BaseTable, { AutoResizer, Column } from 'react-base-table'\r\nimport 'react-base-table/styles.css'\r\nimport { Add, Event } from '@material-ui/icons'\r\n\r\nclass Appointments extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tcolumns: [],\r\n\t\t\tdata: []\r\n\t\t}\r\n\t}\r\n\r\n\tgetColumns = () => {\r\n\t\tconst columns = [];\r\n\t\tcolumns.push({\r\n\t\t\tkey: 'asistente',\r\n\t\t\ttitle: 'Asistente',\r\n\t\t\tdataKey: 'asistenteName',\r\n\t\t\twidth: 150,\r\n\t\t\tcellRenderer: ({ cellData, rowData }) => {\r\n\t\t\t\tconst appointments = this.props.appointments.filter(appointment => appointment.asistentes.find(asistente => asistente.id === rowData.asistenteId));\t\t\t\t\r\n\t\t\t\treturn (<Typography noWrap variant=\"body2\">{`(${appointments.length}) ${cellData}`}</Typography>);\r\n\t\t\t},\r\n\t\t\theaderRenderer: () => {\r\n\t\t\t\treturn (<div></div>);\r\n\t\t\t},\r\n\t\t\tfrozen: Column.FrozenDirection.LEFT\r\n\t\t});\r\n\t\tfor (let i = 0; i < this.props.ejecutivos.length; i++) {\r\n\t\t\tconst ejecutivo = this.props.ejecutivos[i];\r\n\t\t\tcolumns.push({\r\n\t\t\t\tkey: `ejecutivo${i}`,\r\n\t\t\t\ttitle: ejecutivo.name,\r\n\t\t\t\tdataKey: i,\r\n\t\t\t\twidth: 45,\r\n\t\t\t\tcellRenderer: ({ columnIndex, rowData }) => {\r\n\t\t\t\t\tconst rowDataIndex = columnIndex - 1;\r\n\t\t\t\t\tconst appointmentId = rowData[rowDataIndex];\r\n\t\t\t\t\tif (appointmentId) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" onClick={() => this.handleClickEditAppointment(appointmentId)}>\r\n\t\t\t\t\t\t\t\t<Event />\r\n\t\t\t\t\t\t\t</IconButton>);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" onClick={() => this.handleClickAddAppointment(rowData.asistenteId, ejecutivo.id)}>\r\n\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t</IconButton>)\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\theaderRenderer: ({ column }) => {\r\n\t\t\t\t\treturn (<Typography noWrap variant=\"body2\" style={{ \"display\": \"inline-flex\", \"align-items\": \"center\", \"height\": \"130px\", \"width\":\"100%\", \"writing-mode\": \"vertical-rl\", \"transform\": \"rotate(180deg)\" }}>{column.title}</Typography>);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn columns;\r\n\t}\r\n\r\n\tgetData = () => {\r\n\t\tconst data = [];\r\n\t\tfor (let i = 0; i < this.props.asistentes.length; i++) {\r\n\t\t\tconst asistente = this.props.asistentes[i];\r\n\t\t\tconst row = { asistenteId: asistente.id, asistenteName: asistente.name };\r\n\t\t\tfor (let j = 0; j < this.props.ejecutivos.length; j++) {\r\n\t\t\t\tconst ejecutivo = this.props.ejecutivos[j];\r\n\t\t\t\tconst appointment = this.getAppointment(asistente, ejecutivo);\r\n\t\t\t\trow[j] = appointment?.id;\r\n\t\t\t}\r\n\t\t\tdata.push(row);\r\n\t\t}\r\n\t\treturn data;\r\n\t}\r\n\r\n\thandleClickAddAppointment = (asistenteId, ejecutivoId) => {\r\n\t\tthis.props.onAddAppointment(asistenteId, ejecutivoId);\r\n\t}\r\n\r\n\thandleClickEditAppointment = (id) => {\r\n\t\tthis.props.onEditAppointment(id);\r\n\t}\r\n\r\n\tgetAppointment = (asistente, ejecutivo) => {\r\n\t\tconst asistenteId = asistente.id;\r\n\t\tconst ejecutivoId = ejecutivo.id;\r\n\t\treturn this.props.appointments.find(appointment =>\r\n\t\t\tappointment.asistentes.find(asistente => asistente.id === asistenteId) &&\r\n\t\t\tappointment.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivoId));\r\n\t}\r\n\r\n\tclearActiveCells = () => {\r\n\t\tconst appointmentHeaderCells = Array.from(document.querySelectorAll('.appointment-cell.active'));\r\n\t\tappointmentHeaderCells.forEach(element => element.classList.remove('active'));\r\n\t}\r\n\r\n\tgetHeaderCells(cell) {\r\n\t\tconst result = [];\r\n\t\tconst cellEjecutivoId = cell.dataset.ejecutivo;\r\n\t\tconst colHeaders = this.getEjecutivoHeaderCells(cellEjecutivoId);\r\n\t\tArray.prototype.push.apply(result, colHeaders);\r\n\t\tconst cellAsistenteId = cell.dataset.asistente;\r\n\t\tconst rowHeaders = this.getAsistenteHeaderCells(cellAsistenteId);\r\n\t\tArray.prototype.push.apply(result, rowHeaders);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetAsistenteHeaderCells(id) {\r\n\t\tconst result = [];\r\n\t\tconst rowHeaders = Array.from(document.querySelectorAll('tbody > tr > th.appointment-cell'));\r\n\t\tconst rowHeader = rowHeaders.find(element => element.dataset.asistente === id);\r\n\t\tif (rowHeader) {\r\n\t\t\tresult.push(rowHeader);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetEjecutivoHeaderCells(id) {\r\n\t\tconst result = [];\r\n\t\tconst colHeaders = Array.from(document.querySelectorAll('thead > tr > th.appointment-cell'));\r\n\t\tconst colHeader = colHeaders.find(element => element.dataset.ejecutivo === id);\r\n\t\tif (colHeader) {\r\n\t\t\tresult.push(colHeader);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\thandleMouseOver = (event) => {\r\n\t\tthis.clearActiveCells();\r\n\t\tconst headerCells = this.getHeaderCells(event.currentTarget);\r\n\t\theaderCells.forEach(element => element.classList.add('active'));\r\n\t}\r\n\r\n\thandleAsistenteMouseOver = asistente => {\r\n\t\tthis.clearActiveCells();\r\n\t\tconst colHeaders = Array.from(document.querySelectorAll('thead > tr > th.appointment-cell'));\r\n\t\tfor (const colHeader of colHeaders) {\r\n\t\t\tconst ejecutivo = this.props.ejecutivos.find(ejecutivo => ejecutivo.id === colHeader.dataset.ejecutivo);\r\n\t\t\tif ((asistente.latamRisingStudio === true && ejecutivo.latamRisingStudios === true) ||\r\n\t\t\t\t(asistente.latamTopArtistOrFreelanceTalent === true && ejecutivo.latamTopArtistsAndFreelanceTalent === true) ||\r\n\t\t\t\t(asistente.newIPs === true && ejecutivo.newIPs === true) ||\r\n\t\t\t\t(asistente.newIdeas === true && ejecutivo.newIdes === true) ||\r\n\t\t\t\t(asistente.topStudio === true && ejecutivo.topStudios === true) ||\r\n\t\t\t\t(asistente.twoD === true && ejecutivo.twoD === true) ||\r\n\t\t\t\t(asistente.threeD === true && ejecutivo.threeD === true)) {\r\n\t\t\t\tcolHeader.classList.add('active');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleEjecutivoMouseOver = ejecutivo => {\r\n\t\tthis.clearActiveCells();\r\n\t\tconst rowHeaders = Array.from(document.querySelectorAll('tbody > tr > th.appointment-cell'));\r\n\t\tfor (const rowHeader of rowHeaders) {\r\n\t\t\tconst asistente = this.props.asistentes.find(asistente => asistente.id === rowHeader.dataset.asistente);\r\n\t\t\tif ((asistente.latamRisingStudio === true && ejecutivo.latamRisingStudios === true) ||\r\n\t\t\t\t(asistente.latamTopArtistOrFreelanceTalent === true && ejecutivo.latamTopArtistsAndFreelanceTalent === true) ||\r\n\t\t\t\t(asistente.newIPs === true && ejecutivo.newIPs === true) ||\r\n\t\t\t\t(asistente.newIdeas === true && ejecutivo.newIdes === true) ||\r\n\t\t\t\t(asistente.topStudio === true && ejecutivo.topStudios === true) ||\r\n\t\t\t\t(asistente.twoD === true && ejecutivo.twoD === true) ||\r\n\t\t\t\t(asistente.threeD === true && ejecutivo.threeD === true)) {\r\n\t\t\t\trowHeader.classList.add('active');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trenderCell = (props) => {\r\n\t\tconst { columnIndex, rowIndex, style } = props;\r\n\t\tvar result = null;\r\n\t\tif (columnIndex > 0 && rowIndex === 0) {\r\n\t\t\tconst ejecutivo = this.props.ejecutivos[columnIndex - 1];\r\n\t\t\tif (ejecutivo) {\r\n\t\t\t\tresult = (<div\r\n\t\t\t\t\tclassName=\"appointment-cell\"\r\n\t\t\t\t\talign='center'\r\n\t\t\t\t\tstyle={style}\r\n\t\t\t\t\tpadding='6px'\r\n\t\t\t\t\tdata-ejecutivo={ejecutivo.id}\r\n\t\t\t\t\tonMouseOver={() => this.handleEjecutivoMouseOver(ejecutivo)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<span style={{ \"writing-mode\": \"vertical-rl\", \"transform\": \"rotate(180deg)\" }}>\r\n\t\t\t\t\t\t{ejecutivo.name}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t} else if (columnIndex == 0 && rowIndex > 0) {\r\n\t\t\tconst asistente = this.props.asistentes[rowIndex - 1];\r\n\t\t\tif (asistente) {\r\n\t\t\t\tresult = (<div\r\n\t\t\t\t\tclassName=\"appointment-cell\"\r\n\t\t\t\t\tstyle={style}\r\n\t\t\t\t\tcursor='alias'\r\n\t\t\t\t\tdata-asistente={asistente.id}\r\n\t\t\t\t\tonMouseOver={() => this.handleAsistenteMouseOver(asistente)}\r\n\t\t\t\t>\r\n\t\t\t\t\t{asistente.name}\r\n\t\t\t\t</div>);\r\n\t\t\t}\r\n\t\t} else if (columnIndex > 0 && rowIndex > 0) {\r\n\t\t\tconst asistente = this.props.asistentes[rowIndex - 1];\r\n\t\t\tconst ejecutivo = this.props.ejecutivos[columnIndex - 1];\r\n\t\t\tif (asistente && ejecutivo) {\r\n\t\t\t\tresult = (<div\r\n\t\t\t\t\tstyle={style}>\r\n\t\t\t\t\t<IconButton edge=\"end\" size=\"small\" onClick={() => this.handleClickEditAppointment(asistente, ejecutivo)}>\r\n\t\t\t\t\t\t<Event />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst columns = this.getColumns();\r\n\t\tconst data = this.getData();\r\n\t\treturn (\r\n\t\t\t<AutoResizer>\r\n        {({ width, height }) => (\r\n\t\t\t\t\t<BaseTable\r\n\t\t\t\t\t\tfixed\r\n\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\theight={height}\r\n\t\t\t\t\t\theaderHeight={150}\r\n\t\t\t\t\t\twidth={width}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n      </AutoResizer>)\r\n\t}\r\n}\r\n\r\nexport default Appointments;","import React from 'react';\r\nimport { Button, Chip, Collapse, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, InputLabel, TextField, MenuItem, ListSubheader, Select } from '@material-ui/core';\r\nimport { Gavel } from '@material-ui/icons'\r\nimport { Alert, Autocomplete } from '@material-ui/lab';\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nclass AppointmentInputComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tmoment.locale('es');\r\n\t\tthis.state = AppointmentInputComponent.stateFromProps(props);\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.open === true && state.open === false) {\r\n\t\t\treturn AppointmentInputComponent.stateFromProps(props);\r\n\t\t} else {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stateFromProps = function (props) {\r\n\t\tconst appointment = props.appointment;\r\n\t\tif (appointment) {\r\n\t\t\tlet datetimeOptions = null;\r\n\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\tconst ejecutivoAppointments = props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === appointment.ejecutivos[0].id));\r\n\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptionsForEjecutivo(appointment.ejecutivos[0], appointment.duration, ejecutivoAppointments)\r\n\t\t\t} else {\r\n\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptions();\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\topen: props.open,\r\n\t\t\t\topenAlert: false,\r\n\t\t\t\tid: appointment.id,\r\n\t\t\t\tappointments: props.appointments,\r\n\t\t\t\tasistentes: appointment.asistentes,\r\n\t\t\t\tasistentesOptions: props.asistentes || appointment.asistentes,\r\n\t\t\t\tdatetime: appointment.datetime,\r\n\t\t\t\tdatetimeOptions: datetimeOptions,\r\n\t\t\t\tduration: appointment.duration,\r\n\t\t\t\tejecutivos: appointment.ejecutivos,\r\n\t\t\t\tejecutivosOptions: props.ejecutivos || appointment.ejecutivos\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tlet asistentes = [];\r\n\t\t\tif (props.asistente) {\r\n\t\t\t\tasistentes.push(props.asistente);\r\n\t\t\t}\r\n\t\t\tlet ejecutivos = [];\r\n\t\t\tif (props.ejecutivo) {\r\n\t\t\t\tejecutivos.push(props.ejecutivo);\r\n\t\t\t}\r\n\t\t\tlet ejecutivoAppointments = [];\r\n\t\t\tif (props.appointments && ejecutivos.length > 0) {\r\n\t\t\t\tejecutivoAppointments = props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivos[0].id));\r\n\t\t\t}\r\n\t\t\tconst datetimeOptions =\r\n\t\t\t\tejecutivos.length > 0\r\n\t\t\t\t\t? AppointmentInputComponent.getDatetimeOptionsForEjecutivo(ejecutivos[0], 30, ejecutivoAppointments)\r\n\t\t\t\t\t: AppointmentInputComponent.getDatetimeOptions();\r\n\t\t\treturn {\r\n\t\t\t\topen: props.open,\r\n\t\t\t\topenAlert: false,\r\n\t\t\t\tid: null,\r\n\t\t\t\tappointments: props.appointments,\r\n\t\t\t\tasistentes: asistentes,\r\n\t\t\t\tasistentesOptions: props.asistentes,\r\n\t\t\t\tdatetime: datetimeOptions.length > 0 && datetimeOptions[0].times.length > 0 ? datetimeOptions[0].times[0].value : null,\r\n\t\t\t\tdatetimeOptions: datetimeOptions,\r\n\t\t\t\tduration: 30,\r\n\t\t\t\tejecutivos: ejecutivos,\r\n\t\t\t\tejecutivosOptions: props.ejecutivos\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\tstatic getDatetimeOptions = function () {\r\n\t\tlet datetimeOptions = [];\r\n\t\tconst timezone = 'America/Mexico_City';\r\n\t\tconst firstDay = moment.tz('2020-08-31', timezone);\r\n\t\tfor (let day = 0; day < 6; day++) {\r\n\t\t\tconst currentDay = firstDay.clone().add(day, 'day');\r\n\t\t\tconst date = currentDay.format('YYYY-MM-DD');\r\n\t\t\tconst datetimeOption = { date, times: [] };\r\n\t\t\tfor (let hour = 8; hour <= 16; hour++) {\r\n\t\t\t\tfor (let slot = 0; slot <= 6; slot++) {\r\n\t\t\t\t\tif (hour === 16 && slot >= 5) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst availabilityDatetime = firstDay.clone().add(day, 'day').add(hour, 'hour').add(slot * 10, 'minute');\r\n\t\t\t\t\tdatetimeOption.times.push({ time: availabilityDatetime.format('HH:mm'), value: availabilityDatetime.format() });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdatetimeOptions.push(datetimeOption);\r\n\t\t}\r\n\t\treturn datetimeOptions;\r\n\t}\r\n\r\n\tstatic getDatetimeOptionsForEjecutivo = function (ejecutivo, duration, ejecutivoAppointments) {\r\n\t\tlet datetimeOptions = [];\r\n\t\tif (ejecutivo) {\r\n\t\t\tconst dates = [];\r\n\t\t\tfor (let availability of ejecutivo.availability) {\r\n\t\t\t\tconst datetime = moment(availability.datetime);\r\n\t\t\t\tconst date = datetime.format('YYYY-MM-DD');\r\n\t\t\t\tif (dates.includes(date) === false) {\r\n\t\t\t\t\tdates.push(date);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdates.sort();\r\n\t\t\tdatetimeOptions = dates.map(date => {\r\n\t\t\t\tconst result = { date, times: [] };\r\n\t\t\t\tfor (let availability of ejecutivo.availability) {\r\n\t\t\t\t\tconst availabilityDatetime = moment(availability.datetime);\r\n\t\t\t\t\tconst availabilityDate = availabilityDatetime.format('YYYY-MM-DD');\r\n\t\t\t\t\tif (availabilityDate === date) {\r\n\t\t\t\t\t\tconst isAvailable = AppointmentInputComponent.isDatetimeAvailableForEjecutivo(ejecutivo, availabilityDatetime, duration, ejecutivoAppointments);\r\n\t\t\t\t\t\tif (isAvailable === true) {\r\n\t\t\t\t\t\t\tresult.times.push({ time: availabilityDatetime.format('HH:mm'), value: availability.datetime });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t});\r\n\t\t\tdatetimeOptions = datetimeOptions.filter(datetimeOption => datetimeOption.times.length > 0);\r\n\t\t}\r\n\t\treturn datetimeOptions;\r\n\t}\r\n\r\n\tstatic isDatetimeAvailableForEjecutivo = function (ejecutivo, datetimeMoment, duration, ejecutivoAppointments, currentAppointmentId) {\r\n\t\tlet isAvailable = true;\r\n\t\tfor (let i = 0; i < duration / 10; i++) {\r\n\t\t\tconst adjustedDatetimeMoment = datetimeMoment.clone().add(i * 10, 'minutes');\r\n\t\t\tconst availableSlot = ejecutivo.availability.find(element => element.datetime === adjustedDatetimeMoment.format());\r\n\t\t\tif (!availableSlot) {\r\n\t\t\t\tisAvailable = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (AppointmentInputComponent.isDatetimeBlockedByAppointments(ejecutivoAppointments, adjustedDatetimeMoment, currentAppointmentId) === true) {\r\n\t\t\t\tisAvailable = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn isAvailable;\r\n\t}\r\n\r\n\tstatic isDatetimeBlockedByAppointments = function (appointments, datetimeMoment, currentAppointmentId) {\r\n\t\tlet result = false;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (currentAppointmentId && appointment.id === currentAppointmentId) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tconst appointmentDatetime = moment(appointment.datetime);\r\n\t\t\tfor (let i = 0; i < appointment.duration / 10; i++) {\r\n\t\t\t\tconst adjustedAppointmentDateTime = appointmentDatetime.clone().add(i * 10, 'minutes');\r\n\t\t\t\tif (adjustedAppointmentDateTime.isSame(datetimeMoment) === true) {\r\n\t\t\t\t\tresult = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (result === true) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetAsistenteAppointments = asistente => {\r\n\t\tconst asistenteId = asistente.id;\r\n\t\treturn this.props.appointments.filter(appointment => appointment.asistentes.find(asistente => asistente.id === asistenteId));\r\n\t}\r\n\r\n\tgetAsistenteOptionStyle(asistente) {\r\n\t\tconst style = {};\r\n\t\tconst asistenteAppointments = this.getAsistenteAppointments(asistente)\r\n\t\tconst isAvailable = AppointmentInputComponent.isDatetimeBlockedByAppointments(asistenteAppointments, moment(this.state.datetime), this.state.id) === false;\r\n\t\tif (isAvailable === true) {\r\n\t\t\tstyle['background-color'] = '#81c784';\r\n\t\t} else {\r\n\t\t\tstyle['background-color'] = '#e57373';\r\n\t\t}\r\n\t\treturn style;\r\n\t}\r\n\r\n\tgetEjecutivoAppointments = ejecutivo => {\r\n\t\tconst ejecutivoId = ejecutivo.id;\r\n\t\treturn this.props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivoId));\r\n\t}\r\n\r\n\tgetEjecutivoOptionStyle(ejecutivo) {\r\n\t\tconst style = {};\r\n\t\tconst ejecutivoAppointments = this.getEjecutivoAppointments(ejecutivo);\r\n\t\tif (ejecutivo.availability) {\r\n\t\t\tconst isAvailable = AppointmentInputComponent.isDatetimeAvailableForEjecutivo(ejecutivo, moment(this.state.datetime), this.state.duration, ejecutivoAppointments, this.state.id);\r\n\t\t\tif (isAvailable === true) {\r\n\t\t\t\tstyle['background-color'] = '#81c784';\r\n\t\t\t} else {\r\n\t\t\t\tstyle['background-color'] = '#e57373';\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn style;\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleDelete = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t\tthis.props.onDelete(this.state.id);\r\n\t};\r\n\r\n\thandleCheckedChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.checked });\r\n\t}\r\n\r\n\thandleFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit({\r\n\t\t\tid: this.state.id,\r\n\t\t\tasistentes: this.state.asistentes,\r\n\t\t\tdatetime: this.state.datetime,\r\n\t\t\tduration: this.state.duration,\r\n\t\t\tejecutivos: this.state.ejecutivos\r\n\t\t});\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleValueChange = event => this.handleMultipleValueChange(event.target.name, event.target.value);\r\n\r\n\thandleMultipleValueChange = (name, value) => {\r\n\t\tthis.setState(\r\n\t\t\t{ [name]: value },\r\n\t\t\t() => {\r\n\t\t\t\tlet datetimeOptions = null;\r\n\t\t\t\tif (this.state.ejecutivos.length > 0) {\r\n\t\t\t\t\tconst ejecutivoAppointments = this.props.appointments.filter(appointment => appointment.ejecutivos.find(ejecutivo => ejecutivo.id === this.state.ejecutivos[0].id));\r\n\t\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptionsForEjecutivo(this.state.ejecutivos[0], this.state.duration, ejecutivoAppointments)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdatetimeOptions = AppointmentInputComponent.getDatetimeOptions();\r\n\t\t\t\t}\r\n\t\t\t\tlet datetime = this.state.datetime;\r\n\t\t\t\tif (!datetimeOptions.find(datetimeOption => datetimeOption.times.find(time => time.value === datetime))) {\r\n\t\t\t\t\tdatetime = datetimeOptions.length > 0 && datetimeOptions[0].times.length > 0 ? datetimeOptions[0].times[0].value : null;\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdatetime: datetime,\r\n\t\t\t\t\tdatetimeOptions: datetimeOptions\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n\r\n\tmakeSelectItems = (datetimeOptions) => {\r\n\t\tconst items = [];\r\n\t\tfor (let i = 0; i < datetimeOptions.length; i++) {\r\n\t\t\tconst datetimeOption = datetimeOptions[i];\r\n\t\t\titems.push(<ListSubheader key={i} disableSticky>{datetimeOption.date}</ListSubheader>);\r\n\t\t\tfor (let j = 0; j < datetimeOption.times.length; j++) {\r\n\t\t\t\tconst datetimeOptionTime = datetimeOption.times[j];\r\n\t\t\t\titems.push(\r\n\t\t\t\t\t<MenuItem key={((i + 1) * 10) + j} value={datetimeOptionTime.value}>\r\n\t\t\t\t\t\t{datetimeOptionTime.time}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn items;\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { asistentes, asistentesOptions, datetime, datetimeOptions, duration, ejecutivos, ejecutivosOptions, id, openAlert } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog disableBackdropClick={true} open={this.state.open} onClose={this.handleCancel} fullWidth maxWidth=\"sm\">\r\n\t\t\t\t<form onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogTitle>Cita</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tvalue={asistentes}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('asistentes', value)}\r\n\t\t\t\t\t\t\toptions={asistentesOptions}\r\n\t\t\t\t\t\t\tgetOptionLabel={option => option.name}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Asistentes\" margin=\"normal\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\trenderTags={(value, getTagProps) =>\r\n\t\t\t\t\t\t\t\tvalue.map((option, index) => (\r\n\t\t\t\t\t\t\t\t\t<Chip label={option.name} style={this.getAsistenteOptionStyle(option)} {...getTagProps({ index })} />\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tvalue={ejecutivos}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('ejecutivos', value)}\r\n\t\t\t\t\t\t\toptions={ejecutivosOptions}\r\n\t\t\t\t\t\t\tgetOptionLabel={option => option.name}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Ejecutivos\" margin=\"normal\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\trenderTags={(value, getTagProps) =>\r\n\t\t\t\t\t\t\t\tvalue.map((option, index) => (\r\n\t\t\t\t\t\t\t\t\t<Chip icon={option.isJury === true && <Gavel />} label={option.name} style={this.getEjecutivoOptionStyle(option)} {...getTagProps({ index })} />\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tlabel=\"Duración (minutos)\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"duration\"\r\n\t\t\t\t\t\t\tvalue={duration}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange}\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tmargin=\"normal\"\r\n\t\t\t\t\t\t\tinputProps={{\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tstep: 10\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tInputLabelProps={{\r\n\t\t\t\t\t\t\t\tshrink: true\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControl fullWidth margin=\"normal\">\r\n\t\t\t\t\t\t\t<InputLabel shrink>\r\n\t\t\t\t\t\t\t\tFecha y hora\r\n        \t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\tname=\"datetime\"\r\n\t\t\t\t\t\t\t\tvalue={datetime}\r\n\t\t\t\t\t\t\t\tonChange={this.handleValueChange}\r\n\t\t\t\t\t\t\t\trenderValue={value => value ? moment(value).format('DD MMM, HH:mm') : ''}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{this.makeSelectItems(datetimeOptions)}\r\n\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t<Collapse in={openAlert}>\r\n\t\t\t\t\t\t\t<Alert severity=\"error\">This is an error alert — check it out!</Alert>\r\n\t\t\t\t\t\t</Collapse>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t{id && <Button onClick={this.handleDelete} color=\"secondary\">Eliminar</Button>}\r\n\t\t\t\t\t\t<Button onClick={this.handleCancel}>Cancelar</Button>\r\n\t\t\t\t\t\t{this.props.onSubmit &&\r\n\t\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Aceptar</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppointmentInputComponent","import moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nfunction getIdeatoonProjects(asistentes) {\r\n\tconst ideatoonProjects = [...new Set(asistentes.filter(asistente => !!asistente.ideatoonProjects).flatMap(asistente => asistente.ideatoonProjects))];\r\n\tideatoonProjects.sort((a, b) => sortAlphabetically(a, b));\r\n\treturn ideatoonProjects;\r\n}\r\n\r\nfunction getJurados(ejecutivos) {\r\n\tconst jurados = ejecutivos.filter(ejecutivo => ejecutivo.isJury === true);\r\n\tjurados.sort((a, b) => sortAlphabeticallyByName(a, b));\r\n\treturn jurados;\r\n}\r\n\r\nfunction sortAlphabetically(a, b) {\r\n\tconst nameA = a.toUpperCase();\r\n\tconst nameB = b.toUpperCase();\r\n\tif (nameA < nameB) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (nameA > nameB) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction sortAlphabeticallyByDatetime(a, b) {\r\n\tif (!a.datetime) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (!b.datetime) {\r\n\t\treturn -1;\r\n\t}\r\n\tvar nameA = moment(a.datetime);\r\n\tvar nameB = moment(b.datetime);\r\n\tif (nameA.isBefore(nameB) === true) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (nameB.isBefore(nameA) === true) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nfunction sortAlphabeticallyByName(a, b) {\r\n\tconst nameA = a.name.toUpperCase();\r\n\tconst nameB = b.name.toUpperCase();\r\n\tif (nameA < nameB) {\r\n\t\treturn -1;\r\n\t}\r\n\tif (nameA > nameB) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn 0;\r\n}\r\n\r\nexport { getIdeatoonProjects, getJurados, sortAlphabetically, sortAlphabeticallyByDatetime, sortAlphabeticallyByName };","import React from 'react';\r\nimport { Box, Button, Grid, Snackbar } from '@material-ui/core';\r\nimport Appointments from './Appointments'\r\nimport AppointmentInputComponent from './AppointmentInputComponent'\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\nimport { getJurados, sortAlphabeticallyByDatetime } from './Utils'\r\n\r\nclass AppointmentsPanel extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputAppointment: null,\r\n\t\t\tinputAppointmentComponentIsOpened: false,\r\n\t\t\tjurados: getJurados(this.props.ejecutivos),\r\n\t\t\tselectedAsistente: null,\r\n\t\t\tselectedEjecutivo: null,\r\n\t\t\tsnackbarOpen: false\r\n\t\t}\r\n\t\tmoment.locale('es');\r\n\t}\r\n\r\n\thandleClickAddAppointment = (asistenteId, ejecutivoId) => {\r\n\t\tconst asistente = this.props.asistentes.find(asistente => asistente.id === asistenteId);\r\n\t\tconst ejecutivo = this.props.ejecutivos.find(ejecutivo => ejecutivo.id === ejecutivoId);\r\n\t\tthis.setState({\r\n\t\t\tinputAppointmentComponentIsOpened: true,\r\n\t\t\tinputAsistente: asistente,\r\n\t\t\tinputEjecutivo: ejecutivo\r\n\t\t});\r\n\t}\r\n\r\n\thandleClickEditAppointment = (id) => {\r\n\t\tconst appointment = this.props.appointments.find(appointment => appointment.id === id);\r\n\t\tthis.setState({\r\n\t\t\tinputAppointmentComponentIsOpened: true,\r\n\t\t\tinputAppointment: appointment\r\n\t\t});\r\n\t}\r\n\r\n\thandleClickExport = () => {\r\n\t\tconst timezone = 'US/Pacific';\r\n\t\tconst appointments = this.props.appointments.filter(appointment => appointment.datetime).sort((a, b) => sortAlphabeticallyByDatetime(a, b));\r\n\t\tlet text = '';\r\n\t\tlet currentDate, currentTime;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (appointment.datetime && appointment.ejecutivos && appointment.asistentes && appointment.duration) {\r\n\r\n\t\t\t\tconst currentDatetime = moment(appointment.datetime);\r\n\t\t\t\tconst date = moment.tz(currentDatetime.format('YYYY-MM-DDTHH:mm'), timezone);\r\n\t\t\t\tif (!currentDate || currentDate !== date.format('dddd DD MMMM')) {\r\n\t\t\t\t\tcurrentDate = date.format('dddd DD MMMM');\r\n\t\t\t\t\ttext += currentDate + '\\r\\n\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentTime || currentTime !== date.format('hh:mm A z (Z)')) {\r\n\t\t\t\t\tcurrentTime = date.format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '\\t' + date.tz('America/Mexico_City').format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\t\ttext += '\\t\\tEjecutivos: ' + appointment.ejecutivos.map(ejecutivo => ejecutivo.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (appointment.asistentes.length > 0) {\r\n\t\t\t\t\ttext += '\\t\\tAsistentes: ' + appointment.asistentes.map(asistente => asistente.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\t\\tDuración: ' + appointment.duration + 'min' + '\\r\\n\\r\\n';\r\n\t\t\t} else {\r\n\t\t\t\t//console.out('Error en ' + appointment);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.copy(text);\r\n\t\tthis.setState({ snackbarOpen: true })\r\n\t}\r\n\r\n\tcopy = (text) => {\r\n\t\tvar textArea = document.createElement(\"textarea\");\r\n\t\ttextArea.value = text;\r\n\r\n\t\t// Avoid scrolling to bottom\r\n\t\ttextArea.style.top = \"0\";\r\n\t\ttextArea.style.left = \"0\";\r\n\t\ttextArea.style.position = \"fixed\";\r\n\r\n\t\tdocument.body.appendChild(textArea);\r\n\t\ttextArea.focus();\r\n\t\ttextArea.select();\r\n\r\n\t\ttry {\r\n\t\t\tvar successful = document.execCommand('copy');\r\n\t\t\tvar msg = successful ? 'successful' : 'unsuccessful';\r\n\t\t\tconsole.log('Fallback: Copying text command was ' + msg);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error('Fallback: Oops, unable to copy', err);\r\n\t\t}\r\n\r\n\t\tdocument.body.removeChild(textArea);\r\n\t}\r\n\r\n\thandleDeleteAppointment = (id) => {\r\n\t\tthis.props.onDeleteAppointment(id);\t\t\r\n\t}\r\n\r\n\thandleInputAppointmentClose = () => {\r\n\t\tthis.setState({ inputAppointmentComponentIsOpened: false, inputAppointment: null });\r\n\t}\r\n\r\n\thandleSelectAsistente = (asistente) => {\r\n\t\tthis.setState({ selectedAsistente: asistente });\r\n\t}\r\n\r\n\thandleSelectEjecutivo = (ejecutivo) => {\r\n\t\tthis.setState({ selectedEjecutivo: ejecutivo });\r\n\t}\r\n\r\n\thandleSnackbarClose = () => {\r\n\t\tthis.setState({ snackbarOpen: false });\r\n\t}\r\n\r\n\thandleSubmitAppointment = (appointment) => {\r\n\t\tthis.props.onSubmitAppointment(appointment);\t\t\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { snackbarOpen } = this.state;\r\n\t\tconst { appointments, asistentes, ejecutivos } = this.props;\r\n\t\treturn (\r\n\t\t\t<Box>\r\n\t\t\t\t<AppointmentInputComponent\r\n\t\t\t\t\topen={this.state.inputAppointmentComponentIsOpened}\r\n\t\t\t\t\tappointment={this.state.inputAppointment}\r\n\t\t\t\t\tappointments={appointments}\r\n\t\t\t\t\tasistente={this.state.inputAsistente}\r\n\t\t\t\t\tasistentes={asistentes}\r\n\t\t\t\t\tejecutivo={this.state.inputEjecutivo}\r\n\t\t\t\t\tejecutivos={ejecutivos}\r\n\t\t\t\t\tonClose={this.handleInputAppointmentClose}\r\n\t\t\t\t\tonDelete={this.handleDeleteAppointment}\r\n\t\t\t\t\tonSubmit={this.handleSubmitAppointment} />\r\n\t\t\t\t<Snackbar\r\n\t\t\t\t\topen={snackbarOpen}\r\n\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t\tautoHideDuration={3000}\r\n\t\t\t\t\tmessage=\"Agenda copiada\"\r\n\t\t\t\t/>\t\t\t\r\n\t\t\t<Grid container spacing={2} style={{ \"height\": \"500px\" }}>\r\n\t\t\t\t<Grid item xs={12} style={{ \"height\": \"500px\" }}>\r\n\t\t\t\t\t<Appointments\r\n\t\t\t\t\t\tappointments={appointments}\r\n\t\t\t\t\t\tasistentes={asistentes}\r\n\t\t\t\t\t\tejecutivos={ejecutivos}\r\n\t\t\t\t\t\tonAddAppointment={this.handleClickAddAppointment}\r\n\t\t\t\t\t\tonEditAppointment={this.handleClickEditAppointment}\r\n\t\t\t\t\t/>\t\t\t\t\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item xd={12}>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\tjustifyContent=\"flex-end\"\r\n\t\t\t\t\t\talignItems=\"center\"\t\t\t\t\t\t\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button style={{ \"margin-top\": \"5px\" }} onClick={this.handleClickExport}>\r\n\t\t\t\t\t\t\tExportar\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t\t</Box>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AppointmentsPanel;","import React from 'react';\r\nimport { Avatar, IconButton, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport { EmojiEvents, MoreVert } from '@material-ui/icons'\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nclass Asistentes extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedAsistente: null\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tthis.refs.list.forceUpdate();\r\n\t\treturn true;\r\n\t}\r\n\r\n\thandleItemDelete = (id) => {\r\n\t\tthis.props.onDelete(id);\r\n\t}\r\n\r\n\thandleItemEdit = (id) => {\r\n\t\tthis.props.onEdit(id);\r\n\t}\r\n\r\n\thandleItemSelect = (id) => {\r\n\t\tconst selectedAsistente = this.props.asistentes.find(asistente => asistente.id === id);\r\n\t\tthis.setState({ selectedAsistente: selectedAsistente });\r\n\t\tthis.props.onSelect(selectedAsistente);\r\n\t\tthis.refs.list.forceUpdate();\r\n\t}\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tthis.props.onSendSchedule(id);\r\n\t}\r\n\r\n\trenderRow = (props) => {\r\n\t\tconst { index, style } = props;\r\n\t\tconst asistente = this.props.asistentes[index];\r\n\t\tconst { selectedAsistente } = this.state;\r\n\t\treturn (\r\n\t\t\t<Asistente\r\n\t\t\t\tkey={asistente.id}\r\n\t\t\t\tid={asistente.id}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tname={asistente.name}\r\n\t\t\t\tideatoonProjects={asistente.ideatoonProjects}\r\n\t\t\t\tisSelected={asistente.id === selectedAsistente?.id}\r\n\t\t\t\tstudio={asistente.studio}\r\n\t\t\t\ttimezone={asistente.timezone}\r\n\t\t\t\tonDelete={this.handleItemDelete}\r\n\t\t\t\tonEdit={this.handleItemEdit}\r\n\t\t\t\tonSelect={this.handleItemSelect}\r\n\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { asistentes } = this.props;\r\n\t\treturn (\r\n\t\t\t<FixedSizeList\r\n\t\t\t\tref='list'\r\n\t\t\t\titemSize={80}\r\n\t\t\t\titemCount={asistentes.length}\r\n\t\t\t\theight={400}\r\n\t\t\t>\r\n\t\t\t\t{this.renderRow}\r\n\t\t\t</FixedSizeList>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Asistente extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tanchorEl: null\r\n\t\t}\r\n\t}\r\n\r\n\thandleItemClick = () => {\r\n\t\tthis.props.onSelect(this.props.id);\r\n\t}\r\n\r\n\thandleItemEdit = () => {\r\n\t\tthis.props.onEdit(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleItemDelete = () => {\r\n\t\tthis.props.onDelete(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleMenuOpen = (event) => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget });\r\n\t}\r\n\r\n\thandleMenuClose = () => {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleSendSchedule = () => {\r\n\t\tthis.props.onSendSchedule(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\tdense\r\n\t\t\t\tselected={this.props.isSelected}\r\n\t\t\t\tContainerProps={{ style: this.props.style }}\r\n\t\t\t\tContainerComponent=\"div\"\r\n\t\t\t\tonClick={this.handleItemClick}\r\n\t\t\t>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t{this.props.ideatoonProjects && this.props.ideatoonProjects.length > 0\r\n\t\t\t\t\t\t? <Avatar><EmojiEvents /></Avatar>\r\n\t\t\t\t\t\t: <Avatar></Avatar>\r\n\t\t\t\t\t}\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText primary={this.props.name} primaryTypographyProps={{ noWrap: true }} secondary={\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.studio}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.ideatoonProjects && this.props.ideatoonProjects.length > 0 && 'Ideatoon: ' + this.props.ideatoonProjects.join(', ')}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.timezone ?? 'No timezone'}</Typography>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t<IconButton edge=\"end\" onClick={this.handleMenuOpen}>\r\n\t\t\t\t\t\t<MoreVert />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Menu anchorEl={this.state.anchorEl} keepMounted open={Boolean(this.state.anchorEl)} onClose={this.handleMenuClose}>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemEdit}>Editar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemDelete}>Eliminar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleSendSchedule}>Enviar Agenda</MenuItem>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Asistentes;","import React from 'react';\r\nimport { Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, FormControlLabel, TextField } from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nclass AsistenteInputComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tmoment.locale('es');\r\n\t\tthis.state = AsistenteInputComponent.stateFromProps(props);\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.open === true && state.open === false) {\r\n\t\t\treturn AsistenteInputComponent.stateFromProps(props);\r\n\t\t} else {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stateFromProps = function (props) {\r\n\t\tconst asistente = props.asistente;\r\n\t\treturn {\r\n\t\t\topen: props.open,\r\n\t\t\tid: asistente?.id || null,\r\n\t\t\tname: asistente?.name || '',\r\n\t\t\temail: asistente?.email || '',\r\n\t\t\tideatoonProjects: asistente?.ideatoonProjects || [],\r\n\t\t\tideatoonProjectOptions: props.ideatoonProjects,\r\n\t\t\tlatamRisingStudio: asistente?.latamRisingStudio || false,\r\n\t\t\tlatamTopArtistOrFreelanceTalent: asistente?.latamTopArtistOrFreelanceTalent || false,\r\n\t\t\tnewIPs: asistente?.newIPs || false,\r\n\t\t\tnewIdeas: asistente?.newIdeas || false,\r\n\t\t\tstudio: asistente?.studio || '',\r\n\t\t\ttimezone: asistente?.timezone || '',\r\n\t\t\ttwoD: asistente?.twoD || false,\r\n\t\t\tthreeD: asistente?.threeD || false,\r\n\t\t\ttopStudio: asistente?.topStudio || false\r\n\t\t};\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleCheckedChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.checked });\r\n\t}\r\n\r\n\thandleFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit({\r\n\t\t\tid: this.state.id,\r\n\t\t\tname: this.state.name.trim(),\r\n\t\t\temail: this.state.email.trim(),\r\n\t\t\tideatoonProjects: this.state.ideatoonProjects,\r\n\t\t\tlatamRisingStudio: this.state.latamRisingStudio,\r\n\t\t\tlatamTopArtistOrFreelanceTalent: this.state.latamTopArtistOrFreelanceTalent,\r\n\t\t\tnewIPs: this.state.newIPs,\r\n\t\t\tnewIdeas: this.state.newIdeas,\r\n\t\t\tstudio: this.state.studio,\r\n\t\t\ttimezone: this.state.timezone,\r\n\t\t\ttwoD: this.state.twoD,\r\n\t\t\tthreeD: this.state.threeD,\r\n\t\t\ttopStudio: this.state.topStudio\r\n\t\t});\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleValueChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t}\r\n\r\n\thandleMultipleValueChange = (name, value) => {\r\n\t\tthis.setState({ [name]: value });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { name, email, ideatoonProjectOptions, ideatoonProjects, topStudio, latamRisingStudio, latamTopArtistOrFreelanceTalent, newIPs, newIdeas, studio, twoD, threeD, timezone } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog disableBackdropClick={true} open={this.state.open} onClose={this.handleCancel}>\r\n\t\t\t\t<form onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogTitle>Asistente</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField autoFocus fullWidth={true} label=\"Name\" margin=\"dense\" name=\"name\" required type=\"text\" value={name}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Email\" margin=\"dense\" name=\"email\" required type=\"email\" value={email}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Studio name\" margin=\"dense\" name=\"studio\" type=\"text\" value={studio}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tmultiple\r\n\t\t\t\t\t\t\tvalue={ideatoonProjects}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('ideatoonProjects', value)}\r\n\t\t\t\t\t\t\tselectOnFocus\r\n\t\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\t\thandleHomeEndKeys\r\n\t\t\t\t\t\t\toptions={ideatoonProjectOptions}\r\n\t\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Ideatoon project\" margin=\"dense\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tvalue={timezone}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('timezone', value)}\r\n\t\t\t\t\t\t\toptions={moment.tz.names()}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Timezone\" margin=\"dense\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"2D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={twoD} onChange={this.handleCheckedChange} name=\"twoD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"3D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={threeD} onChange={this.handleCheckedChange} name=\"threeD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Top studio\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={topStudio} onChange={this.handleCheckedChange} name=\"topStudio\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Latam rising studio\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={latamRisingStudio} onChange={this.handleCheckedChange} name=\"latamRisingStudio\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"Latam top artist or freelance talent\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={latamTopArtistOrFreelanceTalent} onChange={this.handleCheckedChange} name=\"latamTopArtistOrFreelanceTalent\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"New IPs in development\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIPs} onChange={this.handleCheckedChange} name=\"newIPs\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"New ideas that could become an IP\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIdeas} onChange={this.handleCheckedChange} name=\"newIdeas\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleCancel}>Cancelar</Button>\r\n\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Aceptar</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { AsistenteInputComponent };","import React from 'react';\r\nimport { Box, Table, TableBody, TableCell, TableHead, TableRow } from '@material-ui/core';\r\nimport moment from 'moment-timezone';\r\nimport AppointmentInputComponent from './AppointmentInputComponent'\r\n\r\nclass AppointmentsCalendar extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tconst timezone = 'America/Mexico_City';\r\n\t\tconst rows = [];\r\n\t\tfor (let i = 0; i < 24 * 6; i++) {\r\n\t\t\tconst totalMinutes = 10 * i;\r\n\t\t\tconst isDisplayTimeEnabled = totalMinutes % 60 === 0;\r\n\t\t\tlet displayTime = '';\r\n\t\t\tconst minute = totalMinutes % 60;\r\n\t\t\tconst hour = (totalMinutes - minute) / 60;\r\n\t\t\tif (isDisplayTimeEnabled === true) {\r\n\t\t\t\tif (hour === 0) {\r\n\t\t\t\t\tdisplayTime += '12';\r\n\t\t\t\t} else if (hour < 10) {\r\n\t\t\t\t\tdisplayTime += '0' + hour;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdisplayTime += hour;\r\n\t\t\t\t}\r\n\t\t\t\tif (minute !== 0) {\r\n\t\t\t\t\tdisplayTime += ':';\r\n\t\t\t\t\tif (minute === 0) {\r\n\t\t\t\t\t\tdisplayTime += '00'\r\n\t\t\t\t\t} else if (minute < 10) {\r\n\t\t\t\t\t\tdisplayTime += '0' + minute;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdisplayTime += minute;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst cells = [];\r\n\t\t\tconst firstDay = moment.tz('2020-08-31', timezone);\r\n\t\t\tfor (let day = 0; day < 6; day++) {\r\n\t\t\t\tconst datetime = firstDay.clone().add(day, 'day').add(hour, 'hour').add(minute, 'minute').format();\r\n\t\t\t\tcells.push({ datetime });\r\n\t\t\t}\r\n\t\t\trows.push({ displayTime, hour, cells });\r\n\t\t}\r\n\t\tthis.state = {\r\n\t\t\tinputAppointment: null,\r\n\t\t\tinputAppointmentComponentIsOpened: false,\r\n\t\t\trows: rows,\r\n\t\t\ttimezone: timezone,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tif ((!this.props.ejecutivo && !this.props.asistente) ||\r\n\t\t\t(prevProps.ejecutivo !== this.props.ejecutivo) ||\r\n\t\t\t(prevProps.asistente !== this.props.asistente) || \r\n\t\t\t(prevProps.appointments !== this.props.appointments)) {\r\n\t\t\tthis.clearActiveCells();\r\n\t\t\tthis.clearAppointmentCells();\r\n\t\t}\r\n\t\tif (prevProps.ejecutivo !== this.props.ejecutivo) {\r\n\t\t\tthis.clearAvailableCells();\r\n\t\t\tif (this.props.ejecutivo) {\r\n\t\t\t\tthis.displayAvailability(this.props.ejecutivo.availability);\r\n\t\t\t\tthis.displayEjecutivoAppointments();\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.props.asistente) {\r\n\t\t\tthis.displayAsistenteAppointments();\r\n\t\t}\t\t\r\n\t}\r\n\r\n\tdisplayAvailability(availability) {\r\n\t\tdocument.querySelectorAll('td.calendar-cell').forEach(element => {\r\n\t\t\tavailability.forEach(availability => {\r\n\t\t\t\tif (element.dataset.datetime === availability.datetime) {\r\n\t\t\t\t\telement.classList.add('available');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t}\r\n\r\n\tdisplayAsistenteAppointments() {\r\n\t\tthis.props.appointments.forEach(appointment => {\r\n\t\t\tif (appointment.asistentes.find(asistente => asistente.id === this.props.asistente.id)) {\r\n\t\t\t\tconst calendarCells = Array.from(document.querySelectorAll('td.calendar-cell'));\r\n\t\t\t\tfor (let i = 0; i < appointment.duration / 10; i++) {\r\n\t\t\t\t\tconst datetime = moment(appointment.datetime).add(i * 10, 'minute').format();\r\n\t\t\t\t\tconst calendarCell = calendarCells.find(cell => cell.dataset.datetime === datetime);\r\n\t\t\t\t\tif (calendarCell) {\r\n\t\t\t\t\t\tcalendarCell.setAttribute('data-appointment-id', appointment.id);\r\n\t\t\t\t\t\tcalendarCell.classList.add('appointment');\r\n\t\t\t\t\t\tif (appointment.ejecutivos.length === 0) {\r\n\t\t\t\t\t\t\tcalendarCell.classList.add('extra');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tdisplayEjecutivoAppointments() {\r\n\t\tthis.props.appointments.forEach(appointment => {\r\n\t\t\tif (appointment.ejecutivos.find(ejecutivo => ejecutivo.id === this.props.ejecutivo.id)) {\r\n\t\t\t\tconst calendarCells = Array.from(document.querySelectorAll('td.calendar-cell'));\r\n\t\t\t\tfor (let i = 0; i < appointment.duration / 10; i++) {\r\n\t\t\t\t\tconst datetime = moment(appointment.datetime).add(i * 10, 'minute').format();\r\n\t\t\t\t\tconst calendarCell = calendarCells.find(cell => cell.dataset.datetime === datetime);\r\n\t\t\t\t\tcalendarCell.classList.add('appointment');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tgetAdjacentCells(cell) {\r\n\t\tconst cellMoment = moment(cell.dataset.datetime);\r\n\t\tconst date = cellMoment.format('YYYY-MM-DD');\r\n\t\tconst hour = cellMoment.format('H');\r\n\t\tconst minute = cellMoment.format('m');\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('td.calendar-cell'));\r\n\t\treturn calendarCells.filter(element => {\r\n\t\t\tconst elementMoment = moment(element.dataset.datetime);\r\n\t\t\tconst elementDate = elementMoment.format('YYYY-MM-DD');\r\n\t\t\tconst elementHour = elementMoment.format('H');\r\n\t\t\tconst elementMinute = elementMoment.format('m');\r\n\t\t\tif (elementDate !== date) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (elementHour !== hour) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\tif (minute < 30 && elementMinute < 30) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else if (minute >= 30 && elementMinute >= 30) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t}\r\n\r\n\tgetHeaderCells(cell) {\r\n\t\tconst cellDate = moment(cell.dataset.datetime).format('YYYY-MM-DD');\r\n\t\tconst cellHour = moment(cell.dataset.datetime).format('H');\r\n\t\tconst result = [];\r\n\t\tconst colHeaders = Array.from(document.querySelectorAll('thead > tr > th.calendar-cell'));\r\n\t\tconst colHeader = colHeaders.find(element => element.dataset.date === cellDate);\r\n\t\tresult.push(colHeader);\r\n\t\tconst rowHeaders = Array.from(document.querySelectorAll('tbody > tr > th.calendar-cell'));\r\n\t\tconst rowHeader = rowHeaders.find(element => element.dataset.hour === cellHour);\r\n\t\tresult.push(rowHeader);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tgetInputAvailability() {\r\n\t\tconst availableCalendarCells = Array.from(document.querySelectorAll('td.calendar-cell.available'));\r\n\t\tconst availability = availableCalendarCells.map((element) => {\r\n\t\t\treturn { datetime: element.dataset.datetime }\r\n\t\t});\r\n\t\tavailability.id = this.props.ejecutivo.id;\r\n\t\treturn availability;\r\n\t}\r\n\r\n\tclearActiveCells = () => {\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('.calendar-cell.active'));\r\n\t\tcalendarCells.forEach(element => element.classList.remove('active'));\r\n\t}\r\n\r\n\tclearAppointmentCells = () => {\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('.calendar-cell.appointment'));\r\n\t\tcalendarCells.forEach(element => {\r\n\t\t\telement.removeAttribute('data-appointment-id');\r\n\t\t\telement.classList.remove('appointment');\r\n\t\t});\r\n\t}\r\n\r\n\tclearAvailableCells = () => {\r\n\t\tconst calendarCells = Array.from(document.querySelectorAll('.calendar-cell.available'));\r\n\t\tcalendarCells.forEach(element => element.classList.remove('available'));\r\n\t}\r\n\r\n\thandleClick = (event) => {\r\n\t\tif (this.props.ejecutivo) {\r\n\t\t\tconst adjacentCells = this.getAdjacentCells(event.target);\r\n\t\t\tif (event.target.classList.contains('available') === true) {\r\n\t\t\t\tadjacentCells.forEach(element => element.classList.remove('available'));\r\n\t\t\t} else {\r\n\t\t\t\tadjacentCells.forEach(element => element.classList.add('available'));\r\n\t\t\t}\r\n\t\t\tconst availability = this.getInputAvailability();\r\n\t\t\tthis.props.onSubmitAvailability(availability);\r\n\t\t} else if (this.props.asistente) {\r\n\t\t\tconst appointmentId = event.target.dataset.appointmentId;\r\n\t\t\tif (appointmentId) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tinputAppointment: this.props.appointments.find(appointment => appointment.id === appointmentId),\r\n\t\t\t\t\tinputAppointmentComponentIsOpened: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleDeleteAppointment = (id) => this.props.onDeleteAppointment(id);\t\r\n\r\n\thandleInputAppointmentClose = () => this.setState({ inputAppointmentComponentIsOpened: false });\t\r\n\r\n\thandleMouseOver = (event) => {\r\n\t\tif (!this.props.ejecutivo) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.clearActiveCells();\r\n\t\tconst adjacentCells = this.getAdjacentCells(event.target);\r\n\t\tadjacentCells.forEach(element => element.classList.add('active'));\r\n\t\tconst headerCells = this.getHeaderCells(event.target);\r\n\t\theaderCells.forEach(element => element.classList.add('active'));\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Box>\r\n\t\t\t\t<AppointmentInputComponent\r\n\t\t\t\t\topen={this.state.inputAppointmentComponentIsOpened}\r\n\t\t\t\t\tappointment={this.state.inputAppointment}\r\n\t\t\t\t\tappointments={this.props.appointments}\r\n\t\t\t\t\tonClose={this.handleInputAppointmentClose}\r\n\t\t\t\t\tonDelete={this.handleDeleteAppointment}\r\n\t\t\t\t/>\r\n\t\t\t\t<Table>\r\n\t\t\t\t\t<TableHead>\r\n\t\t\t\t\t\t<TableRow>\r\n\t\t\t\t\t\t\t<TableCell></TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-05\">Sep 5<br />Lunes</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-06\">Sep 6<br />Martes</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-07\">Sep 7<br />Miércoles</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-08\">Sep 8<br />Jueves</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-09\">Sep 9<br />Viernes</TableCell>\r\n\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" align=\"center\" data-date=\"2022-09-10\">Sep 10<br />Sábado</TableCell>\r\n\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t</TableHead>\r\n\t\t\t\t\t<TableBody onMouseLeave={this.clearActiveCells}>\r\n\t\t\t\t\t\t{this.state.rows.map((row, index) => (\r\n\t\t\t\t\t\t\t<TableRow key={index}>\r\n\t\t\t\t\t\t\t\t{row.displayTime.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t<TableCell className=\"calendar-cell\" rowSpan={6} component=\"th\" scope=\"row\" onMouseOver={this.clearActiveCells} data-hour={row.hour}>{row.displayTime}</TableCell>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{row.cells.map((cell, index) => (\r\n\t\t\t\t\t\t\t\t\t<TableCell key={index} className=\"calendar-cell\" onClick={this.handleClick} onMouseOver={this.handleMouseOver} data-datetime={cell.datetime}></TableCell>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</TableRow>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</TableBody>\r\n\t\t\t\t</Table>\r\n\t\t\t</Box>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { AppointmentsCalendar };","import React from 'react';\r\nimport { Box, Card, CardContent, CardHeader, Grid, IconButton, Modal } from '@material-ui/core';\r\nimport { Add } from '@material-ui/icons'\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\nimport Asistentes from './Asistentes'\r\nimport { AsistenteInputComponent } from './AsistenteInputComponent'\r\nimport { AppointmentsCalendar } from './AppointmentsCalendar'\r\nimport { getIdeatoonProjects, sortAlphabeticallyByDatetime } from './Utils'\r\n\r\nclass AsistentesPanel extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tideatoonProjects: getIdeatoonProjects(this.props.asistentes),\r\n\t\t\tinputAsistente: null,\r\n\t\t\tinputAsistenteComponentIsOpened: false,\r\n\t\t\tmodalBody: '',\r\n\t\t\tselectedAsistente: null,\r\n\t\t\tsnackbarOpen: false\r\n\t\t}\r\n\t\tmoment.locale('es');\r\n\t}\r\n\r\n\thandleClickAddAsistente = () => {\r\n\t\tthis.setState({ inputAsistenteComponentIsOpened: true });\r\n\t}\r\n\r\n\thandleDeleteAsistente = (id) => {\r\n\t\tif (this.state.selectedAsistente?.id === id) {\r\n\t\t\tthis.setState({ selectedAsistente: null });\r\n\t\t}\r\n\t\tthis.props.onDeleteAsistente(id);\r\n\t}\r\n\r\n\thandleDeleteAppointment = (id) => this.props.onDeleteAppointment(id);\r\n\r\n\thandleEditAsistente = (id) => {\r\n\t\tconst asistente = this.props.asistentes.find(element => element.id === id);\r\n\t\tthis.setState({\r\n\t\t\tinputAsistente: asistente,\r\n\t\t\tinputAsistenteComponentIsOpened: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleInputAsistenteClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tinputAsistenteComponentIsOpened: false,\r\n\t\t\tinputAsistente: null\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelectAsistente = (asistente) => this.setState({ selectedAsistente: asistente });\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tconst asistente = this.props.asistentes.find(element => element.id === id);\r\n\t\tconst filteredAppointments = this.props.appointments.filter(appointment => appointment.asistentes.find(appointmentAsistente => appointmentAsistente.id === id));\r\n\t\tconst timezone = 'US/Pacific';\r\n\t\tlet localTimezone = 'America/Mexico_City';\r\n\t\tif (asistente.timezone) {\r\n\t\t\tlocalTimezone = asistente.timezone;\r\n\t\t}\r\n\t\tconst appointments = filteredAppointments.sort((a, b) => sortAlphabeticallyByDatetime(a, b));\r\n\t\tlet text = '';\r\n\t\tlet currentDate, currentTime;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (appointment.datetime && appointment.ejecutivos && appointment.asistentes && appointment.duration) {\r\n\r\n\t\t\t\tconst currentDatetime = moment(appointment.datetime);\r\n\t\t\t\tconst date = moment.tz(currentDatetime.format('YYYY-MM-DDTHH:mm'), timezone);\r\n\t\t\t\tif (!currentDate || currentDate !== date.format('dddd DD MMMM')) {\r\n\t\t\t\t\tcurrentDate = date.format('dddd DD MMMM');\r\n\t\t\t\t\tcurrentTime = null;\r\n\t\t\t\t\ttext += currentDate.toUpperCase() + ': ';\r\n\t\t\t\t\tswitch (date.format('ddd')) {\r\n\t\t\t\t\t\tcase 'lun.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/85425291494';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mar.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88445795504';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mié.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/86767091338';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'jue.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/87665492231';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vie.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88943327711';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'sáb.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/83792773099';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttext += '\\r\\n\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentTime || currentTime !== date.format('hh:mm A z (Z)')) {\r\n\t\t\t\t\tcurrentTime = date.format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '    ' + date.tz(localTimezone).format('hh:mm A') + ' | ' + localTimezone;\r\n\t\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\t\ttext += '        Ejecutivos: ' + appointment.ejecutivos.map(ejecutivo => ejecutivo.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (appointment.asistentes.length > 0) {\r\n\t\t\t\t\ttext += '        Asistentes: ' + appointment.asistentes.map(asistente => asistente.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '        Duración: 15min' + '\\r\\n\\r\\n';\r\n\t\t\t} else {\r\n\t\t\t\t//console.out('Error en ' + appointment);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst body = (<Box style={{ \"background-color\": \"white\" }}><textarea rows=\"30\" cols=\"100\">{text}</textarea></Box>);\r\n\t\tthis.setState({ modalBody: body, snackbarOpen: true });\r\n\t}\r\n\r\n\thandleSnackbarClose = () => this.setState({ snackbarOpen: false });\r\n\r\n\thandleSubmitAsistente = (asistente) => this.props.onSubmitAsistente(asistente);\r\n\r\n\trender() {\r\n\t\tconst { appointments, asistentes } = this.props;\r\n\t\tconst { modalBody, selectedAsistente, snackbarOpen } = this.state;\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<AsistenteInputComponent\r\n\t\t\t\t\topen={this.state.inputAsistenteComponentIsOpened}\r\n\t\t\t\t\tideatoonProjects={this.state.ideatoonProjects}\r\n\t\t\t\t\tasistente={this.state.inputAsistente}\r\n\t\t\t\t\tonClose={this.handleInputAsistenteClose}\r\n\t\t\t\t\tonSubmit={this.handleSubmitAsistente}\r\n\t\t\t\t/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={snackbarOpen}\r\n\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t{modalBody}\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Grid item sm={4} md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\ttitle={`Asistentes (${asistentes.length})`}\r\n\t\t\t\t\t\t\taction={\r\n\t\t\t\t\t\t\t\t<IconButton edget=\"end\" onClick={this.handleClickAddAsistente}>\r\n\t\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<Asistentes\r\n\t\t\t\t\t\t\t\tasistentes={asistentes}\r\n\t\t\t\t\t\t\t\tonDelete={this.handleDeleteAsistente}\r\n\t\t\t\t\t\t\t\tonEdit={this.handleEditAsistente}\r\n\t\t\t\t\t\t\t\tonSelect={this.handleSelectAsistente}\r\n\t\t\t\t\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item sm={8} md={8}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader title=\"Calendario\" />\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<AppointmentsCalendar\r\n\t\t\t\t\t\t\t\tappointments={appointments}\r\n\t\t\t\t\t\t\t\tasistente={selectedAsistente}\r\n\t\t\t\t\t\t\t\tonDeleteAppointment={this.handleDeleteAppointment}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AsistentesPanel;","import React from 'react';\r\nimport { Avatar, IconButton, ListItem, ListItemAvatar, ListItemText, ListItemSecondaryAction, Menu, MenuItem, Typography } from '@material-ui/core';\r\nimport { Gavel, MoreVert } from '@material-ui/icons'\r\nimport { FixedSizeList } from 'react-window';\r\n\r\nclass Ejecutivos extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tselectedEjecutivo: null\r\n\t\t}\r\n\t}\r\n\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n\t\tthis.refs.list.forceUpdate();\r\n\t\treturn true;\r\n\t}\r\n\r\n\thandleItemDelete = (id) => {\r\n\t\tthis.props.onDelete(id);\r\n\t}\r\n\r\n\thandleItemEdit = (id) => {\r\n\t\tthis.props.onEdit(id);\r\n\t}\r\n\r\n\thandleItemSelect = (id) => {\r\n\t\tconst selectedEjecutivo = this.props.ejecutivos.find(ejecutivo => ejecutivo.id === id);\r\n\t\tthis.setState({ selectedEjecutivo: selectedEjecutivo });\r\n\t\tthis.props.onSelect(selectedEjecutivo);\r\n\t\tthis.refs.list.forceUpdate();\t\t\r\n\t}\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tthis.props.onSendSchedule(id);\r\n\t}\r\n\r\n\trenderRow = (props) => {\r\n\t\tconst { index, style } = props;\r\n\t\tconst ejecutivo = this.props.ejecutivos[index];\r\n\t\tconst { selectedEjecutivo } = this.state;\r\n\t\treturn (\r\n\t\t\t<Ejecutivo\r\n\t\t\t\tkey={index}\r\n\t\t\t\tid={ejecutivo.id}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tname={ejecutivo.name}\r\n\t\t\t\tdescription={`${ejecutivo.positionAtStudio} @ ${ejecutivo.studio}`}\r\n\t\t\t\tavatar={ejecutivo.headshotPhoto}\r\n\t\t\t\ttimezone={ejecutivo.timezone}\r\n\t\t\t\tisJury={ejecutivo.isJury}\r\n\t\t\t\tisSelected={ejecutivo.id === selectedEjecutivo?.id}\r\n\t\t\t\tonDelete={this.handleItemDelete}\r\n\t\t\t\tonEdit={this.handleItemEdit}\r\n\t\t\t\tonSelect={this.handleItemSelect}\r\n\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { ejecutivos } = this.props;\r\n\t\treturn (\r\n\t\t\t<FixedSizeList\r\n\t\t\t\tref='list'\r\n\t\t\t\titemSize={80}\r\n\t\t\t\titemCount={ejecutivos.length}\r\n\t\t\t\theight={400}\r\n\t\t\t>\r\n\t\t\t\t{this.renderRow}\r\n\t\t\t</FixedSizeList>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass Ejecutivo extends React.PureComponent {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tanchorEl: null\r\n\t\t}\r\n\t}\r\n\r\n\thandleItemClick = () => {\r\n\t\tthis.props.onSelect(this.props.id);\r\n\t}\r\n\r\n\thandleItemEdit = () => {\r\n\t\tthis.props.onEdit(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleItemDelete = () => {\r\n\t\tthis.props.onDelete(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleMenuOpen = (event) => {\r\n\t\tthis.setState({ anchorEl: event.currentTarget });\r\n\t}\r\n\r\n\thandleMenuClose = () => {\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\thandleSendSchedule = () => {\r\n\t\tthis.props.onSendSchedule(this.props.id);\r\n\t\tthis.setState({ anchorEl: null });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ListItem\r\n\t\t\t\tbutton\r\n\t\t\t\tdense\r\n\t\t\t\tselected={this.props.isSelected}\r\n\t\t\t\tContainerProps={{ style: this.props.style }}\r\n\t\t\t\tContainerComponent=\"div\"\r\n\t\t\t\tonClick={this.handleItemClick}\r\n\t\t\t>\r\n\t\t\t\t{this.props.isJury\r\n\t\t\t\t\t? <ListItemAvatar><Avatar><Gavel /></Avatar></ListItemAvatar>\r\n\t\t\t\t\t: <ListItemAvatar><Avatar alt={this.props.name} /></ListItemAvatar>}\r\n\t\t\t\t<ListItemText primary={this.props.name} secondary={\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.description}</Typography>\r\n\t\t\t\t\t\t<Typography variant=\"body2\" noWrap>{this.props.timezone ?? 'No timezone'}</Typography>\t\t\t\t\t\t\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t} />\r\n\t\t\t\t<ListItemSecondaryAction>\r\n\t\t\t\t\t<IconButton edge=\"end\" onClick={this.handleMenuOpen}>\r\n\t\t\t\t\t\t<MoreVert />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Menu anchorEl={this.state.anchorEl} open={Boolean(this.state.anchorEl)} onClose={this.handleMenuClose}>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemEdit}>Editar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleItemDelete}>Eliminar</MenuItem>\r\n\t\t\t\t\t\t<MenuItem onClick={this.handleSendSchedule}>Enviar Agenda</MenuItem>\r\n\t\t\t\t\t</Menu>\r\n\t\t\t\t</ListItemSecondaryAction>\r\n\t\t\t</ListItem>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Ejecutivos;","import React from 'react';\r\nimport { Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, FormControl, FormControlLabel, FormLabel, FormGroup, TextField } from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\n\r\nclass EjecutivoInputComponent extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tmoment.locale('es');\r\n\t\tthis.state = EjecutivoInputComponent.stateFromProps(props);\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\tif (props.open === true && state.open === false) {\r\n\t\t\treturn EjecutivoInputComponent.stateFromProps(props);\r\n\t\t} else {\r\n\t\t\treturn state;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stateFromProps = function (props) {\r\n\t\tconst ejecutivo = props.ejecutivo;\r\n\t\treturn {\r\n\t\t\topen: props.open || false,\r\n\t\t\tid: ejecutivo?.id || null,\r\n\t\t\tname: ejecutivo?.name || '',\r\n\t\t\tpositionAtStudio: ejecutivo?.positionAtStudio || '',\r\n\t\t\theadshotPhoto: ejecutivo?.headshotPhoto || '',\r\n\t\t\tstudio: ejecutivo?.studio || '',\r\n\t\t\temail: ejecutivo?.email || '',\r\n\t\t\tisJury: ejecutivo?.isJury || false,\r\n\t\t\tlatamRisingStudios: ejecutivo?.latamRisingStudios || false,\r\n\t\t\tlatamTopArtistsAndFreelanceTalent: ejecutivo?.latamTopArtistsAndFreelanceTalent || false,\r\n\t\t\tnewIPs: ejecutivo?.newIPs || false,\r\n\t\t\tnewIdeas: ejecutivo?.newIdeas || false,\r\n\t\t\ttimezone: ejecutivo?.timezone || '',\r\n\t\t\ttwoD: ejecutivo?.twoD || false,\r\n\t\t\tthreeD: ejecutivo?.threeD || false,\r\n\t\t\ttopStudios: ejecutivo?.topStudios || false\r\n\t\t};\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t};\r\n\r\n\thandleCheckedChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.checked });\r\n\t}\r\n\r\n\thandleFormSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.onSubmit({\r\n\t\t\tid: this.state.id,\r\n\t\t\tname: this.state.name.trim(),\r\n\t\t\tpositionAtStudio: this.state.positionAtStudio.trim(),\r\n\t\t\theadshotPhoto: this.state.headshotPhoto.trim(),\r\n\t\t\temail: this.state.email.trim(),\r\n\t\t\tstudio: this.state.studio.trim(),\r\n\t\t\tisJury: this.state.isJury,\r\n\t\t\tlatamRisingStudios: this.state.latamRisingStudios,\r\n\t\t\tlatamTopArtistsAndFreelanceTalent: this.state.latamTopArtistsAndFreelanceTalent,\r\n\t\t\tnewIPs: this.state.newIPs,\r\n\t\t\tnewIdeas: this.state.newIdeas,\r\n\t\t\ttopStudios: this.state.topStudios,\r\n\t\t\ttimezone: this.state.timezone || '',\r\n\t\t\ttwoD: this.state.twoD,\r\n\t\t\tthreeD: this.state.threeD\r\n\t\t});\r\n\t\tthis.setState({ open: false });\r\n\t\tthis.props.onClose();\r\n\t}\r\n\r\n\thandleValueChange = (event) => {\r\n\t\tthis.setState({ [event.target.name]: event.target.value });\r\n\t}\r\n\r\n\thandleMultipleValueChange = (name, value) => {\r\n\t\tthis.setState({ [name]: value });\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { name, positionAtStudio, email, headshotPhoto, studio, isJury, topStudios, latamRisingStudios, latamTopArtistsAndFreelanceTalent, newIPs, newIdeas, twoD, threeD, timezone } = this.state;\r\n\t\treturn (\r\n\t\t\t<Dialog disableBackdropClick={true} open={this.state.open} onClose={this.handleCancel}>\r\n\t\t\t\t<form onSubmit={this.handleFormSubmit}>\r\n\t\t\t\t\t<DialogTitle>Ejecutivo</DialogTitle>\r\n\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t<TextField autoFocus fullWidth={true} label=\"Name\" margin=\"dense\" name=\"name\" required type=\"text\" value={name}\r\n\t\t\t\t\t\t\tonChange={(event) => this.handleValueChange(event)} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Position at studio\" margin=\"dense\" name=\"positionAtStudio\" required type=\"text\" value={positionAtStudio}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Email\" margin=\"dense\" name=\"email\" required type=\"email\" value={email}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Headshot photo\" margin=\"dense\" name=\"headshotPhoto\" type=\"text\" value={headshotPhoto}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<TextField fullWidth={true} label=\"Studio name\" margin=\"dense\" name=\"studio\" type=\"text\" value={studio}\r\n\t\t\t\t\t\t\tonChange={this.handleValueChange} />\r\n\t\t\t\t\t\t<FormControlLabel label=\"Is Jury?\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={isJury} onChange={this.handleCheckedChange} name=\"isJury\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\tvalue={timezone}\r\n\t\t\t\t\t\t\tonChange={(_event, value) => this.handleMultipleValueChange('timezone', value)}\r\n\t\t\t\t\t\t\toptions={moment.tz.names()}\r\n\t\t\t\t\t\t\tfilterSelectedOptions\r\n\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t<TextField {...params} label=\"Timezone\" margin=\"dense\" />\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"2D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={twoD} onChange={this.handleCheckedChange} name=\"twoD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControlLabel label=\"3D\"\r\n\t\t\t\t\t\t\tcontrol={<Checkbox checked={threeD} onChange={this.handleCheckedChange} name=\"threeD\" />}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<FormControl component=\"fieldset\" margin=\"dense\" fullWidth={true}>\r\n\t\t\t\t\t\t\t<FormLabel component=\"legend\">Interests in the market</FormLabel>\r\n\t\t\t\t\t\t\t<FormGroup>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Meet with with top studios\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={topStudios} onChange={this.handleCheckedChange} name=\"topStudios\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Meet with the latam rising studios\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={latamRisingStudios} onChange={this.handleCheckedChange} name=\"latamRisingStudios\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Meet with latam top artists & freelance talent\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={latamTopArtistsAndFreelanceTalent} onChange={this.handleCheckedChange} name=\"latamTopArtistsAndFreelanceTalent\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Find new IPs in development\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIPs} onChange={this.handleCheckedChange} name=\"newIPs\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<FormControlLabel label=\"Find new ideas that could become an IP\"\r\n\t\t\t\t\t\t\t\t\tcontrol={<Checkbox checked={newIdeas} onChange={this.handleCheckedChange} name=\"newIdeas\" />}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</FormGroup>\r\n\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t<Button onClick={this.handleCancel}>Cancelar</Button>\r\n\t\t\t\t\t\t<Button type=\"submit\" color=\"primary\">Aceptar</Button>\r\n\t\t\t\t\t</DialogActions>\r\n\t\t\t\t</form>\r\n\t\t\t</Dialog>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport { EjecutivoInputComponent };","import React from 'react';\r\nimport { Box, Button, ButtonGroup, Card, CardContent, CardHeader, Grid, IconButton, Modal } from '@material-ui/core';\r\nimport { Add } from '@material-ui/icons'\r\nimport moment from 'moment-timezone';\r\nimport 'moment/locale/es';\r\nimport Ejecutivos from './Ejecutivos'\r\nimport { EjecutivoInputComponent } from './EjecutivoInputComponent'\r\nimport { AppointmentsCalendar } from './AppointmentsCalendar'\r\nimport { sortAlphabeticallyByDatetime } from './Utils'\r\n\r\nclass EjecutivosPanel extends React.Component {\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tinputEjecutivo: null,\r\n\t\t\tinputEjecutivoComponentIsOpened: false,\r\n\t\t\tselectedEjecutivo: null, \r\n\t\t\tmodalBody: '',\t\t\t\r\n\t\t\tsnackbarOpen: false\r\n\t\t}\r\n\t\tmoment.locale('es');\r\n\t}\r\n\r\n\thandleClickAddEjecutivo = () => this.setState({ inputEjecutivoComponentIsOpened: true });\r\n\r\n\thandleClickImport = () => {\r\n\t\t/*for (let i = 0; i < 100; i++) {\r\n\t\t\tconst ejecutivo = {\r\n\t\t\t\tid: uuid(),\r\n\t\t\t\tname: `Ejecutivo ${i + 1}`,\r\n\t\t\t\tpositionAtStudio: `Position ${i + 1}`,\r\n\t\t\t\temail: `${i + 1}@mail.com`\r\n\t\t\t};\r\n\t\t\tstoreEjecutivo(ejecutivo);\r\n\t\t}\r\n\t\tfor (let i = 0; i < 100; i++) {\r\n\t\t\tconst asistente = {\r\n\t\t\t\tid: uuid(),\r\n\t\t\t\tname: `Asistente ${i + 1}`,\r\n\t\t\t\temail: `${i + 1}@mail.com`,\r\n\t\t\t\tstudio: `Estudio ${i + 1}`\r\n\t\t\t};\r\n\t\t\tstoreAsistente(asistente);\r\n\t\t}*/\r\n\t}\r\n\r\n\thandleClickExport = () => {\r\n\t\tlet csvContent = \"data:text/csv;charset=utf-8,\";\r\n\t\tconst headerRow = 'NAME,POSITION AT THE STUDIO,EMAIL,STUDIO NAME,Meet with with top studios,Meet with the latam rising studios,Meet with latam top artists & freelance talent,Find new IPs in development,Find new ideas that could become an IP';\r\n\t\tcsvContent += headerRow + '\\r\\n';\r\n\t\tthis.props.ejecutivos.forEach(ejecutivo => {\r\n\t\t\tconst csvRow = `\"${ejecutivo.name}\",\"${ejecutivo.positionAtStudio}\",\"${ejecutivo.email}\",\"${ejecutivo.studio}\",\"${ejecutivo.topStudios ? 'X' : ''}\",\"${ejecutivo.latamRisingStudios ? 'X' : ''}\",\"${ejecutivo.latamTopArtistsAndFreelanceTalent ? 'X' : ''}\",\"${ejecutivo.newIPs ? 'X' : ''}\",\"${ejecutivo.newIdeas ? 'X' : ''}\"`;\r\n\t\t\tcsvContent += csvRow + '\\r\\n';\r\n\t\t});\r\n\t\tconst encodedUri = encodeURI(csvContent);\r\n\t\twindow.open(encodedUri);\r\n\t}\r\n\r\n\thandleDeleteEjecutivo = (id) => {\r\n\t\tif (this.state.selectedEjecutivo?.id === id) {\r\n\t\t\tthis.setState({ selectedEjecutivo: null });\r\n\t\t}\r\n\t\tthis.props.onDeleteEjecutivo(id);\r\n\t}\r\n\r\n\thandleEditEjecutivo = (id) => {\r\n\t\tconst ejecutivo = this.props.ejecutivos.find(element => element.id === id);\r\n\t\tthis.setState({\r\n\t\t\tinputEjecutivo: ejecutivo,\r\n\t\t\tinputEjecutivoComponentIsOpened: true\r\n\t\t});\r\n\t}\r\n\r\n\thandleInputEjecutivoClose = () => {\r\n\t\tthis.setState({\r\n\t\t\tinputEjecutivoComponentIsOpened: false,\r\n\t\t\tinputEjecutivo: null\r\n\t\t});\r\n\t}\r\n\r\n\thandleSelectEjecutivo = (ejecutivo) => this.setState({ selectedEjecutivo: ejecutivo });\t\r\n\r\n\thandleSendSchedule = (id) => {\r\n\t\tconst ejecutivo = this.props.ejecutivos.find(element => element.id === id);\r\n\t\tconst filteredAppointments = this.props.appointments.filter(appointment => appointment.ejecutivos.find(appointmentEjecutivo => appointmentEjecutivo.id === ejecutivo.id));\r\n\t\tconst timezone = 'US/Pacific';\r\n\t\tlet localTimezone = 'America/Mexico_City';\r\n\t\tif (ejecutivo.timezone) {\r\n\t\t\tlocalTimezone = ejecutivo.timezone;\r\n\t\t}\r\n\t\tconst appointments = filteredAppointments.sort((a, b) => sortAlphabeticallyByDatetime(a, b));\r\n\t\tlet text = '';\r\n\t\tlet currentDate, currentTime;\r\n\t\tfor (const appointment of appointments) {\r\n\t\t\tif (appointment.datetime && appointment.ejecutivos && appointment.asistentes && appointment.duration) {\r\n\r\n\t\t\t\tconst currentDatetime = moment(appointment.datetime);\r\n\t\t\t\tconst date = moment.tz(currentDatetime.format('YYYY-MM-DDTHH:mm'), timezone);\r\n\t\t\t\tif (!currentDate || currentDate !== date.format('dddd DD MMMM')) {\r\n\t\t\t\t\tcurrentDate = date.format('dddd DD MMMM');\r\n\t\t\t\t\tcurrentTime = null;\r\n\t\t\t\t\ttext += currentDate.toUpperCase() + ': ';\r\n\t\t\t\t\tswitch(date.format('ddd')) {\r\n\t\t\t\t\t\tcase 'lun.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/85425291494';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mar.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88445795504';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'mié.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/86767091338';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'jue.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/87665492231';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'vie.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/88943327711';\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase 'sáb.':\r\n\t\t\t\t\t\t\ttext += 'https://us02web.zoom.us/j/83792773099';\r\n\t\t\t\t\t\t\tbreak;\t\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttext += '\\r\\n\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (!currentTime || currentTime !== date.format('hh:mm A z (Z)')) {\r\n\t\t\t\t\tcurrentTime = date.format('hh:mm A z (Z)');\r\n\t\t\t\t\ttext += '    ' + date.tz(localTimezone).format('hh:mm A') + ' | ' + localTimezone;\r\n\t\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '\\r\\n';\r\n\t\t\t\tif (appointment.ejecutivos.length > 0) {\r\n\t\t\t\t\ttext += '        Ejecutivos: ' + appointment.ejecutivos.map(ejecutivo => ejecutivo.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\tif (appointment.asistentes.length > 0) {\r\n\t\t\t\t\ttext += '        Asistentes: ' + appointment.asistentes.map(asistente => asistente.name).join(' | ') + '\\r\\n';\r\n\t\t\t\t}\r\n\t\t\t\ttext += '        Duración: 15min' + '\\r\\n\\r\\n';\r\n\t\t\t} else {\r\n\t\t\t\t//console.out('Error en ' + appointment);\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst body = (<Box style={{ \"background-color\": \"white\" }}><textarea rows=\"30\" cols=\"100\">{text}</textarea></Box>);\r\n\t\tthis.setState({ modalBody: body, snackbarOpen: true });\r\n\t}\r\n\r\n\thandleSnackbarClose = () => this.setState({ snackbarOpen: false });\r\n\r\n\thandleSubmitAvailability = availability => this.props.onSubmitAvailability(availability);\r\n\r\n\thandleSubmitEjecutivo = ejecutivo => this.props.onSubmitEjecutivo(ejecutivo);\t\r\n\r\n\trender() {\r\n\t\tconst { appointments, ejecutivos } = this.props;\r\n\t\tconst { inputEjecutivo, inputEjecutivoComponentIsOpened, modalBody, selectedEjecutivo, snackbarOpen } = this.state;\r\n\t\treturn (\r\n\t\t\t<Grid container spacing={2}>\r\n\t\t\t\t<EjecutivoInputComponent\r\n\t\t\t\t\topen={inputEjecutivoComponentIsOpened}\r\n\t\t\t\t\tejecutivo={inputEjecutivo}\r\n\t\t\t\t\tonClose={this.handleInputEjecutivoClose}\r\n\t\t\t\t\tonSubmit={this.handleSubmitEjecutivo}\r\n\t\t\t\t/>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\topen={snackbarOpen}\r\n\t\t\t\t\tonClose={this.handleSnackbarClose}\r\n\t\t\t\t>\r\n\t\t\t\t\t{modalBody}\r\n\t\t\t\t</Modal>\r\n\t\t\t\t<Grid item sm={4} md={4}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\ttitle={`Ejecutivos (${ejecutivos.length})`}\r\n\t\t\t\t\t\t\taction={\r\n\t\t\t\t\t\t\t\t<IconButton edget=\"end\" onClick={this.handleClickAddEjecutivo}>\r\n\t\t\t\t\t\t\t\t\t<Add />\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<Ejecutivos\r\n\t\t\t\t\t\t\t\tejecutivos={ejecutivos}\r\n\t\t\t\t\t\t\t\tonDelete={this.handleDeleteEjecutivo}\r\n\t\t\t\t\t\t\t\tonEdit={this.handleEditEjecutivo}\r\n\t\t\t\t\t\t\t\tonSelect={this.handleSelectEjecutivo}\r\n\t\t\t\t\t\t\t\tonSendSchedule={this.handleSendSchedule}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t<Box\r\n\t\t\t\t\t\tdisplay=\"flex\"\r\n\t\t\t\t\t\tjustifyContent=\"flex-end\"\r\n\t\t\t\t\t\talignItems=\"center\"\r\n\t\t\t\t\t\tstyle={{ \"margin-top\": \"5px\" }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ButtonGroup variant=\"text\">\r\n\t\t\t\t\t\t\t{ false && <Button onClick={this.handleClickImport}>Importar</Button> }\r\n\t\t\t\t\t\t\t<Button onClick={this.handleClickExport}>Exportar</Button>\r\n\t\t\t\t\t\t</ButtonGroup>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t</Grid>\r\n\t\t\t\t<Grid item sm={8} md={8}>\r\n\t\t\t\t\t<Card>\r\n\t\t\t\t\t\t<CardHeader title=\"Calendario\" />\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<AppointmentsCalendar\r\n\t\t\t\t\t\t\t\tappointments={appointments}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tejecutivo={selectedEjecutivo}\r\n\t\t\t\t\t\t\t\tonSubmitAvailability={this.handleSubmitAvailability}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default EjecutivosPanel;","import { openDB } from 'idb';\r\n\r\nasync function getOpenDb() {\r\n\tconst db = await openDB('pixelatl', 1, {\r\n\t\tupgrade(db) {\r\n\t\t\tif (db.objectStoreNames.contains('asistentes') === false) {\r\n\t\t\t\tdb.createObjectStore('asistentes', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t\tif (db.objectStoreNames.contains('ejecutivos') === false) {\r\n\t\t\t\tdb.createObjectStore('ejecutivos', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t\tif (db.objectStoreNames.contains('availability') === false) {\r\n\t\t\t\tdb.createObjectStore('availability', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t\tif (db.objectStoreNames.contains('appointments') === false) {\r\n\t\t\t\tdb.createObjectStore('appointments', { keyPath: 'id' });\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\treturn db;\r\n}\r\n\r\nasync function deleteAppointment(id) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.delete('appointments', id);\r\n}\r\n\r\nasync function deleteAsistente(id) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.delete('asistentes', id);\r\n}\r\n\r\nasync function deleteEjecutivo(id) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.delete('ejecutivos', id);\r\n\tawait db.delete('availability', id);\r\n}\r\n\r\nasync function getAppointments() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('appointments');\r\n}\r\n\r\nasync function getAvailability() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('availability');\r\n}\r\n\r\nasync function getAsistentes() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('asistentes');\r\n}\r\n\r\nasync function getEjecutivos() {\r\n\tconst db = await getOpenDb();\r\n\treturn await db.getAll('ejecutivos');\r\n}\r\n\r\nasync function storeAsistente(asistente) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('asistentes', asistente);\r\n}\r\n\r\nasync function storeAppointment(appointment) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('appointments', appointment);\r\n}\r\n\r\nasync function storeAvailability(availability) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('availability', availability);\r\n}\r\n\r\nasync function storeEjecutivo(ejecutivo) {\r\n\tconst db = await getOpenDb();\r\n\tawait db.put('ejecutivos', ejecutivo);\r\n}\r\n\r\nasync function cleanAppointments() {\r\n\tconst db = await getOpenDb();\r\n\tconst store = db.transaction('appointments', 'readwrite').store;\r\n\tlet cursor = await store.openCursor();\r\n\twhile (cursor) {\r\n\t\tconsole.log(cursor.key, cursor.value);\r\n\t\tconst appointment = cursor.value;\r\n\t\tconst asistentes = appointment.asistentes;\r\n\t\tconst ejecutivos = appointment.ejecutivos;\r\n\t\tif (asistentes) {\r\n\t\t\tfor (const asistente of asistentes) {\r\n\t\t\t\tif (asistente.appointments) {\r\n\t\t\t\t\tdelete asistente.appointments;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (ejecutivos) {\r\n\t\t\tfor (const ejecutivo of ejecutivos) {\r\n\t\t\t\tif (ejecutivo.appointments) {\r\n\t\t\t\t\tdelete ejecutivo.appointments;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tawait store.put(appointment);\r\n\t\tcursor = await cursor.continue();\r\n\t}\r\n}\r\n\r\nexport { cleanAppointments }\r\nexport { deleteAppointment, getAppointments, storeAppointment }\r\nexport { getAvailability, storeAvailability }\r\nexport { deleteEjecutivo, getEjecutivos, storeEjecutivo };\r\nexport { deleteAsistente, getAsistentes, storeAsistente };","import React from 'react';\nimport { AppBar, Box, Container, Paper, Tabs, Tab, Toolbar, Typography } from '@material-ui/core';\nimport { v4 as uuid } from 'uuid';\nimport AppointmentsPanel from './AppointmentsPanel'\nimport AsistentesPanel from './AsistentesPanel'\nimport EjecutivosPanel from './EjecutivosPanel'\nimport { getAvailability, getAppointments, getAsistentes, getEjecutivos } from './Repository';\nimport { deleteEjecutivo, storeEjecutivo } from './Repository'\nimport { deleteAsistente, storeAsistente } from './Repository'\nimport { cleanAppointments, deleteAppointment, storeAppointment } from './Repository'\nimport { storeAvailability } from './Repository'\nimport { sortAlphabeticallyByName } from './Utils'\n\nclass App extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tappointments: [],\n\t\t\tasistentes: [],\n\t\t\tejecutivos: [],\n\t\t\ttabValue: 0\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\n\t\t//cleanAppointments();\n\n\t\tconst promises = [];\n\t\tpromises.push(getAppointments());\n\t\tpromises.push(getAsistentes());\n\t\tpromises.push(getAvailability());\n\t\tpromises.push(getEjecutivos());\n\t\tPromise.all(promises).then(values => {\n\n\t\t\tconst appointments = values[0];\n\t\t\tconst asistentes = values[1];\n\t\t\tconst availability = values[2];\n\t\t\tconst ejecutivos = values[3];\n\n\t\t\tasistentes.sort((a, b) => sortAlphabeticallyByName(a, b));\n\t\t\tejecutivos.sort((a, b) => sortAlphabeticallyByName(a, b));\n\n\t\t\tfor (const ejecutivo of ejecutivos) {\t\t\t\t\n\t\t\t\tconst ejecutivoAvailability = availability.find(availability =>\n\t\t\t\t\tavailability.id === ejecutivo.id\n\t\t\t\t);\n\t\t\t\tejecutivo.availability = ejecutivoAvailability ?? [];\n\t\t\t}\n\n\t\t\tthis.setState({\n\t\t\t\tappointments: appointments,\n\t\t\t\tasistentes: asistentes,\n\t\t\t\tejecutivos: ejecutivos\n\t\t\t});\n\t\t});\n\t}\n\n\thandleDeleteAppointment = (id) => {\n\t\tdeleteAppointment(id).then(() => {\n\t\t\tconst appointments = this.state.appointments.filter(appointment => appointment.id !== id);\n\t\t\tthis.setState({ appointments: appointments });\n\t\t});\n\t}\n\n\thandleDeleteAsistente = (id) => {\n\t\tdeleteAsistente(id).then(() => {\n\t\t\tconst asistentes = this.state.asistentes.filter(element => element.id !== id);\n\t\t\tthis.setState({ asistentes: asistentes });\n\t\t});\n\t}\n\n\thandleDeleteEjecutivo = (id) => {\n\t\tdeleteEjecutivo(id).then(() => {\n\t\t\tconst ejecutivos = this.state.ejecutivos.filter(element => element.id !== id);\n\t\t\tthis.setState({ ejecutivos: ejecutivos });\n\t\t});\n\t}\n\n\thandleSubmitAsistente = (asistente) => {\n\t\tlet newAsistente = false;\n\t\tif (!asistente.id) {\n\t\t\tasistente.id = uuid();\n\t\t\tnewAsistente = true;\n\t\t}\n\t\tlet asistentes = this.state.asistentes;\n\t\tstoreAsistente(asistente).then(() => {\n\t\t\tif (newAsistente === false) {\n\t\t\t\tasistentes = asistentes.filter(element => element.id !== asistente.id);\n\t\t\t}\n\t\t\tasistentes.push(asistente);\n\t\t\tasistentes.sort((a, b) => sortAlphabeticallyByName(a, b));\n\t\t\tthis.setState({ asistentes: asistentes });\n\t\t});\n\t}\n\n\thandleSubmitAvailability = (availability) => {\n\t\tstoreAvailability(availability).then(() => {\n\t\t\tconst ejecutivo = this.state.ejecutivos.find(element => element.id === availability.id);\n\t\t\tejecutivo.availability = availability;\n\t\t\tthis.setState({ ejecutivos: this.state.ejecutivos });\n\t\t});\n\t}\n\n\thandleSubmitAppointment = (appointment) => {\n\t\tlet newAppointment = false;\n\t\tif (!appointment.id) {\n\t\t\tappointment.id = uuid();\n\t\t\tnewAppointment = true;\n\t\t}\n\t\tlet appointments = this.state.appointments;\n\t\tstoreAppointment(appointment).then(() => {\n\t\t\tif (newAppointment === false) {\n\t\t\t\tappointments = appointments.filter(element => element.id !== appointment.id);\n\t\t\t}\n\t\t\tappointments.push(appointment);\n\t\t\tthis.setState({ appointments: appointments });\n\t\t});\n\t}\n\n\thandleSubmitEjecutivo = (ejecutivo) => {\n\t\tlet newEjecutivo = false;\n\t\tif (!ejecutivo.id) {\n\t\t\tejecutivo.id = uuid();\n\t\t\tnewEjecutivo = true;\n\t\t\tejecutivo.availability = [];\n\t\t}\n\t\tlet ejecutivos = this.state.ejecutivos;\n\t\tstoreEjecutivo(ejecutivo).then(() => {\n\t\t\tif (newEjecutivo === false) {\n\t\t\t\tejecutivos = ejecutivos.filter(element => element.id !== ejecutivo.id);\n\t\t\t}\t\t\t\n\t\t\tejecutivos.push(ejecutivo);\n\t\t\tejecutivos.sort((a, b) => sortAlphabeticallyByName(a, b));\n\t\t\tthis.setState({ ejecutivos: ejecutivos });\n\t\t});\n\t}\n\n\thandleTabChange = (_event, newValue) => {\n\t\tthis.setState({ tabValue: newValue });\n\t}\n\n\trender() {\n\t\tconst { appointments, asistentes, ejecutivos, tabValue } = this.state;\n\t\treturn (\n\t\t\t<Box>\n\t\t\t\t<AppBar position=\"static\">\n\t\t\t\t\t<Toolbar>\n\t\t\t\t\t\t<Typography variant=\"h6\">Pixelatl - Mercado</Typography>\n\t\t\t\t\t</Toolbar>\n\t\t\t\t</AppBar>\n\t\t\t\t<Container disableGutters={true} maxWidth={false}>\n\t\t\t\t\t<Paper style={{ marginBottom: 10 }}>\n\t\t\t\t\t\t<Tabs\n\t\t\t\t\t\t\tvalue={tabValue}\n\t\t\t\t\t\t\tonChange={this.handleTabChange}\n\t\t\t\t\t\t\tindicatorColor=\"primary\"\n\t\t\t\t\t\t\ttextColor=\"primary\"\n\t\t\t\t\t\t\tcentered\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Tab label=\"EJECUTIVOS\" />\n\t\t\t\t\t\t\t<Tab label=\"ASISTENTES\" />\n\t\t\t\t\t\t\t<Tab label=\"CITAS\" />\n\t\t\t\t\t\t</Tabs>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<TabPanel value={tabValue} index={0}>\n\t\t\t\t\t\t<EjecutivosPanel\n\t\t\t\t\t\t\tappointments={appointments}\n\t\t\t\t\t\t\tejecutivos={ejecutivos}\n\t\t\t\t\t\t\tonDeleteEjecutivo={this.handleDeleteEjecutivo}\n\t\t\t\t\t\t\tonSubmitAvailability={this.handleSubmitAvailability}\n\t\t\t\t\t\t\tonSubmitEjecutivo={this.handleSubmitEjecutivo}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={tabValue} index={1}>\n\t\t\t\t\t\t<AsistentesPanel\n\t\t\t\t\t\t\tasistentes={asistentes}\n\t\t\t\t\t\t\tappointments={appointments}\n\t\t\t\t\t\t\tonDeleteAppointment={this.handleDeleteAppointment}\n\t\t\t\t\t\t\tonDeleteAsistente={this.handleDeleteAsistente}\n\t\t\t\t\t\t\tonSubmitAsistente={this.handleSubmitAsistente}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t\t<TabPanel value={tabValue} index={2}>\n\t\t\t\t\t\t<AppointmentsPanel\n\t\t\t\t\t\t\tappointments={appointments}\n\t\t\t\t\t\t\tasistentes={asistentes}\n\t\t\t\t\t\t\tejecutivos={ejecutivos}\n\t\t\t\t\t\t\tonDeleteAppointment={this.handleDeleteAppointment}\n\t\t\t\t\t\t\tonSubmitAppointment={this.handleSubmitAppointment}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</TabPanel>\n\t\t\t\t</Container>\n\t\t\t</Box>\n\t\t)\n\t}\n}\n\nfunction TabPanel(props) {\n\tconst { children, value, index, ...other } = props;\n\treturn (\n\t\t<div\n\t\t\trole=\"tabpanel\"\n\t\t\thidden={value !== index}\n\t\t\tid={`full-width-tabpanel-${index}`}\n\t\t\t{...other}\n\t\t>\n\t\t\t{value === index && (\n\t\t\t\t<Box>\n\t\t\t\t\t{children}\n\t\t\t\t</Box>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.querySelector('#root'),\r\n);"],"sourceRoot":""}